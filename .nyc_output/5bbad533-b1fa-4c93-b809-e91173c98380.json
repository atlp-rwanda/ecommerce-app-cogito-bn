{"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/index.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/index.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":14},"end":{"line":12,"column":42}},"8":{"start":{"line":13,"column":14},"end":{"line":13,"column":64}},"9":{"start":{"line":14,"column":10},"end":{"line":14,"column":36}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":28}},"11":{"start":{"line":16,"column":11},"end":{"line":16,"column":27}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":28}},"13":{"start":{"line":18,"column":0},"end":{"line":33,"column":5}},"14":{"start":{"line":19,"column":2},"end":{"line":32,"column":14}},"15":{"start":{"line":20,"column":4},"end":{"line":31,"column":5}},"16":{"start":{"line":20,"column":14},"end":{"line":31,"column":5}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":72}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":81}},"19":{"start":{"line":24,"column":8},"end":{"line":24,"column":26}},"20":{"start":{"line":25,"column":8},"end":{"line":25,"column":48}},"21":{"start":{"line":27,"column":8},"end":{"line":27,"column":43}},"22":{"start":{"line":30,"column":8},"end":{"line":30,"column":31}},"23":{"start":{"line":34,"column":15},"end":{"line":34,"column":18}},"24":{"start":{"line":35,"column":0},"end":{"line":35,"column":30}}},"fnMap":{"0":{"name":"_callee","decl":{"start":{"line":18,"column":117},"end":{"line":18,"column":124}},"loc":{"start":{"line":18,"column":127},"end":{"line":33,"column":1}},"line":18},"1":{"name":"_callee$","decl":{"start":{"line":19,"column":47},"end":{"line":19,"column":55}},"loc":{"start":{"line":19,"column":66},"end":{"line":32,"column":3}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":14},"end":{"line":31,"column":5}},"type":"switch","locations":[{"start":{"line":21,"column":6},"end":{"line":25,"column":48}},{"start":{"line":26,"column":6},"end":{"line":27,"column":43}},{"start":{"line":28,"column":6},"end":{"line":28,"column":13}},{"start":{"line":29,"column":6},"end":{"line":30,"column":31}}],"line":20}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1},"f":{"0":1,"1":2},"b":{"0":[1,1,1,1]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_dotenv","_models","_routes","app","express","dotenv","config","port","process","env","PORT","use","router","listen","_asyncToGenerator2","_regenerator","mark","_callee","wrap","_callee$","_context","prev","next","console","log","CLIENT_ID","FACEBOOK_APP_ID","concat","NODE_ENV","sequelize","authenticate","stop","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport dotenv from 'dotenv';\nimport { sequelize } from './database/models';\nimport router from './routes/routes';\n\nconst app = express();\ndotenv.config();\n\nconst port = process.env.PORT;\n\napp.use(router);\n\napp.listen(port, async () => {\n  console.log(process.env.CLIENT_ID, process.env.FACEBOOK_APP_ID);\n  console.log(`app listening on port ${port}`, process.env.NODE_ENV);\n  await sequelize.authenticate();\n  console.log('Database Connected!');\n});\nexport default app;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAMI,GAAG,GAAG,IAAAC,mBAAO,GAAE;AACrBC,kBAAM,CAACC,MAAM,EAAE;AAEf,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI;AAE7BP,GAAG,CAACQ,GAAG,CAACC,kBAAM,CAAC;AAEfT,GAAG,CAACU,MAAM,CAACN,IAAI,mBAAAO,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAE,SAAAC,QAAA;EAAA,OAAAF,YAAA,YAAAG,IAAA,UAAAC,SAAAC,QAAA;IAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;MAAA;QACfC,OAAO,CAACC,GAAG,CAAChB,OAAO,CAACC,GAAG,CAACgB,SAAS,EAAEjB,OAAO,CAACC,GAAG,CAACiB,eAAe,CAAC;QAC/DH,OAAO,CAACC,GAAG,0BAAAG,MAAA,CAA0BpB,IAAI,GAAIC,OAAO,CAACC,GAAG,CAACmB,QAAQ,CAAC;QAACR,QAAA,CAAAE,IAAA;QAAA,OAC7DO,iBAAS,CAACC,YAAY,EAAE;MAAA;QAC9BP,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAAC;MAAA;QAAA,OAAAJ,QAAA,CAAAW,IAAA;IAAA;EAAA,GAAAd,OAAA;AAAA,CACpC,GAAC;AAAC,IAAAe,QAAA,GACY7B,GAAG;AAAA8B,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ed327957a7f228da24c1a3dc75a850b71ecb3e68","contentHash":"9e25af15e03269125577b68d631cdbe8ffb529f5addf4a276a206d81b56c2312"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/index.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/index.js","statementMap":{"0":{"start":{"line":3,"column":9},"end":{"line":3,"column":22}},"1":{"start":{"line":4,"column":11},"end":{"line":4,"column":26}},"2":{"start":{"line":5,"column":16},"end":{"line":5,"column":36}},"3":{"start":{"line":6,"column":14},"end":{"line":6,"column":32}},"4":{"start":{"line":7,"column":15},"end":{"line":7,"column":40}},"5":{"start":{"line":8,"column":10},"end":{"line":8,"column":47}},"6":{"start":{"line":9,"column":13},"end":{"line":9,"column":71}},"7":{"start":{"line":10,"column":9},"end":{"line":10,"column":11}},"8":{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":74}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":87}},"11":{"start":{"line":17,"column":0},"end":{"line":22,"column":3}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":117}},"13":{"start":{"line":20,"column":14},"end":{"line":20,"column":81}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":25}},"15":{"start":{"line":23,"column":0},"end":{"line":27,"column":3}},"16":{"start":{"line":24,"column":2},"end":{"line":26,"column":3}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":32}},"18":{"start":{"line":28,"column":0},"end":{"line":28,"column":25}},"19":{"start":{"line":29,"column":0},"end":{"line":29,"column":25}},"20":{"start":{"line":30,"column":0},"end":{"line":30,"column":20}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":33},"end":{"line":17,"column":34}},"loc":{"start":{"line":17,"column":49},"end":{"line":19,"column":1}},"line":17},"1":{"name":"(anonymous_1)","decl":{"start":{"line":19,"column":11},"end":{"line":19,"column":12}},"loc":{"start":{"line":19,"column":27},"end":{"line":22,"column":1}},"line":19},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":24},"end":{"line":23,"column":25}},"loc":{"start":{"line":23,"column":45},"end":{"line":27,"column":1}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":10},"end":{"line":8,"column":47}},"type":"binary-expr","locations":[{"start":{"line":8,"column":10},"end":{"line":8,"column":30}},{"start":{"line":8,"column":34},"end":{"line":8,"column":47}}],"line":8},"1":{"loc":{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},"type":"if","locations":[{"start":{"line":12,"column":0},"end":{"line":16,"column":1}},{"start":{"line":12,"column":0},"end":{"line":16,"column":1}}],"line":12},"2":{"loc":{"start":{"line":18,"column":9},"end":{"line":18,"column":116}},"type":"binary-expr","locations":[{"start":{"line":18,"column":9},"end":{"line":18,"column":32}},{"start":{"line":18,"column":36},"end":{"line":18,"column":53}},{"start":{"line":18,"column":57},"end":{"line":18,"column":81}},{"start":{"line":18,"column":85},"end":{"line":18,"column":116}}],"line":18},"3":{"loc":{"start":{"line":24,"column":2},"end":{"line":26,"column":3}},"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":26,"column":3}},{"start":{"line":24,"column":2},"end":{"line":26,"column":3}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1,"12":13,"13":12,"14":12,"15":1,"16":12,"17":12,"18":1,"19":1,"20":1},"f":{"0":13,"1":12,"2":12},"b":{"0":[1,0],"1":[0,1],"2":[13,13,12,12],"3":[12,0]},"inputSourceMap":{"version":3,"names":["fs","require","path","Sequelize","process","basename","__filename","env","NODE_ENV","config","concat","__dirname","db","sequelize","use_env_variable","database","username","password","readdirSync","filter","file","indexOf","slice","forEach","model","join","DataTypes","name","Object","keys","modelName","associate","module","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["index.js"],"sourcesContent":["const fs = require('fs');\nconst path = require('path');\nconst Sequelize = require('sequelize');\nconst process = require('process');\n\nconst basename = path.basename(__filename);\nconst env = process.env.NODE_ENV || 'development';\nconst config = require(`${__dirname}/../config/config.js`)[env];\nconst db = {};\nlet sequelize;\nif (config.use_env_variable) {\n  sequelize = new Sequelize(process.env[config.use_env_variable], config);\n} else {\n  sequelize = new Sequelize(config.database, config.username, config.password, config);\n}\n\nfs.readdirSync(__dirname)\n  .filter(\n    (file) => file.indexOf('.') !== 0\n      && file !== basename\n      && file.slice(-3) === '.js'\n      && file.indexOf('.test.js') === -1,\n  )\n  .forEach((file) => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });\n\nObject.keys(db).forEach((modelName) => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});\ndb.sequelize = sequelize;\ndb.Sequelize = Sequelize;\nmodule.exports = db;\n"],"mappings":";;AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,IAAI,CAAC;AACxB,IAAMC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;AAC5B,IAAME,SAAS,GAAGF,OAAO,CAAC,WAAW,CAAC;AACtC,IAAMG,OAAO,GAAGH,OAAO,CAAC,SAAS,CAAC;AAElC,IAAMI,QAAQ,GAAGH,IAAI,CAACG,QAAQ,CAACC,UAAU,CAAC;AAC1C,IAAMC,GAAG,GAAGH,OAAO,CAACG,GAAG,CAACC,QAAQ,IAAI,aAAa;AACjD,IAAMC,MAAM,GAAGR,OAAO,IAAAS,MAAA,CAAIC,SAAS,0BAAuB,CAACJ,GAAG,CAAC;AAC/D,IAAMK,EAAE,GAAG,CAAC,CAAC;AACb,IAAIC,SAAS;AACb,IAAIJ,MAAM,CAACK,gBAAgB,EAAE;EAC3BD,SAAS,GAAG,IAAIV,SAAS,CAACC,OAAO,CAACG,GAAG,CAACE,MAAM,CAACK,gBAAgB,CAAC,EAAEL,MAAM,CAAC;AACzE,CAAC,MAAM;EACLI,SAAS,GAAG,IAAIV,SAAS,CAACM,MAAM,CAACM,QAAQ,EAAEN,MAAM,CAACO,QAAQ,EAAEP,MAAM,CAACQ,QAAQ,EAAER,MAAM,CAAC;AACtF;AAEAT,EAAE,CAACkB,WAAW,CAACP,SAAS,CAAC,CACtBQ,MAAM,CACL,UAACC,IAAI;EAAA,OAAKA,IAAI,CAACC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,IAC5BD,IAAI,KAAKf,QAAQ,IACjBe,IAAI,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,IACxBF,IAAI,CAACC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAAA,EACrC,CACAE,OAAO,CAAC,UAACH,IAAI,EAAK;EACjB,IAAMI,KAAK,GAAGvB,OAAO,CAACC,IAAI,CAACuB,IAAI,CAACd,SAAS,EAAES,IAAI,CAAC,CAAC,CAACP,SAAS,EAAEV,SAAS,CAACuB,SAAS,CAAC;EACjFd,EAAE,CAACY,KAAK,CAACG,IAAI,CAAC,GAAGH,KAAK;AACxB,CAAC,CAAC;AAEJI,MAAM,CAACC,IAAI,CAACjB,EAAE,CAAC,CAACW,OAAO,CAAC,UAACO,SAAS,EAAK;EACrC,IAAIlB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,EAAE;IAC3BnB,EAAE,CAACkB,SAAS,CAAC,CAACC,SAAS,CAACnB,EAAE,CAAC;EAC7B;AACF,CAAC,CAAC;AACFA,EAAE,CAACC,SAAS,GAAGA,SAAS;AACxBD,EAAE,CAACT,SAAS,GAAGA,SAAS;AACxB6B,MAAM,CAACC,OAAO,GAAGrB,EAAE"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"698ce200bf9b8ccec71191897b7f46ed7f1135a2","contentHash":"e6d45bd51d3418da8e39574304e9e6b06d8b29286ff20ce20fefe3ab934785f8"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/config/config.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/config/config.js","statementMap":{"0":{"start":{"line":3,"column":14},"end":{"line":3,"column":31}},"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}},"2":{"start":{"line":5,"column":0},"end":{"line":44,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_dotenv","require","config","module","exports","development","username","process","env","DATABASE_USERNAME","password","DATABASE_PASSWORD","database","DATABASE","host","DATABASE_HOST","port","DATABASE_PORT","dialect","test","DB_TEST_USERNAME","DB_TEST_PASSWORD","DB_TEST_NAME","DB_TEST_HOST","DB_TEST_PORT","sslmode","dialectOptions","ssl","rejectUnauthorized","production","DB_PROD_USERNAME","DB_PROD_PASSWORD","DB_PROD_NAME","DB_PROD_HOST","DB_PROD_PORT"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/config/","sources":["config.js"],"sourcesContent":["import { config } from 'dotenv';\n\nconfig();\n\nmodule.exports = {\n  development: {\n    username: process.env.DATABASE_USERNAME,\n    password: process.env.DATABASE_PASSWORD,\n    database: process.env.DATABASE,\n    host: process.env.DATABASE_HOST,\n    port: process.env.DATABASE_PORT,\n    dialect: 'postgres',\n  },\n  test: {\n    username: process.env.DB_TEST_USERNAME,\n    password: process.env.DB_TEST_PASSWORD,\n    database: process.env.DB_TEST_NAME,\n    host: process.env.DB_TEST_HOST,\n    port: process.env.DB_TEST_PORT,\n    dialect: 'postgres',\n    sslmode: require,\n    dialectOptions: {\n      ssl: {\n        require: true,\n        rejectUnauthorized: false,\n      },\n    },\n  },\n  production: {\n    username: process.env.DB_PROD_USERNAME,\n    password: process.env.DB_PROD_PASSWORD,\n    database: process.env.DB_PROD_NAME,\n    host: process.env.DB_PROD_HOST,\n    dialect: 'postgres',\n    port: process.env.DB_PROD_PORT,\n    sslmode: require,\n    dialectOptions: {\n      ssl: {\n        require: true,\n        rejectUnauthorized: false,\n      },\n    },\n  },\n};\n"],"mappings":";;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEA,IAAAC,cAAM,GAAE;AAERC,MAAM,CAACC,OAAO,GAAG;EACfC,WAAW,EAAE;IACXC,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,iBAAiB;IACvCC,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACG,iBAAiB;IACvCC,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACK,QAAQ;IAC9BC,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACO,aAAa;IAC/BC,IAAI,EAAET,OAAO,CAACC,GAAG,CAACS,aAAa;IAC/BC,OAAO,EAAE;EACX,CAAC;EACDC,IAAI,EAAE;IACJb,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACY,gBAAgB;IACtCV,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACa,gBAAgB;IACtCT,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACc,YAAY;IAClCR,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACe,YAAY;IAC9BP,IAAI,EAAET,OAAO,CAACC,GAAG,CAACgB,YAAY;IAC9BN,OAAO,EAAE,UAAU;IACnBO,OAAO,EAAExB,OAAO;IAChByB,cAAc,EAAE;MACdC,GAAG,EAAE;QACH1B,OAAO,EAAE,IAAI;QACb2B,kBAAkB,EAAE;MACtB;IACF;EACF,CAAC;EACDC,UAAU,EAAE;IACVvB,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACsB,gBAAgB;IACtCpB,QAAQ,EAAEH,OAAO,CAACC,GAAG,CAACuB,gBAAgB;IACtCnB,QAAQ,EAAEL,OAAO,CAACC,GAAG,CAACwB,YAAY;IAClClB,IAAI,EAAEP,OAAO,CAACC,GAAG,CAACyB,YAAY;IAC9Bf,OAAO,EAAE,UAAU;IACnBF,IAAI,EAAET,OAAO,CAACC,GAAG,CAAC0B,YAAY;IAC9BT,OAAO,EAAExB,OAAO;IAChByB,cAAc,EAAE;MACdC,GAAG,EAAE;QACH1B,OAAO,EAAE,IAAI;QACb2B,kBAAkB,EAAE;MACtB;IACF;EACF;AACF,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f5a328d92bdbec36bae51bb758a849085407e7e9","contentHash":"784bfd64a6b221afe453a997bbf80bfb7334f1caee80502f671e78e52421ffaf"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/cart.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/cart.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":45,"column":2}},"27":{"start":{"line":14,"column":26},"end":{"line":34,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":45}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":35}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":51}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":32,"column":8}},"33":{"start":{"line":33,"column":4},"end":{"line":33,"column":16}},"34":{"start":{"line":35,"column":2},"end":{"line":43,"column":5}},"35":{"start":{"line":44,"column":2},"end":{"line":44,"column":14}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":45,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":26},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":44},"end":{"line":34,"column":3}},"line":14},"6":{"name":"cart","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":17}},"loc":{"start":{"line":17,"column":20},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":33},"end":{"line":31,"column":7}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","cart","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","user_id","STRING","product_id","quantity","INTEGER","date_added","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["cart.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class cart extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  cart.init(\n    {\n      user_id: DataTypes.STRING,\n      product_id: DataTypes.STRING,\n      quantity: DataTypes.INTEGER,\n      date_added: DataTypes.STRING,\n    },\n    {\n      sequelize,\n      modelName: 'cart',\n    },\n  );\n  return cart;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,IAAI,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,IAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,IAAA;IAAA,SAAAA,KAAA;MAAA,IAAAK,gBAAA,mBAAAL,IAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,IAAA;MAAAS,GAAA;MAAAC,KAAA;MACR;AACJ;AACA;AACA;AACA;MACI,SAAAC,UAAiBC,MAAM,EAAE;QACvB;MAAA;IACD;IAAA,OAAAZ,IAAA;EAAA,EARgBL,KAAK;EAUxBK,IAAI,CAACa,IAAI,CACP;IACEC,OAAO,EAAEf,SAAS,CAACgB,MAAM;IACzBC,UAAU,EAAEjB,SAAS,CAACgB,MAAM;IAC5BE,QAAQ,EAAElB,SAAS,CAACmB,OAAO;IAC3BC,UAAU,EAAEpB,SAAS,CAACgB;EACxB,CAAC,EACD;IACEjB,SAAS,EAATA,SAAS;IACTsB,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOpB,IAAI;AACb,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"be8ce46cc7aeb9242b23bf2f7d08286891e1c205","contentHash":"08073875376abc48ef88412d84c50750730ab1fd51d317d0028276eb5dd48eba"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/category.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/category.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":43,"column":2}},"27":{"start":{"line":14,"column":30},"end":{"line":34,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":49}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":39}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":55}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":32,"column":8}},"33":{"start":{"line":33,"column":4},"end":{"line":33,"column":20}},"34":{"start":{"line":35,"column":2},"end":{"line":41,"column":5}},"35":{"start":{"line":42,"column":2},"end":{"line":42,"column":18}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":43,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":48},"end":{"line":34,"column":3}},"line":14},"6":{"name":"category","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":24},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":33},"end":{"line":31,"column":7}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","category","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","name","STRING","category_id","INTEGER","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["category.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class category extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  category.init(\n    {\n      name: DataTypes.STRING,\n      category_id: DataTypes.INTEGER,\n    },\n    {\n      sequelize,\n      modelName: 'category',\n    },\n  );\n  return category;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,QAAQ,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,QAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,QAAA;IAAA,SAAAA,SAAA;MAAA,IAAAK,gBAAA,mBAAAL,QAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,QAAA;MAAAS,GAAA;MAAAC,KAAA;MACZ;AACJ;AACA;AACA;AACA;MACI,SAAAC,UAAiBC,MAAM,EAAE;QACvB;MAAA;IACD;IAAA,OAAAZ,QAAA;EAAA,EARoBL,KAAK;EAU5BK,QAAQ,CAACa,IAAI,CACX;IACEC,IAAI,EAAEf,SAAS,CAACgB,MAAM;IACtBC,WAAW,EAAEjB,SAAS,CAACkB;EACzB,CAAC,EACD;IACEnB,SAAS,EAATA,SAAS;IACToB,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOlB,QAAQ;AACjB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2c2c086e75b115427425f29fc5e58826b2529f5f","contentHash":"a412da4d8388ba9e61357956502e406712540b9c1474a6ba54d91fb5adb7d6bd"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/order.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/order.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":47,"column":2}},"27":{"start":{"line":14,"column":27},"end":{"line":35,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":46}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":36}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":52}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":33,"column":8}},"33":{"start":{"line":34,"column":4},"end":{"line":34,"column":17}},"34":{"start":{"line":36,"column":2},"end":{"line":45,"column":5}},"35":{"start":{"line":46,"column":2},"end":{"line":46,"column":15}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":47,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":27},"end":{"line":14,"column":28}},"loc":{"start":{"line":14,"column":45},"end":{"line":35,"column":3}},"line":14},"6":{"name":"order","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":18}},"loc":{"start":{"line":17,"column":21},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":30,"column":15},"end":{"line":30,"column":24}},"loc":{"start":{"line":30,"column":33},"end":{"line":32,"column":7}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","order","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","order_id","INTEGER","user_id","order_date","STRING","total_price","FLOAT","status","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["order.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class order extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    // eslint-disable-next-line no-unused-vars\n    static associate(models) {\n      // define association here\n    }\n  }\n  order.init(\n    {\n      order_id: DataTypes.INTEGER,\n      user_id: DataTypes.INTEGER,\n      order_date: DataTypes.STRING,\n      total_price: DataTypes.FLOAT,\n      status: DataTypes.STRING,\n    },\n    {\n      sequelize,\n      modelName: 'order',\n    },\n  );\n  return order;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,KAAK,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,KAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,KAAA;IAAA,SAAAA,MAAA;MAAA,IAAAK,gBAAA,mBAAAL,KAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,KAAA;MAAAS,GAAA;MAAAC,KAAA;MACT;AACJ;AACA;AACA;AACA;MACI;MACA,SAAAC,UAAiBC,MAAM,EAAE;QACvB;MAAA;IACD;IAAA,OAAAZ,KAAA;EAAA,EATiBL,KAAK;EAWzBK,KAAK,CAACa,IAAI,CACR;IACEC,QAAQ,EAAEf,SAAS,CAACgB,OAAO;IAC3BC,OAAO,EAAEjB,SAAS,CAACgB,OAAO;IAC1BE,UAAU,EAAElB,SAAS,CAACmB,MAAM;IAC5BC,WAAW,EAAEpB,SAAS,CAACqB,KAAK;IAC5BC,MAAM,EAAEtB,SAAS,CAACmB;EACpB,CAAC,EACD;IACEpB,SAAS,EAATA,SAAS;IACTwB,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOtB,KAAK;AACd,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d65d84ad58dad55b7550c5e2454e3d0830305c81","contentHash":"d7e0f21a77fb85117eed8065c1fa6e6f8b421bce35744f25b4b6ab6062b659f7"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/orderItems.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/orderItems.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":46,"column":2}},"27":{"start":{"line":14,"column":32},"end":{"line":35,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":51}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":41}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":57}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":33,"column":8}},"33":{"start":{"line":34,"column":4},"end":{"line":34,"column":22}},"34":{"start":{"line":36,"column":2},"end":{"line":44,"column":5}},"35":{"start":{"line":45,"column":2},"end":{"line":45,"column":20}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":46,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":32},"end":{"line":14,"column":33}},"loc":{"start":{"line":14,"column":50},"end":{"line":35,"column":3}},"line":14},"6":{"name":"orderItems","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":26},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":30,"column":15},"end":{"line":30,"column":24}},"loc":{"start":{"line":30,"column":33},"end":{"line":32,"column":7}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","orderItems","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","order_id","INTEGER","product_id","quantity","unit_price","FLOAT","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["orderItems.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class orderItems extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    // eslint-disable-next-line no-unused-vars\n    static associate(models) {\n      // define association here\n    }\n  }\n  orderItems.init(\n    {\n      order_id: DataTypes.INTEGER,\n      product_id: DataTypes.INTEGER,\n      quantity: DataTypes.INTEGER,\n      unit_price: DataTypes.FLOAT,\n    },\n    {\n      sequelize,\n      modelName: 'orderItems',\n    },\n  );\n  return orderItems;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,UAAU,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,UAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,UAAA;IAAA,SAAAA,WAAA;MAAA,IAAAK,gBAAA,mBAAAL,UAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,UAAA;MAAAS,GAAA;MAAAC,KAAA;MACd;AACJ;AACA;AACA;AACA;MACI;MACA,SAAAC,UAAiBC,MAAM,EAAE;QACvB;MAAA;IACD;IAAA,OAAAZ,UAAA;EAAA,EATsBL,KAAK;EAW9BK,UAAU,CAACa,IAAI,CACb;IACEC,QAAQ,EAAEf,SAAS,CAACgB,OAAO;IAC3BC,UAAU,EAAEjB,SAAS,CAACgB,OAAO;IAC7BE,QAAQ,EAAElB,SAAS,CAACgB,OAAO;IAC3BG,UAAU,EAAEnB,SAAS,CAACoB;EACxB,CAAC,EACD;IACErB,SAAS,EAATA,SAAS;IACTsB,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOpB,UAAU;AACnB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d22bf262a0b8b78ee2fdd29bf19d708a13b91a2c","contentHash":"e740674777c9bd3636261ab2dcfaac6cbe5d8195caff31477195d686cfe9c5f5"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/permission.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/permission.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":48,"column":2}},"27":{"start":{"line":14,"column":32},"end":{"line":26,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":51}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":41}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":57}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":24,"column":8}},"33":{"start":{"line":25,"column":4},"end":{"line":25,"column":22}},"34":{"start":{"line":27,"column":2},"end":{"line":46,"column":5}},"35":{"start":{"line":47,"column":2},"end":{"line":47,"column":20}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":48,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":32},"end":{"line":14,"column":33}},"loc":{"start":{"line":14,"column":50},"end":{"line":26,"column":3}},"line":14},"6":{"name":"permission","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":23}},"loc":{"start":{"line":17,"column":26},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":23,"column":22},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":40},"end":{"line":23,"column":42}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","permission","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","id","allowNull","primaryKey","autoIncrement","unique","type","INTEGER","permName","STRING","description","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["permission.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class permission extends Model {\n    static associate(models) {}\n  }\n  permission.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        autoIncrement: true,\n        unique: true,\n        type: DataTypes.INTEGER,\n      },\n      permName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      description: {\n        type: DataTypes.STRING,\n        allowNull: true,\n      },\n    },\n    {\n      sequelize,\n      modelName: 'permission',\n    },\n  );\n  return permission;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,UAAU,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,UAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,UAAA;IAAA,SAAAA,WAAA;MAAA,IAAAK,gBAAA,mBAAAL,UAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,UAAA;MAAAS,GAAA;MAAAC,KAAA,EACd,SAAAC,UAAiBC,MAAM,EAAE,CAAC;IAAC;IAAA,OAAAZ,UAAA;EAAA,EADJL,KAAK;EAG9BK,UAAU,CAACa,IAAI,CACb;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KAAK;MAChBC,UAAU,EAAE,IAAI;MAChBC,aAAa,EAAE,IAAI;MACnBC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAEpB,SAAS,CAACqB;IAClB,CAAC;IACDC,QAAQ,EAAE;MACRF,IAAI,EAAEpB,SAAS,CAACuB,MAAM;MACtBP,SAAS,EAAE;IACb,CAAC;IACDQ,WAAW,EAAE;MACXJ,IAAI,EAAEpB,SAAS,CAACuB,MAAM;MACtBP,SAAS,EAAE;IACb;EACF,CAAC,EACD;IACEjB,SAAS,EAATA,SAAS;IACT0B,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOxB,UAAU;AACnB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"02a043c943b99da057930216b5e846ffbb84753d","contentHash":"186b6990d4a7900f5833c6bf62272cbc53975fc7911a953cc9794595e7b485a6"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/product.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/product.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":50,"column":2}},"27":{"start":{"line":14,"column":29},"end":{"line":34,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":48}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":38}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":54}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":32,"column":8}},"33":{"start":{"line":33,"column":4},"end":{"line":33,"column":19}},"34":{"start":{"line":35,"column":2},"end":{"line":48,"column":5}},"35":{"start":{"line":49,"column":2},"end":{"line":49,"column":17}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":50,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":29},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":47},"end":{"line":34,"column":3}},"line":14},"6":{"name":"product","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":20}},"loc":{"start":{"line":17,"column":23},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":33},"end":{"line":31,"column":7}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","product","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","name","STRING","description","image","ARRAY","price","quantity","stock","category_id","INTEGER","vendor_id","expiredAt","DATE","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["product.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class product extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  product.init(\n    {\n      name: DataTypes.STRING,\n      description: DataTypes.STRING,\n      image: DataTypes.ARRAY(DataTypes.STRING),\n      price: DataTypes.STRING,\n      quantity: DataTypes.STRING,\n      stock: DataTypes.STRING,\n      category_id: DataTypes.INTEGER,\n      vendor_id: DataTypes.INTEGER,\n      expiredAt: DataTypes.DATE,\n    },\n    {\n      sequelize,\n      modelName: 'product',\n    },\n  );\n  return product;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,OAAO,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,OAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,OAAA;IAAA,SAAAA,QAAA;MAAA,IAAAK,gBAAA,mBAAAL,OAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,OAAA;MAAAS,GAAA;MAAAC,KAAA;MACX;AACJ;AACA;AACA;AACA;MACI,SAAAC,UAAiBC,MAAM,EAAE;QACvB;MAAA;IACD;IAAA,OAAAZ,OAAA;EAAA,EARmBL,KAAK;EAU3BK,OAAO,CAACa,IAAI,CACV;IACEC,IAAI,EAAEf,SAAS,CAACgB,MAAM;IACtBC,WAAW,EAAEjB,SAAS,CAACgB,MAAM;IAC7BE,KAAK,EAAElB,SAAS,CAACmB,KAAK,CAACnB,SAAS,CAACgB,MAAM,CAAC;IACxCI,KAAK,EAAEpB,SAAS,CAACgB,MAAM;IACvBK,QAAQ,EAAErB,SAAS,CAACgB,MAAM;IAC1BM,KAAK,EAAEtB,SAAS,CAACgB,MAAM;IACvBO,WAAW,EAAEvB,SAAS,CAACwB,OAAO;IAC9BC,SAAS,EAAEzB,SAAS,CAACwB,OAAO;IAC5BE,SAAS,EAAE1B,SAAS,CAAC2B;EACvB,CAAC,EACD;IACE5B,SAAS,EAATA,SAAS;IACT6B,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAO3B,OAAO;AAChB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"53c3beb364f51809427ba966a8168a66bea8cc2f","contentHash":"023577657d01e98d3e039a57d9c29549b4b9e193ab9b720587fc7805ae471625"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/role.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/role.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":48,"column":2}},"27":{"start":{"line":14,"column":26},"end":{"line":26,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":45}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":35}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":51}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":24,"column":8}},"33":{"start":{"line":25,"column":4},"end":{"line":25,"column":16}},"34":{"start":{"line":27,"column":2},"end":{"line":46,"column":5}},"35":{"start":{"line":47,"column":2},"end":{"line":47,"column":14}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":48,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":26},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":44},"end":{"line":26,"column":3}},"line":14},"6":{"name":"role","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":17}},"loc":{"start":{"line":17,"column":20},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":23,"column":22},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":40},"end":{"line":23,"column":42}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","role","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","id","allowNull","primaryKey","autoIncrement","unique","type","INTEGER","roleName","STRING","description","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["role.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class role extends Model {\n    static associate(models) {}\n  }\n  role.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        autoIncrement: true,\n        unique: true,\n        type: DataTypes.INTEGER,\n      },\n      roleName: {\n        type: DataTypes.STRING,\n        allowNull: false,\n      },\n      description: {\n        type: DataTypes.STRING,\n        allowNull: true,\n      },\n    },\n    {\n      sequelize,\n      modelName: 'role',\n    },\n  );\n  return role;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,IAAI,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,IAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,IAAA;IAAA,SAAAA,KAAA;MAAA,IAAAK,gBAAA,mBAAAL,IAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,IAAA;MAAAS,GAAA;MAAAC,KAAA,EACR,SAAAC,UAAiBC,MAAM,EAAE,CAAC;IAAC;IAAA,OAAAZ,IAAA;EAAA,EADVL,KAAK;EAGxBK,IAAI,CAACa,IAAI,CACP;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KAAK;MAChBC,UAAU,EAAE,IAAI;MAChBC,aAAa,EAAE,IAAI;MACnBC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAEpB,SAAS,CAACqB;IAClB,CAAC;IACDC,QAAQ,EAAE;MACRF,IAAI,EAAEpB,SAAS,CAACuB,MAAM;MACtBP,SAAS,EAAE;IACb,CAAC;IACDQ,WAAW,EAAE;MACXJ,IAAI,EAAEpB,SAAS,CAACuB,MAAM;MACtBP,SAAS,EAAE;IACb;EACF,CAAC,EACD;IACEjB,SAAS,EAATA,SAAS;IACT0B,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOxB,IAAI;AACb,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f28b341a58c512248f5b5afd9ea63e4c51868742","contentHash":"46cbdd6693c3acdec5b832b86a58ae3b553d9be6868fc104138bcb7cd5c891e5"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/rolepermission.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/rolepermission.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":56,"column":2}},"27":{"start":{"line":14,"column":36},"end":{"line":26,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":55}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":45}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":61}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":24,"column":8}},"33":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"34":{"start":{"line":27,"column":2},"end":{"line":54,"column":5}},"35":{"start":{"line":55,"column":2},"end":{"line":55,"column":24}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":56,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":36},"end":{"line":14,"column":37}},"loc":{"start":{"line":14,"column":54},"end":{"line":26,"column":3}},"line":14},"6":{"name":"RolePermission","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":27}},"loc":{"start":{"line":17,"column":30},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":23,"column":22},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":40},"end":{"line":23,"column":42}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","RolePermission","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","id","allowNull","unique","autoIncrement","primaryKey","type","INTEGER","roleId","references","model","permissionId","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["rolepermission.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class RolePermission extends Model {\n    static associate(models) {}\n  }\n  RolePermission.init(\n    {\n      id: {\n        allowNull: false,\n        unique: true,\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER,\n      },\n      roleId: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        references: {\n          model: 'role',\n          key: 'id',\n        },\n      },\n      permissionId: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        references: {\n          model: 'permission',\n          key: 'id',\n        },\n      },\n    },\n    {\n      sequelize,\n      modelName: 'rolepermission',\n    },\n  );\n  return RolePermission;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,cAAc,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,cAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,cAAA;IAAA,SAAAA,eAAA;MAAA,IAAAK,gBAAA,mBAAAL,cAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,cAAA;MAAAS,GAAA;MAAAC,KAAA,EAClB,SAAAC,UAAiBC,MAAM,EAAE,CAAC;IAAC;IAAA,OAAAZ,cAAA;EAAA,EADAL,KAAK;EAGlCK,cAAc,CAACa,IAAI,CACjB;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KAAK;MAChBC,MAAM,EAAE,IAAI;MACZC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE,IAAI;MAChBC,IAAI,EAAEpB,SAAS,CAACqB;IAClB,CAAC;IACDC,MAAM,EAAE;MACNF,IAAI,EAAEpB,SAAS,CAACqB,OAAO;MACvBL,SAAS,EAAE,KAAK;MAChBO,UAAU,EAAE;QACVC,KAAK,EAAE,MAAM;QACbd,GAAG,EAAE;MACP;IACF,CAAC;IACDe,YAAY,EAAE;MACZL,IAAI,EAAEpB,SAAS,CAACqB,OAAO;MACvBL,SAAS,EAAE,KAAK;MAChBO,UAAU,EAAE;QACVC,KAAK,EAAE,YAAY;QACnBd,GAAG,EAAE;MACP;IACF;EACF,CAAC,EACD;IACEX,SAAS,EAATA,SAAS;IACT2B,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOzB,cAAc;AACvB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6f190ea59ad4b9360e10c98e9d0d43eba0182e92","contentHash":"1044d74a92a602e8abf90aef758fe04cfb7aa41b7aa525daa12c5e67db5eb297"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/user.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/user.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":69,"column":2}},"27":{"start":{"line":14,"column":26},"end":{"line":34,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":45}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":35}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":51}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":32,"column":8}},"33":{"start":{"line":33,"column":4},"end":{"line":33,"column":16}},"34":{"start":{"line":35,"column":2},"end":{"line":67,"column":5}},"35":{"start":{"line":68,"column":2},"end":{"line":68,"column":14}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":69,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":26},"end":{"line":14,"column":27}},"loc":{"start":{"line":14,"column":44},"end":{"line":34,"column":3}},"line":14},"6":{"name":"user","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":17}},"loc":{"start":{"line":17,"column":20},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":27},"end":{"line":31,"column":7}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":9,"9":9,"10":9,"11":9,"12":0,"13":9,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":9,"31":9,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":9,"2":1,"3":0,"4":1,"5":1,"6":9,"7":1},"b":{"0":[9,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","user","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","init","name","STRING","email","gender","birthdate","DATE","phone","preferred_language","type","field","preferred_currency","billingAddress","ARRAY","password","roleId","INTEGER","status","createdAt","updatedAt","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["user.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class user extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate() {\n      // define association here\n    }\n  }\n  user.init(\n    {\n      name: DataTypes.STRING,\n      email: DataTypes.STRING,\n      gender: DataTypes.STRING,\n      birthdate: DataTypes.DATE,\n      phone: DataTypes.STRING,\n      preferred_language: { type: DataTypes.STRING, field: 'preferred_language' },\n      preferred_currency: { type: DataTypes.STRING, field: 'preferred_currency' },\n      billingAddress: { type: DataTypes.ARRAY(DataTypes.STRING), field: 'billing_address' },\n      password: DataTypes.STRING,\n      roleId: DataTypes.INTEGER,\n      status: DataTypes.STRING,\n      createdAt: { type: DataTypes.DATE, field: 'created_at' },\n      updatedAt: { type: DataTypes.DATE, field: 'updated_at' },\n    },\n    {\n      sequelize,\n      modelName: 'user',\n    },\n  );\n  return user;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,IAAI,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,IAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,IAAA;IAAA,SAAAA,KAAA;MAAA,IAAAK,gBAAA,mBAAAL,IAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,IAAA;MAAAS,GAAA;MAAAC,KAAA;MACR;AACJ;AACA;AACA;AACA;MACI,SAAAC,UAAA,EAAmB;QACjB;MAAA;IACD;IAAA,OAAAX,IAAA;EAAA,EARgBL,KAAK;EAUxBK,IAAI,CAACY,IAAI,CACP;IACEC,IAAI,EAAEd,SAAS,CAACe,MAAM;IACtBC,KAAK,EAAEhB,SAAS,CAACe,MAAM;IACvBE,MAAM,EAAEjB,SAAS,CAACe,MAAM;IACxBG,SAAS,EAAElB,SAAS,CAACmB,IAAI;IACzBC,KAAK,EAAEpB,SAAS,CAACe,MAAM;IACvBM,kBAAkB,EAAE;MAAEC,IAAI,EAAEtB,SAAS,CAACe,MAAM;MAAEQ,KAAK,EAAE;IAAqB,CAAC;IAC3EC,kBAAkB,EAAE;MAAEF,IAAI,EAAEtB,SAAS,CAACe,MAAM;MAAEQ,KAAK,EAAE;IAAqB,CAAC;IAC3EE,cAAc,EAAE;MAAEH,IAAI,EAAEtB,SAAS,CAAC0B,KAAK,CAAC1B,SAAS,CAACe,MAAM,CAAC;MAAEQ,KAAK,EAAE;IAAkB,CAAC;IACrFI,QAAQ,EAAE3B,SAAS,CAACe,MAAM;IAC1Ba,MAAM,EAAE5B,SAAS,CAAC6B,OAAO;IACzBC,MAAM,EAAE9B,SAAS,CAACe,MAAM;IACxBgB,SAAS,EAAE;MAAET,IAAI,EAAEtB,SAAS,CAACmB,IAAI;MAAEI,KAAK,EAAE;IAAa,CAAC;IACxDS,SAAS,EAAE;MAAEV,IAAI,EAAEtB,SAAS,CAACmB,IAAI;MAAEI,KAAK,EAAE;IAAa;EACzD,CAAC,EACD;IACExB,SAAS,EAATA,SAAS;IACTkC,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOhC,IAAI;AACb,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3cafb95f44649110b85e0476f12aae43e50cd98d","contentHash":"46240f2ccacd922bf18c225425b8b2acc01decbb05baff1e0d0c7df450d5c698"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/userrole.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/userrole.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":56,"column":2}},"27":{"start":{"line":14,"column":30},"end":{"line":26,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":49}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":39}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":55}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":24,"column":8}},"33":{"start":{"line":25,"column":4},"end":{"line":25,"column":20}},"34":{"start":{"line":27,"column":2},"end":{"line":54,"column":5}},"35":{"start":{"line":55,"column":2},"end":{"line":55,"column":18}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":56,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":48},"end":{"line":26,"column":3}},"line":14},"6":{"name":"userRole","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":24},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":23,"column":22},"end":{"line":23,"column":31}},"loc":{"start":{"line":23,"column":40},"end":{"line":23,"column":42}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","userRole","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","id","allowNull","primaryKey","autoIncrement","unique","type","INTEGER","userId","references","model","roleId","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["userrole.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class userRole extends Model {\n    static associate(models) {}\n  }\n  userRole.init(\n    {\n      id: {\n        allowNull: false,\n        primaryKey: true,\n        autoIncrement: true,\n        unique: true,\n        type: DataTypes.INTEGER,\n      },\n      userId: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        references: {\n          model: 'user',\n          key: 'id',\n        },\n      },\n      roleId: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        references: {\n          model: 'role',\n          key: 'id',\n        },\n      },\n    },\n    {\n      sequelize,\n      modelName: 'userRole',\n    },\n  );\n  return userRole;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,QAAQ,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,QAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,QAAA;IAAA,SAAAA,SAAA;MAAA,IAAAK,gBAAA,mBAAAL,QAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,QAAA;MAAAS,GAAA;MAAAC,KAAA,EACZ,SAAAC,UAAiBC,MAAM,EAAE,CAAC;IAAC;IAAA,OAAAZ,QAAA;EAAA,EADNL,KAAK;EAG5BK,QAAQ,CAACa,IAAI,CACX;IACEC,EAAE,EAAE;MACFC,SAAS,EAAE,KAAK;MAChBC,UAAU,EAAE,IAAI;MAChBC,aAAa,EAAE,IAAI;MACnBC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAEpB,SAAS,CAACqB;IAClB,CAAC;IACDC,MAAM,EAAE;MACNF,IAAI,EAAEpB,SAAS,CAACqB,OAAO;MACvBL,SAAS,EAAE,KAAK;MAChBO,UAAU,EAAE;QACVC,KAAK,EAAE,MAAM;QACbd,GAAG,EAAE;MACP;IACF,CAAC;IACDe,MAAM,EAAE;MACNL,IAAI,EAAEpB,SAAS,CAACqB,OAAO;MACvBL,SAAS,EAAE,KAAK;MAChBO,UAAU,EAAE;QACVC,KAAK,EAAE,MAAM;QACbd,GAAG,EAAE;MACP;IACF;EACF,CAAC,EACD;IACEX,SAAS,EAATA,SAAS;IACT2B,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAOzB,QAAQ;AACjB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"898d57995a2a5e2dbf1bee751510f9c595e45ae1","contentHash":"8c03d2fcb53a8cc5a1b66e22547e9ff97966d13cdc3a23f54c9fe1deab13c150"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/vendors.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/vendors.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":55,"column":2}},"27":{"start":{"line":14,"column":29},"end":{"line":34,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":48}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":38}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":54}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":32,"column":8}},"33":{"start":{"line":33,"column":4},"end":{"line":33,"column":19}},"34":{"start":{"line":35,"column":2},"end":{"line":53,"column":5}},"35":{"start":{"line":54,"column":2},"end":{"line":54,"column":17}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":55,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":29},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":47},"end":{"line":34,"column":3}},"line":14},"6":{"name":"vendors","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":20}},"loc":{"start":{"line":17,"column":23},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":33},"end":{"line":31,"column":7}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":1,"33":1,"34":1,"35":1},"f":{"0":1,"1":0,"2":1,"3":0,"4":1,"5":1,"6":0,"7":1},"b":{"0":[0,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","vendors","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","init","fullName","STRING","email","password","phoneNumber","businessName","businessAddress","businessPhoneNumber","businessEmail","businessWebsite","businessDescription","businessLogo","productCategories","paymentMethods","status","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["vendors.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class vendors extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // define association here\n    }\n  }\n  vendors.init(\n    {\n      fullName: DataTypes.STRING,\n      email: DataTypes.STRING,\n      password: DataTypes.STRING,\n      phoneNumber: DataTypes.STRING,\n      businessName: DataTypes.STRING,\n      businessAddress: DataTypes.STRING,\n      businessPhoneNumber: DataTypes.STRING,\n      businessEmail: DataTypes.STRING,\n      businessWebsite: DataTypes.STRING,\n      businessDescription: DataTypes.STRING,\n      businessLogo: DataTypes.STRING,\n      productCategories: DataTypes.STRING,\n      paymentMethods: DataTypes.STRING,\n      status: DataTypes.STRING,\n    },\n    {\n      sequelize,\n      modelName: 'vendors',\n    },\n  );\n  return vendors;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,OAAO,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,OAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,OAAA;IAAA,SAAAA,QAAA;MAAA,IAAAK,gBAAA,mBAAAL,OAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,OAAA;MAAAS,GAAA;MAAAC,KAAA;MACX;AACJ;AACA;AACA;AACA;MACI,SAAAC,UAAiBC,MAAM,EAAE;QACvB;MAAA;IACD;IAAA,OAAAZ,OAAA;EAAA,EARmBL,KAAK;EAU3BK,OAAO,CAACa,IAAI,CACV;IACEC,QAAQ,EAAEf,SAAS,CAACgB,MAAM;IAC1BC,KAAK,EAAEjB,SAAS,CAACgB,MAAM;IACvBE,QAAQ,EAAElB,SAAS,CAACgB,MAAM;IAC1BG,WAAW,EAAEnB,SAAS,CAACgB,MAAM;IAC7BI,YAAY,EAAEpB,SAAS,CAACgB,MAAM;IAC9BK,eAAe,EAAErB,SAAS,CAACgB,MAAM;IACjCM,mBAAmB,EAAEtB,SAAS,CAACgB,MAAM;IACrCO,aAAa,EAAEvB,SAAS,CAACgB,MAAM;IAC/BQ,eAAe,EAAExB,SAAS,CAACgB,MAAM;IACjCS,mBAAmB,EAAEzB,SAAS,CAACgB,MAAM;IACrCU,YAAY,EAAE1B,SAAS,CAACgB,MAAM;IAC9BW,iBAAiB,EAAE3B,SAAS,CAACgB,MAAM;IACnCY,cAAc,EAAE5B,SAAS,CAACgB,MAAM;IAChCa,MAAM,EAAE7B,SAAS,CAACgB;EACpB,CAAC,EACD;IACEjB,SAAS,EAATA,SAAS;IACT+B,SAAS,EAAE;EACb,CAAC,CACF;EACD,OAAO7B,OAAO;AAChB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"281782bb469531fb22f3cedf0884c3628137be06","contentHash":"77c3a7518cef384bf7ca03c651d05f0da473defe0890c864ac20626e9edfd210"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/wishlist.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/wishlist.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":23},"end":{"line":4,"column":95}},"2":{"start":{"line":5,"column":20},"end":{"line":5,"column":89}},"3":{"start":{"line":6,"column":17},"end":{"line":6,"column":83}},"4":{"start":{"line":7,"column":34},"end":{"line":7,"column":117}},"5":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"6":{"start":{"line":9,"column":65},"end":{"line":9,"column":92}},"7":{"start":{"line":9,"column":94},"end":{"line":9,"column":474}},"8":{"start":{"line":9,"column":147},"end":{"line":9,"column":188}},"9":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"10":{"start":{"line":9,"column":247},"end":{"line":9,"column":297}},"11":{"start":{"line":9,"column":299},"end":{"line":9,"column":355}},"12":{"start":{"line":9,"column":365},"end":{"line":9,"column":403}},"13":{"start":{"line":9,"column":406},"end":{"line":9,"column":471}},"14":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"15":{"start":{"line":10,"column":97},"end":{"line":10,"column":110}},"16":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"17":{"start":{"line":10,"column":139},"end":{"line":10,"column":152}},"18":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"19":{"start":{"line":10,"column":186},"end":{"line":10,"column":198}},"20":{"start":{"line":10,"column":199},"end":{"line":10,"column":327}},"21":{"start":{"line":10,"column":205},"end":{"line":10,"column":284}},"22":{"start":{"line":10,"column":285},"end":{"line":10,"column":297}},"23":{"start":{"line":10,"column":312},"end":{"line":10,"column":325}},"24":{"start":{"line":11,"column":15},"end":{"line":11,"column":35}},"25":{"start":{"line":12,"column":10},"end":{"line":12,"column":24}},"26":{"start":{"line":13,"column":0},"end":{"line":58,"column":2}},"27":{"start":{"line":14,"column":30},"end":{"line":35,"column":10}},"28":{"start":{"line":15,"column":4},"end":{"line":15,"column":49}},"29":{"start":{"line":16,"column":17},"end":{"line":16,"column":39}},"30":{"start":{"line":18,"column":6},"end":{"line":18,"column":55}},"31":{"start":{"line":19,"column":6},"end":{"line":19,"column":43}},"32":{"start":{"line":21,"column":4},"end":{"line":33,"column":8}},"33":{"start":{"line":31,"column":8},"end":{"line":31,"column":43}},"34":{"start":{"line":34,"column":4},"end":{"line":34,"column":20}},"35":{"start":{"line":36,"column":2},"end":{"line":56,"column":5}},"36":{"start":{"line":57,"column":2},"end":{"line":57,"column":18}}},"fnMap":{"0":{"name":"_createSuper","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":21}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":476}},"line":9},"1":{"name":"_createSuperInternal","decl":{"start":{"line":9,"column":110},"end":{"line":9,"column":130}},"loc":{"start":{"line":9,"column":133},"end":{"line":9,"column":473}},"line":9},"2":{"name":"_isNativeReflectConstruct","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":34}},"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":329}},"line":10},"3":{"name":"(anonymous_3)","decl":{"start":{"line":10,"column":267},"end":{"line":10,"column":268}},"loc":{"start":{"line":10,"column":279},"end":{"line":10,"column":281}},"line":10},"4":{"name":"(anonymous_4)","decl":{"start":{"line":13,"column":17},"end":{"line":13,"column":18}},"loc":{"start":{"line":13,"column":49},"end":{"line":58,"column":1}},"line":13},"5":{"name":"(anonymous_5)","decl":{"start":{"line":14,"column":30},"end":{"line":14,"column":31}},"loc":{"start":{"line":14,"column":48},"end":{"line":35,"column":3}},"line":14},"6":{"name":"wishlist","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":21}},"loc":{"start":{"line":17,"column":24},"end":{"line":20,"column":5}},"line":17},"7":{"name":"associate","decl":{"start":{"line":29,"column":15},"end":{"line":29,"column":24}},"loc":{"start":{"line":29,"column":33},"end":{"line":32,"column":7}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},"type":"if","locations":[{"start":{"line":9,"column":198},"end":{"line":9,"column":405}},{"start":{"line":9,"column":198},"end":{"line":9,"column":405}}],"line":9},"1":{"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},"type":"if","locations":[{"start":{"line":10,"column":39},"end":{"line":10,"column":110}},{"start":{"line":10,"column":39},"end":{"line":10,"column":110}}],"line":10},"2":{"loc":{"start":{"line":10,"column":43},"end":{"line":10,"column":95}},"type":"binary-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":73}},{"start":{"line":10,"column":77},"end":{"line":10,"column":95}}],"line":10},"3":{"loc":{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},"type":"if","locations":[{"start":{"line":10,"column":111},"end":{"line":10,"column":152}},{"start":{"line":10,"column":111},"end":{"line":10,"column":152}}],"line":10},"4":{"loc":{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},"type":"if","locations":[{"start":{"line":10,"column":153},"end":{"line":10,"column":198}},{"start":{"line":10,"column":153},"end":{"line":10,"column":198}}],"line":10}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":6,"9":6,"10":6,"11":6,"12":0,"13":6,"14":1,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":6,"31":6,"32":1,"33":1,"34":1,"35":1,"36":1},"f":{"0":1,"1":6,"2":1,"3":0,"4":1,"5":1,"6":6,"7":1},"b":{"0":[6,0],"1":[0,1],"2":[1,1],"3":[0,1],"4":[1,0]},"inputSourceMap":{"version":3,"names":["_require","require","Model","module","exports","sequelize","DataTypes","wishlist","_Model","_inherits2","_super","_createSuper","_classCallCheck2","apply","arguments","_createClass2","key","value","associate","models","belongsTo","product","init","userId","type","INTEGER","field","productId","createdAt","DATE","updatedAt","modelName"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/database/models/","sources":["wishlist.js"],"sourcesContent":["const { Model } = require('sequelize');\n\nmodule.exports = (sequelize, DataTypes) => {\n  class wishlist extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate(models) {\n      // models.product.hasOne(wishlist, { foreignKey: 'product_id', as: 'product' });\n      wishlist.belongsTo(models.product);\n    }\n  }\n  wishlist.init(\n    {\n      userId: { type: DataTypes.INTEGER, field: 'user_id' },\n      productId: { type: DataTypes.INTEGER, field: 'product_id' },\n      createdAt: { type: DataTypes.DATE, field: 'created_at' },\n      updatedAt: { type: DataTypes.DATE, field: 'updated_at' },\n    },\n    {\n      sequelize,\n      modelName: 'wishlist',\n    },\n  );\n\n  return wishlist;\n};\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,QAAA,GAAkBC,OAAO,CAAC,WAAW,CAAC;EAA9BC,KAAK,GAAAF,QAAA,CAALE,KAAK;AAEbC,MAAM,CAACC,OAAO,GAAG,UAACC,SAAS,EAAEC,SAAS,EAAK;EAAA,IACnCC,QAAQ,0BAAAC,MAAA;IAAA,IAAAC,UAAA,aAAAF,QAAA,EAAAC,MAAA;IAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,QAAA;IAAA,SAAAA,SAAA;MAAA,IAAAK,gBAAA,mBAAAL,QAAA;MAAA,OAAAG,MAAA,CAAAG,KAAA,OAAAC,SAAA;IAAA;IAAA,IAAAC,aAAA,aAAAR,QAAA;MAAAS,GAAA;MAAAC,KAAA;MACZ;AACJ;AACA;AACA;AACA;MACI,SAAAC,UAAiBC,MAAM,EAAE;QACvB;QACAZ,QAAQ,CAACa,SAAS,CAACD,MAAM,CAACE,OAAO,CAAC;MACpC;IAAC;IAAA,OAAAd,QAAA;EAAA,EAToBL,KAAK;EAW5BK,QAAQ,CAACe,IAAI,CACX;IACEC,MAAM,EAAE;MAAEC,IAAI,EAAElB,SAAS,CAACmB,OAAO;MAAEC,KAAK,EAAE;IAAU,CAAC;IACrDC,SAAS,EAAE;MAAEH,IAAI,EAAElB,SAAS,CAACmB,OAAO;MAAEC,KAAK,EAAE;IAAa,CAAC;IAC3DE,SAAS,EAAE;MAAEJ,IAAI,EAAElB,SAAS,CAACuB,IAAI;MAAEH,KAAK,EAAE;IAAa,CAAC;IACxDI,SAAS,EAAE;MAAEN,IAAI,EAAElB,SAAS,CAACuB,IAAI;MAAEH,KAAK,EAAE;IAAa;EACzD,CAAC,EACD;IACErB,SAAS,EAATA,SAAS;IACT0B,SAAS,EAAE;EACb,CAAC,CACF;EAED,OAAOxB,QAAQ;AACjB,CAAC"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5001556e60fd87f55f9c532e92c02976173b41cd","contentHash":"307c308ba068f9f088844b1ffcea5b42ebff0959cadddd477cef722c600dfe60"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/routes.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/routes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":12},"end":{"line":9,"column":51}},"5":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"6":{"start":{"line":11,"column":24},"end":{"line":11,"column":77}},"7":{"start":{"line":12,"column":29},"end":{"line":12,"column":87}},"8":{"start":{"line":13,"column":20},"end":{"line":13,"column":68}},"9":{"start":{"line":14,"column":24},"end":{"line":14,"column":77}},"10":{"start":{"line":15,"column":18},"end":{"line":15,"column":64}},"11":{"start":{"line":16,"column":20},"end":{"line":16,"column":68}},"12":{"start":{"line":17,"column":19},"end":{"line":17,"column":67}},"13":{"start":{"line":18,"column":23},"end":{"line":18,"column":75}},"14":{"start":{"line":19,"column":21},"end":{"line":19,"column":71}},"15":{"start":{"line":20,"column":14},"end":{"line":20,"column":63}},"16":{"start":{"line":21,"column":21},"end":{"line":21,"column":78}},"17":{"start":{"line":22,"column":18},"end":{"line":22,"column":70}},"18":{"start":{"line":23,"column":24},"end":{"line":23,"column":82}},"19":{"start":{"line":24,"column":26},"end":{"line":24,"column":86}},"20":{"start":{"line":25,"column":17},"end":{"line":25,"column":63}},"21":{"start":{"line":26,"column":22},"end":{"line":26,"column":62}},"22":{"start":{"line":27,"column":12},"end":{"line":27,"column":57}},"23":{"start":{"line":28,"column":15},"end":{"line":28,"column":82}},"24":{"start":{"line":29,"column":25},"end":{"line":29,"column":99}},"25":{"start":{"line":30,"column":22},"end":{"line":30,"column":73}},"26":{"start":{"line":44,"column":13},"end":{"line":44,"column":41}},"27":{"start":{"line":45,"column":0},"end":{"line":51,"column":3}},"28":{"start":{"line":52,"column":0},"end":{"line":54,"column":4}},"29":{"start":{"line":55,"column":0},"end":{"line":55,"column":74}},"30":{"start":{"line":56,"column":0},"end":{"line":56,"column":42}},"31":{"start":{"line":57,"column":0},"end":{"line":57,"column":36}},"32":{"start":{"line":58,"column":0},"end":{"line":58,"column":44}},"33":{"start":{"line":59,"column":0},"end":{"line":59,"column":39}},"34":{"start":{"line":60,"column":12},"end":{"line":60,"column":61}},"35":{"start":{"line":61,"column":0},"end":{"line":61,"column":103}},"36":{"start":{"line":62,"column":0},"end":{"line":62,"column":44}},"37":{"start":{"line":63,"column":0},"end":{"line":63,"column":41}},"38":{"start":{"line":64,"column":0},"end":{"line":64,"column":43}},"39":{"start":{"line":65,"column":0},"end":{"line":70,"column":3}},"40":{"start":{"line":66,"column":2},"end":{"line":69,"column":5}},"41":{"start":{"line":71,"column":0},"end":{"line":71,"column":36}},"42":{"start":{"line":72,"column":0},"end":{"line":72,"column":50}},"43":{"start":{"line":73,"column":0},"end":{"line":73,"column":50}},"44":{"start":{"line":74,"column":0},"end":{"line":74,"column":39}},"45":{"start":{"line":75,"column":0},"end":{"line":75,"column":45}},"46":{"start":{"line":76,"column":0},"end":{"line":76,"column":74}},"47":{"start":{"line":77,"column":0},"end":{"line":77,"column":49}},"48":{"start":{"line":78,"column":0},"end":{"line":78,"column":53}},"49":{"start":{"line":79,"column":0},"end":{"line":79,"column":49}},"50":{"start":{"line":80,"column":0},"end":{"line":80,"column":52}},"51":{"start":{"line":81,"column":0},"end":{"line":81,"column":45}},"52":{"start":{"line":82,"column":0},"end":{"line":82,"column":37}},"53":{"start":{"line":83,"column":0},"end":{"line":83,"column":45}},"54":{"start":{"line":84,"column":0},"end":{"line":84,"column":53}},"55":{"start":{"line":85,"column":15},"end":{"line":85,"column":21}},"56":{"start":{"line":86,"column":0},"end":{"line":86,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":65,"column":16},"end":{"line":65,"column":17}},"loc":{"start":{"line":65,"column":36},"end":{"line":70,"column":1}},"line":65}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_i18next","_i18nextFsBackend","_i18nextHttpMiddleware","_swaggerJsdoc","_swaggerUiExpress","_bodyParser","_cookieParser","_userrouters","_permissionRoute","_profileRouter","_apidoc","_vendorsRoutes","_userRoutes","_googleAuthRoutes","_facebookAuthRoutes","_roleRoute","_userController","_user","_newUser","_productController","_wishListRouter","router","express","Router","i18next","use","Backend","i18nextMiddleware","LanguageDetector","init","backend","loadPath","fallbackLng","preload","urlencoded","extended","handle","bodyParser","json","cors","cookieParser","specs","swaggerJSDoc","options","swaggerUi","serve","setup","signupRouter","googleAuth","facebookAuth","get","req","res","status","message","t","userRouter","profileRouter","vendorRouter","roleRoute","permissionRoute","post","newUserValidation","createUser","loginUser","wishListRouter","Route","usersRouter","searchProducts","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/","sources":["routes.js"],"sourcesContent":["// This is where routers will be\n\n// tip:\n/**\n *\n * A route is a section of Express code that\n * associates an HTTP verb ( GET , POST , PUT , DELETE , etc.),\n * a URL path/pattern, and a function that is called to handle that pattern\n *\n */\n\nimport express from 'express';\nimport cors from 'cors';\nimport i18next from 'i18next';\nimport Backend from 'i18next-fs-backend';\nimport i18nextMiddleware from 'i18next-http-middleware';\nimport swaggerJSDoc from 'swagger-jsdoc';\nimport swaggerUi from 'swagger-ui-express';\nimport bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\nimport userRouter from './userrouters';\nimport permissionRoute from './permissionRoute';\nimport profileRouter from './profileRouter';\nimport options from '../docs/apidoc';\nimport vendorRouter from './vendor/vendorsRoutes';\nimport signupRouter from './user/userRoutes';\nimport googleAuth from './user/googleAuthRoutes';\nimport facebookAuth from './user/facebookAuthRoutes';\nimport Route from './roleRoute';\nimport roleRoute from './roleRoute';\nimport { createUser, loginUser } from '../controllers/userController';\nimport usersRouter from './API/user';\nimport newUserValidation from '../middleware/newUser.validation';\nimport searchProducts from '../controllers/search/productController';\nimport wishListRouter from './wishListRouter';\n// Login route\n\n// Create a new user route\nconst router = express.Router();\ni18next\n  .use(Backend)\n  .use(i18nextMiddleware.LanguageDetector)\n  .init({\n    backend: {\n      loadPath: '././././././src/locales/{{lng}}/{{ns}}.json',\n    },\n    fallbackLng: 'en',\n    preload: ['en', 'fr'],\n  });\nrouter.use(express.urlencoded({ extended: false }));\nrouter.use(i18nextMiddleware.handle(i18next));\nrouter.use(bodyParser.json());\nrouter.use(cors());\nrouter.use(cookieParser());\nrouter.use(express.json());\n\nconst specs = swaggerJSDoc(options);\n\nrouter.use('/api-docs', swaggerUi.serve, swaggerUi.setup(specs));\nrouter.use('/user', signupRouter);\nrouter.use(googleAuth);\nrouter.use(facebookAuth);\nrouter.get('/', (req, res) => res.status(200).json({ status: 200, message: req.t('welcome_message') }));\nrouter.use(userRouter);\nrouter.use('/profile', profileRouter);\nrouter.use('/vendors', vendorRouter);\nrouter.use('/', roleRoute);\nrouter.use('/', permissionRoute);\nrouter.post('/register', newUserValidation, createUser);\nrouter.post('/login', loginUser);\nrouter.post('/register', createUser);\nrouter.post('/login', loginUser);\nrouter.use('/wishlist', wishListRouter);\nrouter.use('/create', Route);\nrouter.use('/OTP', usersRouter);\nrouter.use('/create', Route);\nrouter.use('/search', searchProducts);\n\nexport default router;\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"867372efe19bec9eeaedd0db8e48d30298f91f03","contentHash":"5b1860f0c3d05eb141874adeb8d3afcbae138dfa813c854e5b6843a089b1bb56"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/userrouters.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/userrouters.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":21},"end":{"line":9,"column":60}},"5":{"start":{"line":10,"column":17},"end":{"line":10,"column":45}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":53}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":57}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":65}},"9":{"start":{"line":14,"column":15},"end":{"line":14,"column":25}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_userconroller","userRouter","express","Router","get","getAllUsers","getUserData","put","updateStatus","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/","sources":["userrouters.js"],"sourcesContent":["import express from 'express';\nimport { getAllUsers, getUserData, updateStatus } from '../controllers/userconroller';\n\nconst userRouter = express.Router();\nuserRouter.get('/users', getAllUsers);\nuserRouter.get('/users/:id', getUserData);\nuserRouter.put('/users/status/:id', updateStatus);\nexport default userRouter;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,cAAA,GAAAD,OAAA;AAEA,IAAME,UAAU,GAAGC,mBAAO,CAACC,MAAM,EAAE;AACnCF,UAAU,CAACG,GAAG,CAAC,QAAQ,EAAEC,0BAAW,CAAC;AACrCJ,UAAU,CAACG,GAAG,CAAC,YAAY,EAAEE,0BAAW,CAAC;AACzCL,UAAU,CAACM,GAAG,CAAC,mBAAmB,EAAEC,2BAAY,CAAC;AAAC,IAAAC,QAAA,GACnCR,UAAU;AAAAS,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5d1b1a1c9344360511da8deefdaa60650b8fafcd","contentHash":"5c6b0efbb2f7d968d6d23ddf185e356b47ff8c51047d27744757cdc79bad5fbd"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/userconroller.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/userconroller.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":74}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":18},"end":{"line":10,"column":63}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":13},"end":{"line":12,"column":72}},"8":{"start":{"line":13,"column":18},"end":{"line":13,"column":72}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"10":{"start":{"line":15,"column":18},"end":{"line":21,"column":2}},"11":{"start":{"line":22,"column":11},"end":{"line":22,"column":33}},"12":{"start":{"line":23,"column":18},"end":{"line":56,"column":4}},"13":{"start":{"line":24,"column":13},"end":{"line":52,"column":5}},"14":{"start":{"line":26,"column":4},"end":{"line":51,"column":32}},"15":{"start":{"line":27,"column":6},"end":{"line":50,"column":7}},"16":{"start":{"line":27,"column":16},"end":{"line":50,"column":7}},"17":{"start":{"line":29,"column":10},"end":{"line":29,"column":28}},"18":{"start":{"line":30,"column":10},"end":{"line":30,"column":28}},"19":{"start":{"line":31,"column":10},"end":{"line":35,"column":13}},"20":{"start":{"line":37,"column":10},"end":{"line":37,"column":32}},"21":{"start":{"line":38,"column":10},"end":{"line":42,"column":14}},"22":{"start":{"line":44,"column":10},"end":{"line":44,"column":28}},"23":{"start":{"line":45,"column":10},"end":{"line":45,"column":45}},"24":{"start":{"line":46,"column":10},"end":{"line":46,"column":86}},"25":{"start":{"line":49,"column":10},"end":{"line":49,"column":33}},"26":{"start":{"line":53,"column":2},"end":{"line":55,"column":4}},"27":{"start":{"line":54,"column":4},"end":{"line":54,"column":39}},"28":{"start":{"line":57,"column":0},"end":{"line":57,"column":34}},"29":{"start":{"line":58,"column":18},"end":{"line":100,"column":4}},"30":{"start":{"line":59,"column":14},"end":{"line":96,"column":5}},"31":{"start":{"line":61,"column":4},"end":{"line":95,"column":33}},"32":{"start":{"line":62,"column":6},"end":{"line":94,"column":7}},"33":{"start":{"line":62,"column":16},"end":{"line":94,"column":7}},"34":{"start":{"line":64,"column":10},"end":{"line":64,"column":29}},"35":{"start":{"line":65,"column":10},"end":{"line":65,"column":29}},"36":{"start":{"line":66,"column":10},"end":{"line":73,"column":13}},"37":{"start":{"line":75,"column":10},"end":{"line":75,"column":32}},"38":{"start":{"line":76,"column":10},"end":{"line":79,"column":11}},"39":{"start":{"line":77,"column":12},"end":{"line":77,"column":31}},"40":{"start":{"line":78,"column":12},"end":{"line":78,"column":18}},"41":{"start":{"line":80,"column":10},"end":{"line":80,"column":80}},"42":{"start":{"line":82,"column":10},"end":{"line":86,"column":14}},"43":{"start":{"line":88,"column":10},"end":{"line":88,"column":29}},"44":{"start":{"line":89,"column":10},"end":{"line":89,"column":47}},"45":{"start":{"line":90,"column":10},"end":{"line":90,"column":88}},"46":{"start":{"line":93,"column":10},"end":{"line":93,"column":34}},"47":{"start":{"line":97,"column":2},"end":{"line":99,"column":4}},"48":{"start":{"line":98,"column":4},"end":{"line":98,"column":40}},"49":{"start":{"line":101,"column":0},"end":{"line":101,"column":34}},"50":{"start":{"line":102,"column":19},"end":{"line":161,"column":4}},"51":{"start":{"line":103,"column":14},"end":{"line":157,"column":5}},"52":{"start":{"line":105,"column":4},"end":{"line":156,"column":34}},"53":{"start":{"line":106,"column":6},"end":{"line":155,"column":7}},"54":{"start":{"line":106,"column":16},"end":{"line":155,"column":7}},"55":{"start":{"line":108,"column":10},"end":{"line":108,"column":29}},"56":{"start":{"line":109,"column":10},"end":{"line":109,"column":29}},"57":{"start":{"line":110,"column":10},"end":{"line":110,"column":35}},"58":{"start":{"line":111,"column":10},"end":{"line":111,"column":29}},"59":{"start":{"line":112,"column":10},"end":{"line":116,"column":13}},"60":{"start":{"line":118,"column":10},"end":{"line":118,"column":32}},"61":{"start":{"line":119,"column":10},"end":{"line":124,"column":11}},"62":{"start":{"line":120,"column":12},"end":{"line":123,"column":15}},"63":{"start":{"line":125,"column":10},"end":{"line":125,"column":29}},"64":{"start":{"line":126,"column":10},"end":{"line":132,"column":13}},"65":{"start":{"line":134,"column":10},"end":{"line":134,"column":30}},"66":{"start":{"line":135,"column":10},"end":{"line":140,"column":13}},"67":{"start":{"line":142,"column":10},"end":{"line":145,"column":13}},"68":{"start":{"line":146,"column":10},"end":{"line":146,"column":30}},"69":{"start":{"line":147,"column":10},"end":{"line":147,"column":16}},"70":{"start":{"line":149,"column":10},"end":{"line":149,"column":30}},"71":{"start":{"line":150,"column":10},"end":{"line":150,"column":47}},"72":{"start":{"line":151,"column":10},"end":{"line":151,"column":33}},"73":{"start":{"line":154,"column":10},"end":{"line":154,"column":34}},"74":{"start":{"line":158,"column":2},"end":{"line":160,"column":4}},"75":{"start":{"line":159,"column":4},"end":{"line":159,"column":40}},"76":{"start":{"line":162,"column":0},"end":{"line":162,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":23,"column":60},"end":{"line":23,"column":61}},"loc":{"start":{"line":23,"column":72},"end":{"line":56,"column":1}},"line":23},"1":{"name":"_callee","decl":{"start":{"line":24,"column":100},"end":{"line":24,"column":107}},"loc":{"start":{"line":24,"column":118},"end":{"line":52,"column":3}},"line":24},"2":{"name":"_callee$","decl":{"start":{"line":26,"column":49},"end":{"line":26,"column":57}},"loc":{"start":{"line":26,"column":68},"end":{"line":51,"column":5}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":53,"column":9},"end":{"line":53,"column":10}},"loc":{"start":{"line":53,"column":28},"end":{"line":55,"column":3}},"line":53},"4":{"name":"(anonymous_4)","decl":{"start":{"line":58,"column":60},"end":{"line":58,"column":61}},"loc":{"start":{"line":58,"column":72},"end":{"line":100,"column":1}},"line":58},"5":{"name":"_callee2","decl":{"start":{"line":59,"column":101},"end":{"line":59,"column":109}},"loc":{"start":{"line":59,"column":126},"end":{"line":96,"column":3}},"line":59},"6":{"name":"_callee2$","decl":{"start":{"line":61,"column":49},"end":{"line":61,"column":58}},"loc":{"start":{"line":61,"column":70},"end":{"line":95,"column":5}},"line":61},"7":{"name":"(anonymous_7)","decl":{"start":{"line":97,"column":9},"end":{"line":97,"column":10}},"loc":{"start":{"line":97,"column":34},"end":{"line":99,"column":3}},"line":97},"8":{"name":"(anonymous_8)","decl":{"start":{"line":102,"column":61},"end":{"line":102,"column":62}},"loc":{"start":{"line":102,"column":73},"end":{"line":161,"column":1}},"line":102},"9":{"name":"_callee3","decl":{"start":{"line":103,"column":101},"end":{"line":103,"column":109}},"loc":{"start":{"line":103,"column":120},"end":{"line":157,"column":3}},"line":103},"10":{"name":"_callee3$","decl":{"start":{"line":105,"column":49},"end":{"line":105,"column":58}},"loc":{"start":{"line":105,"column":70},"end":{"line":156,"column":5}},"line":105},"11":{"name":"(anonymous_11)","decl":{"start":{"line":158,"column":9},"end":{"line":158,"column":10}},"loc":{"start":{"line":158,"column":29},"end":{"line":160,"column":3}},"line":158}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":16},"end":{"line":50,"column":7}},"type":"switch","locations":[{"start":{"line":28,"column":8},"end":{"line":35,"column":13}},{"start":{"line":36,"column":8},"end":{"line":42,"column":14}},{"start":{"line":43,"column":8},"end":{"line":46,"column":86}},{"start":{"line":47,"column":8},"end":{"line":47,"column":16}},{"start":{"line":48,"column":8},"end":{"line":49,"column":33}}],"line":27},"1":{"loc":{"start":{"line":62,"column":16},"end":{"line":94,"column":7}},"type":"switch","locations":[{"start":{"line":63,"column":8},"end":{"line":73,"column":13}},{"start":{"line":74,"column":8},"end":{"line":80,"column":80}},{"start":{"line":81,"column":8},"end":{"line":86,"column":14}},{"start":{"line":87,"column":8},"end":{"line":90,"column":88}},{"start":{"line":91,"column":8},"end":{"line":91,"column":16}},{"start":{"line":92,"column":8},"end":{"line":93,"column":34}}],"line":62},"2":{"loc":{"start":{"line":76,"column":10},"end":{"line":79,"column":11}},"type":"if","locations":[{"start":{"line":76,"column":10},"end":{"line":79,"column":11}},{"start":{"line":76,"column":10},"end":{"line":79,"column":11}}],"line":76},"3":{"loc":{"start":{"line":106,"column":16},"end":{"line":155,"column":7}},"type":"switch","locations":[{"start":{"line":107,"column":8},"end":{"line":116,"column":13}},{"start":{"line":117,"column":8},"end":{"line":132,"column":13}},{"start":{"line":133,"column":8},"end":{"line":140,"column":13}},{"start":{"line":141,"column":8},"end":{"line":147,"column":16}},{"start":{"line":148,"column":8},"end":{"line":151,"column":33}},{"start":{"line":152,"column":8},"end":{"line":152,"column":16}},{"start":{"line":153,"column":8},"end":{"line":154,"column":34}}],"line":106},"4":{"loc":{"start":{"line":119,"column":10},"end":{"line":124,"column":11}},"type":"if","locations":[{"start":{"line":119,"column":10},"end":{"line":124,"column":11}},{"start":{"line":119,"column":10},"end":{"line":124,"column":11}}],"line":119}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":1,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":1,"50":1,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0},"b":{"0":[0,0,0,0,0],"1":[0,0,0,0,0,0],"2":[0,0],"3":[0,0,0,0,0,0,0],"4":[0,0]},"inputSourceMap":{"version":3,"names":["_nodemailer","_interopRequireDefault","require","_dotenv","_index","_catchAsync","dotenv","config","transporter","nodemailer","createTransport","service","auth","user","process","env","EMAIL_ADDRESS_STATUS","pass","EMAIL_PASSWORD_STATUS","User","db","getAllUsers","catchAsync","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","users","wrap","_callee$","_context","prev","next","findAll","attributes","exclude","sent","abrupt","status","json","data","message","t","t0","stop","_x","_x2","apply","arguments","exports","getUserData","_ref2","_callee2","_callee2$","_context2","findOne","where","id","params","_x3","_x4","_x5","updateStatus","_ref3","_callee3","_callee3$","_context3","body","update","sendMail","from","to","email","subject","concat","text","name","send","_x6","_x7"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/","sources":["userconroller.js"],"sourcesContent":["import nodemailer from 'nodemailer';\nimport dotenv from 'dotenv';\nimport db from '../database/models/index';\nimport catchAsync from '../utils/catchAsync';\n\ndotenv.config();\n\nconst transporter = nodemailer.createTransport({\n  service: 'gmail',\n  auth: {\n    user: process.env.EMAIL_ADDRESS_STATUS,\n    pass: process.env.EMAIL_PASSWORD_STATUS,\n  },\n});\n\nconst User = db.user;\nexport const getAllUsers = catchAsync(async (req, res) => {\n  try {\n    const users = await User.findAll({\n      attributes: {\n        exclude: ['password', 'createdAt', 'updatedAt', 'carts_id', 'orders_id', 'wishlists_id'],\n      },\n    });\n\n    return res.status(200).json({\n      status: 200,\n\n      data: users,\n\n      message: req.t('retrieved_all'),\n    });\n  } catch (error) {\n    return res.status(500).json(error.message);\n  }\n});\nexport const getUserData = catchAsync(async (req, res, next) => {\n  try {\n    const user = await User.findOne({\n      attributes: {\n        exclude: ['password', 'createdAt', 'updatedAt', 'carts_id', 'orders_id', 'wishlists_id'],\n      },\n\n      where: { id: req.params.id },\n    });\n\n    if (!user) {\n      return next(req.t('user_not_found'), 404);\n    }\n\n    return res.status(200).json({\n      status: true,\n\n      data: user,\n\n      message: req.t('retrieved'),\n    });\n  } catch (error) {\n    return res.status(500).json(error.message);\n  }\n});\nexport const updateStatus = catchAsync(async (req, res) => {\n  try {\n    const { id } = req.params;\n    const { status } = req.body;\n    const user = await User.findOne({ where: { id } });\n    if (!user) {\n      res.status(404).json({\n        status: 404,\n        message: req.t('user_not_found'),\n      });\n    }\n    await user.update(\n      {\n        status,\n      },\n      { where: { id } },\n    );\n    await transporter.sendMail({\n      from: process.env.EMAIL_ADDRESS_STATUS,\n      to: user.email,\n      subject: `Your status has been updated to ${status}`,\n      text: `Dear ${user.name}, your status has been updated to ${status}.`,\n    });\n    res.status(200).json({\n      status: 200,\n      message: req.t('update_status'),\n    });\n  } catch (err) {\n    res.send(err);\n  }\n});\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c304405b6737e57b9bfdd8899c5225d5218c88ca","contentHash":"167a1958974a1d62960607f96ed8325c59d0d596a701932921f3ef7eed3949fa"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/catchAsync.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/catchAsync.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":7,"column":2}},"1":{"start":{"line":4,"column":2},"end":{"line":6,"column":4}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":3,"column":17},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":31},"end":{"line":7,"column":1}},"line":3},"1":{"name":"(anonymous_1)","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":10}},"loc":{"start":{"line":4,"column":35},"end":{"line":6,"column":3}},"line":4}},"branchMap":{},"s":{"0":1,"1":3,"2":0},"f":{"0":3,"1":0},"b":{},"inputSourceMap":{"version":3,"names":["module","exports","fn","req","res","next"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/","sources":["catchAsync.js"],"sourcesContent":["module.exports = (fn) => (req, res, next) => {\n  fn(req, res, next).catch(next);\n};\n"],"mappings":";;AAAAA,MAAM,CAACC,OAAO,GAAG,UAACC,EAAE;EAAA,OAAK,UAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;IAC3CH,EAAE,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,CAAC,SAAM,CAACA,IAAI,CAAC;EAChC,CAAC;AAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"99ddb5fabfd680130c10d61e4374a302f3aa3cd1","contentHash":"65d35141724aac8b88988e379123fb9e5da0574680b0a886829ee566401267bb"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/permissionRoute.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/permissionRoute.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"4":{"start":{"line":9,"column":28},"end":{"line":9,"column":98}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":41}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":34}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":1023}},"8":{"start":{"line":13,"column":15},"end":{"line":13,"column":20}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","require","_permissionController","_interopRequireDefault","_role","Route","Router","post","isAdmin","PermControlle","createNewPermission","get","getAllPermission","getOnePermission","put","updateOnePermission","deleteOnePermission","setPermission","getRoleWithPermission","getoneRoleWithPermission","updateRoleWithPermission","deleteRoleWithPermission","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/","sources":["permissionRoute.js"],"sourcesContent":["import { Router } from 'express';\nimport PermControlle from '../controllers/permissionController';\nimport {\n  isAdmin, isSeller, isBuyer, checkPermission,\n} from '../middleware/role';\n\nconst Route = Router();\n\nRoute.post('/permission', isAdmin, PermControlle.createNewPermission),\nRoute.get('/permission', isAdmin, PermControlle.getAllPermission),\nRoute.get('/permission/:id', isAdmin, PermControlle.getOnePermission),\nRoute.put('/permission/:id', isAdmin, PermControlle.updateOnePermission),\nRoute.delete('/permission/:id', isAdmin, PermControlle.deleteOnePermission),\nRoute.post('/setpermission', isAdmin, PermControlle.setPermission),\nRoute.get('/roles/permissions', isAdmin, PermControlle.getRoleWithPermission),\nRoute.get('/roles/permissions/:id', isAdmin, PermControlle.getoneRoleWithPermission),\nRoute.put('/roles/permissions/:id', isAdmin, PermControlle.updateRoleWithPermission),\nRoute.delete('/roles/permissions/:id', isAdmin, PermControlle.deleteRoleWithPermission);\n\nexport default Route;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,qBAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAIA,IAAMI,KAAK,GAAG,IAAAC,eAAM,GAAE;AAEtBD,KAAK,CAACE,IAAI,CAAC,aAAa,EAAEC,aAAO,EAAEC,gCAAa,CAACC,mBAAmB,CAAC,EACrEL,KAAK,CAACM,GAAG,CAAC,aAAa,EAAEH,aAAO,EAAEC,gCAAa,CAACG,gBAAgB,CAAC,EACjEP,KAAK,CAACM,GAAG,CAAC,iBAAiB,EAAEH,aAAO,EAAEC,gCAAa,CAACI,gBAAgB,CAAC,EACrER,KAAK,CAACS,GAAG,CAAC,iBAAiB,EAAEN,aAAO,EAAEC,gCAAa,CAACM,mBAAmB,CAAC,EACxEV,KAAK,UAAO,CAAC,iBAAiB,EAAEG,aAAO,EAAEC,gCAAa,CAACO,mBAAmB,CAAC,EAC3EX,KAAK,CAACE,IAAI,CAAC,gBAAgB,EAAEC,aAAO,EAAEC,gCAAa,CAACQ,aAAa,CAAC,EAClEZ,KAAK,CAACM,GAAG,CAAC,oBAAoB,EAAEH,aAAO,EAAEC,gCAAa,CAACS,qBAAqB,CAAC,EAC7Eb,KAAK,CAACM,GAAG,CAAC,wBAAwB,EAAEH,aAAO,EAAEC,gCAAa,CAACU,wBAAwB,CAAC,EACpFd,KAAK,CAACS,GAAG,CAAC,wBAAwB,EAAEN,aAAO,EAAEC,gCAAa,CAACW,wBAAwB,CAAC,EACpFf,KAAK,UAAO,CAAC,wBAAwB,EAAEG,aAAO,EAAEC,gCAAa,CAACY,wBAAwB,CAAC;AAAC,IAAAC,QAAA,GAEzEjB,KAAK;AAAAkB,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"560174499c1fd11b7d0ed8f9d6846eb215ed27c3","contentHash":"09dabd1a860d6914e2a1c002fecfed964d900314f13f3df216140c32eed50fd4"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/permissionController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/permissionController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":43}},"6":{"start":{"line":11,"column":39},"end":{"line":44,"column":3}},"7":{"start":{"line":12,"column":13},"end":{"line":40,"column":5}},"8":{"start":{"line":14,"column":4},"end":{"line":39,"column":32}},"9":{"start":{"line":15,"column":6},"end":{"line":38,"column":7}},"10":{"start":{"line":15,"column":16},"end":{"line":38,"column":7}},"11":{"start":{"line":17,"column":10},"end":{"line":17,"column":111}},"12":{"start":{"line":18,"column":10},"end":{"line":18,"column":28}},"13":{"start":{"line":19,"column":10},"end":{"line":19,"column":28}},"14":{"start":{"line":20,"column":10},"end":{"line":23,"column":13}},"15":{"start":{"line":25,"column":10},"end":{"line":25,"column":40}},"16":{"start":{"line":26,"column":10},"end":{"line":30,"column":14}},"17":{"start":{"line":32,"column":10},"end":{"line":32,"column":28}},"18":{"start":{"line":33,"column":10},"end":{"line":33,"column":45}},"19":{"start":{"line":34,"column":10},"end":{"line":34,"column":78}},"20":{"start":{"line":37,"column":10},"end":{"line":37,"column":33}},"21":{"start":{"line":41,"column":2},"end":{"line":43,"column":4}},"22":{"start":{"line":42,"column":4},"end":{"line":42,"column":39}},"23":{"start":{"line":45,"column":36},"end":{"line":79,"column":3}},"24":{"start":{"line":46,"column":14},"end":{"line":75,"column":5}},"25":{"start":{"line":48,"column":4},"end":{"line":74,"column":33}},"26":{"start":{"line":49,"column":6},"end":{"line":73,"column":7}},"27":{"start":{"line":49,"column":16},"end":{"line":73,"column":7}},"28":{"start":{"line":51,"column":10},"end":{"line":51,"column":29}},"29":{"start":{"line":52,"column":10},"end":{"line":52,"column":29}},"30":{"start":{"line":53,"column":10},"end":{"line":53,"column":46}},"31":{"start":{"line":55,"column":10},"end":{"line":55,"column":39}},"32":{"start":{"line":56,"column":10},"end":{"line":60,"column":13}},"33":{"start":{"line":61,"column":10},"end":{"line":61,"column":30}},"34":{"start":{"line":62,"column":10},"end":{"line":62,"column":16}},"35":{"start":{"line":64,"column":10},"end":{"line":64,"column":29}},"36":{"start":{"line":65,"column":10},"end":{"line":65,"column":47}},"37":{"start":{"line":66,"column":10},"end":{"line":69,"column":13}},"38":{"start":{"line":72,"column":10},"end":{"line":72,"column":34}},"39":{"start":{"line":76,"column":2},"end":{"line":78,"column":4}},"40":{"start":{"line":77,"column":4},"end":{"line":77,"column":40}},"41":{"start":{"line":80,"column":36},"end":{"line":128,"column":3}},"42":{"start":{"line":81,"column":14},"end":{"line":124,"column":5}},"43":{"start":{"line":83,"column":4},"end":{"line":123,"column":34}},"44":{"start":{"line":84,"column":6},"end":{"line":122,"column":7}},"45":{"start":{"line":84,"column":16},"end":{"line":122,"column":7}},"46":{"start":{"line":86,"column":10},"end":{"line":86,"column":29}},"47":{"start":{"line":87,"column":10},"end":{"line":87,"column":29}},"48":{"start":{"line":88,"column":10},"end":{"line":88,"column":29}},"49":{"start":{"line":89,"column":10},"end":{"line":93,"column":13}},"50":{"start":{"line":95,"column":10},"end":{"line":95,"column":39}},"51":{"start":{"line":96,"column":10},"end":{"line":99,"column":11}},"52":{"start":{"line":97,"column":12},"end":{"line":97,"column":31}},"53":{"start":{"line":98,"column":12},"end":{"line":98,"column":18}},"54":{"start":{"line":100,"column":10},"end":{"line":104,"column":14}},"55":{"start":{"line":106,"column":10},"end":{"line":109,"column":13}},"56":{"start":{"line":110,"column":10},"end":{"line":110,"column":30}},"57":{"start":{"line":111,"column":10},"end":{"line":111,"column":16}},"58":{"start":{"line":113,"column":10},"end":{"line":113,"column":30}},"59":{"start":{"line":114,"column":10},"end":{"line":114,"column":47}},"60":{"start":{"line":115,"column":10},"end":{"line":118,"column":14}},"61":{"start":{"line":121,"column":10},"end":{"line":121,"column":34}},"62":{"start":{"line":125,"column":2},"end":{"line":127,"column":4}},"63":{"start":{"line":126,"column":4},"end":{"line":126,"column":40}},"64":{"start":{"line":129,"column":39},"end":{"line":186,"column":3}},"65":{"start":{"line":130,"column":14},"end":{"line":182,"column":5}},"66":{"start":{"line":132,"column":4},"end":{"line":181,"column":34}},"67":{"start":{"line":133,"column":6},"end":{"line":180,"column":7}},"68":{"start":{"line":133,"column":16},"end":{"line":180,"column":7}},"69":{"start":{"line":135,"column":10},"end":{"line":135,"column":29}},"70":{"start":{"line":136,"column":10},"end":{"line":136,"column":29}},"71":{"start":{"line":137,"column":10},"end":{"line":141,"column":13}},"72":{"start":{"line":143,"column":10},"end":{"line":143,"column":38}},"73":{"start":{"line":144,"column":10},"end":{"line":144,"column":29}},"74":{"start":{"line":145,"column":10},"end":{"line":148,"column":11}},"75":{"start":{"line":146,"column":12},"end":{"line":146,"column":32}},"76":{"start":{"line":147,"column":12},"end":{"line":147,"column":18}},"77":{"start":{"line":149,"column":10},"end":{"line":149,"column":29}},"78":{"start":{"line":150,"column":10},"end":{"line":154,"column":13}},"79":{"start":{"line":156,"column":10},"end":{"line":159,"column":13}},"80":{"start":{"line":160,"column":10},"end":{"line":160,"column":30}},"81":{"start":{"line":161,"column":10},"end":{"line":161,"column":16}},"82":{"start":{"line":163,"column":10},"end":{"line":166,"column":13}},"83":{"start":{"line":168,"column":10},"end":{"line":168,"column":30}},"84":{"start":{"line":169,"column":10},"end":{"line":169,"column":16}},"85":{"start":{"line":171,"column":10},"end":{"line":171,"column":30}},"86":{"start":{"line":172,"column":10},"end":{"line":172,"column":47}},"87":{"start":{"line":173,"column":10},"end":{"line":176,"column":13}},"88":{"start":{"line":179,"column":10},"end":{"line":179,"column":34}},"89":{"start":{"line":183,"column":2},"end":{"line":185,"column":4}},"90":{"start":{"line":184,"column":4},"end":{"line":184,"column":40}},"91":{"start":{"line":187,"column":39},"end":{"line":243,"column":3}},"92":{"start":{"line":188,"column":14},"end":{"line":239,"column":5}},"93":{"start":{"line":190,"column":4},"end":{"line":238,"column":34}},"94":{"start":{"line":191,"column":6},"end":{"line":237,"column":7}},"95":{"start":{"line":191,"column":16},"end":{"line":237,"column":7}},"96":{"start":{"line":193,"column":10},"end":{"line":193,"column":29}},"97":{"start":{"line":194,"column":10},"end":{"line":194,"column":29}},"98":{"start":{"line":195,"column":10},"end":{"line":199,"column":13}},"99":{"start":{"line":201,"column":10},"end":{"line":201,"column":38}},"100":{"start":{"line":202,"column":10},"end":{"line":202,"column":114}},"101":{"start":{"line":203,"column":10},"end":{"line":203,"column":29}},"102":{"start":{"line":204,"column":10},"end":{"line":207,"column":11}},"103":{"start":{"line":205,"column":12},"end":{"line":205,"column":31}},"104":{"start":{"line":206,"column":12},"end":{"line":206,"column":18}},"105":{"start":{"line":208,"column":10},"end":{"line":211,"column":14}},"106":{"start":{"line":213,"column":10},"end":{"line":213,"column":30}},"107":{"start":{"line":214,"column":10},"end":{"line":221,"column":13}},"108":{"start":{"line":223,"column":10},"end":{"line":226,"column":14}},"109":{"start":{"line":228,"column":10},"end":{"line":228,"column":30}},"110":{"start":{"line":229,"column":10},"end":{"line":229,"column":47}},"111":{"start":{"line":230,"column":10},"end":{"line":233,"column":14}},"112":{"start":{"line":236,"column":10},"end":{"line":236,"column":34}},"113":{"start":{"line":240,"column":2},"end":{"line":242,"column":4}},"114":{"start":{"line":241,"column":4},"end":{"line":241,"column":40}},"115":{"start":{"line":244,"column":33},"end":{"line":279,"column":3}},"116":{"start":{"line":245,"column":14},"end":{"line":275,"column":5}},"117":{"start":{"line":247,"column":4},"end":{"line":274,"column":33}},"118":{"start":{"line":248,"column":6},"end":{"line":273,"column":7}},"119":{"start":{"line":248,"column":16},"end":{"line":273,"column":7}},"120":{"start":{"line":250,"column":10},"end":{"line":253,"column":12}},"121":{"start":{"line":254,"column":10},"end":{"line":254,"column":29}},"122":{"start":{"line":255,"column":10},"end":{"line":255,"column":29}},"123":{"start":{"line":256,"column":10},"end":{"line":256,"column":67}},"124":{"start":{"line":258,"column":10},"end":{"line":258,"column":43}},"125":{"start":{"line":259,"column":10},"end":{"line":263,"column":14}},"126":{"start":{"line":265,"column":10},"end":{"line":265,"column":29}},"127":{"start":{"line":266,"column":10},"end":{"line":266,"column":47}},"128":{"start":{"line":267,"column":10},"end":{"line":269,"column":14}},"129":{"start":{"line":272,"column":10},"end":{"line":272,"column":34}},"130":{"start":{"line":276,"column":2},"end":{"line":278,"column":4}},"131":{"start":{"line":277,"column":4},"end":{"line":277,"column":40}},"132":{"start":{"line":280,"column":41},"end":{"line":313,"column":3}},"133":{"start":{"line":281,"column":14},"end":{"line":309,"column":5}},"134":{"start":{"line":283,"column":4},"end":{"line":308,"column":33}},"135":{"start":{"line":284,"column":6},"end":{"line":307,"column":7}},"136":{"start":{"line":284,"column":16},"end":{"line":307,"column":7}},"137":{"start":{"line":286,"column":10},"end":{"line":286,"column":29}},"138":{"start":{"line":287,"column":10},"end":{"line":287,"column":29}},"139":{"start":{"line":288,"column":10},"end":{"line":288,"column":50}},"140":{"start":{"line":290,"column":10},"end":{"line":290,"column":46}},"141":{"start":{"line":291,"column":10},"end":{"line":294,"column":13}},"142":{"start":{"line":295,"column":10},"end":{"line":295,"column":30}},"143":{"start":{"line":296,"column":10},"end":{"line":296,"column":16}},"144":{"start":{"line":298,"column":10},"end":{"line":298,"column":29}},"145":{"start":{"line":299,"column":10},"end":{"line":299,"column":47}},"146":{"start":{"line":300,"column":10},"end":{"line":303,"column":13}},"147":{"start":{"line":306,"column":10},"end":{"line":306,"column":34}},"148":{"start":{"line":310,"column":2},"end":{"line":312,"column":4}},"149":{"start":{"line":311,"column":4},"end":{"line":311,"column":40}},"150":{"start":{"line":314,"column":44},"end":{"line":358,"column":3}},"151":{"start":{"line":315,"column":14},"end":{"line":354,"column":5}},"152":{"start":{"line":317,"column":4},"end":{"line":353,"column":33}},"153":{"start":{"line":318,"column":6},"end":{"line":352,"column":7}},"154":{"start":{"line":318,"column":16},"end":{"line":352,"column":7}},"155":{"start":{"line":320,"column":10},"end":{"line":320,"column":29}},"156":{"start":{"line":321,"column":10},"end":{"line":321,"column":29}},"157":{"start":{"line":322,"column":10},"end":{"line":322,"column":29}},"158":{"start":{"line":323,"column":10},"end":{"line":327,"column":13}},"159":{"start":{"line":329,"column":10},"end":{"line":329,"column":46}},"160":{"start":{"line":330,"column":10},"end":{"line":340,"column":11}},"161":{"start":{"line":331,"column":12},"end":{"line":334,"column":15}},"162":{"start":{"line":336,"column":12},"end":{"line":339,"column":15}},"163":{"start":{"line":341,"column":10},"end":{"line":341,"column":30}},"164":{"start":{"line":342,"column":10},"end":{"line":342,"column":16}},"165":{"start":{"line":344,"column":10},"end":{"line":344,"column":29}},"166":{"start":{"line":345,"column":10},"end":{"line":345,"column":47}},"167":{"start":{"line":346,"column":10},"end":{"line":348,"column":14}},"168":{"start":{"line":351,"column":10},"end":{"line":351,"column":34}},"169":{"start":{"line":355,"column":2},"end":{"line":357,"column":4}},"170":{"start":{"line":356,"column":4},"end":{"line":356,"column":40}},"171":{"start":{"line":359,"column":44},"end":{"line":416,"column":3}},"172":{"start":{"line":360,"column":14},"end":{"line":412,"column":5}},"173":{"start":{"line":362,"column":4},"end":{"line":411,"column":34}},"174":{"start":{"line":363,"column":6},"end":{"line":410,"column":7}},"175":{"start":{"line":363,"column":16},"end":{"line":410,"column":7}},"176":{"start":{"line":365,"column":10},"end":{"line":365,"column":29}},"177":{"start":{"line":366,"column":10},"end":{"line":366,"column":29}},"178":{"start":{"line":367,"column":10},"end":{"line":371,"column":13}},"179":{"start":{"line":373,"column":10},"end":{"line":373,"column":46}},"180":{"start":{"line":374,"column":10},"end":{"line":374,"column":100}},"181":{"start":{"line":375,"column":10},"end":{"line":375,"column":29}},"182":{"start":{"line":376,"column":10},"end":{"line":379,"column":11}},"183":{"start":{"line":377,"column":12},"end":{"line":377,"column":31}},"184":{"start":{"line":378,"column":12},"end":{"line":378,"column":18}},"185":{"start":{"line":380,"column":10},"end":{"line":383,"column":14}},"186":{"start":{"line":385,"column":10},"end":{"line":385,"column":30}},"187":{"start":{"line":386,"column":10},"end":{"line":393,"column":13}},"188":{"start":{"line":395,"column":10},"end":{"line":399,"column":14}},"189":{"start":{"line":401,"column":10},"end":{"line":401,"column":30}},"190":{"start":{"line":402,"column":10},"end":{"line":402,"column":47}},"191":{"start":{"line":403,"column":10},"end":{"line":406,"column":14}},"192":{"start":{"line":409,"column":10},"end":{"line":409,"column":34}},"193":{"start":{"line":413,"column":2},"end":{"line":415,"column":4}},"194":{"start":{"line":414,"column":4},"end":{"line":414,"column":40}},"195":{"start":{"line":417,"column":44},"end":{"line":474,"column":3}},"196":{"start":{"line":418,"column":15},"end":{"line":470,"column":5}},"197":{"start":{"line":420,"column":4},"end":{"line":469,"column":35}},"198":{"start":{"line":421,"column":6},"end":{"line":468,"column":7}},"199":{"start":{"line":421,"column":16},"end":{"line":468,"column":7}},"200":{"start":{"line":423,"column":10},"end":{"line":423,"column":29}},"201":{"start":{"line":424,"column":10},"end":{"line":424,"column":30}},"202":{"start":{"line":425,"column":10},"end":{"line":429,"column":13}},"203":{"start":{"line":431,"column":10},"end":{"line":431,"column":47}},"204":{"start":{"line":432,"column":10},"end":{"line":432,"column":30}},"205":{"start":{"line":433,"column":10},"end":{"line":436,"column":11}},"206":{"start":{"line":434,"column":12},"end":{"line":434,"column":33}},"207":{"start":{"line":435,"column":12},"end":{"line":435,"column":18}},"208":{"start":{"line":437,"column":10},"end":{"line":437,"column":30}},"209":{"start":{"line":438,"column":10},"end":{"line":442,"column":13}},"210":{"start":{"line":444,"column":10},"end":{"line":447,"column":13}},"211":{"start":{"line":448,"column":10},"end":{"line":448,"column":31}},"212":{"start":{"line":449,"column":10},"end":{"line":449,"column":16}},"213":{"start":{"line":451,"column":10},"end":{"line":454,"column":13}},"214":{"start":{"line":456,"column":10},"end":{"line":456,"column":31}},"215":{"start":{"line":457,"column":10},"end":{"line":457,"column":16}},"216":{"start":{"line":459,"column":10},"end":{"line":459,"column":31}},"217":{"start":{"line":460,"column":10},"end":{"line":460,"column":49}},"218":{"start":{"line":461,"column":10},"end":{"line":464,"column":13}},"219":{"start":{"line":467,"column":10},"end":{"line":467,"column":35}},"220":{"start":{"line":471,"column":2},"end":{"line":473,"column":4}},"221":{"start":{"line":472,"column":4},"end":{"line":472,"column":41}},"222":{"start":{"line":475,"column":15},"end":{"line":486,"column":1}},"223":{"start":{"line":487,"column":0},"end":{"line":487,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":39},"end":{"line":11,"column":40}},"loc":{"start":{"line":11,"column":51},"end":{"line":44,"column":1}},"line":11},"1":{"name":"_callee","decl":{"start":{"line":12,"column":100},"end":{"line":12,"column":107}},"loc":{"start":{"line":12,"column":118},"end":{"line":40,"column":3}},"line":12},"2":{"name":"_callee$","decl":{"start":{"line":14,"column":49},"end":{"line":14,"column":57}},"loc":{"start":{"line":14,"column":68},"end":{"line":39,"column":5}},"line":14},"3":{"name":"createNewPermission","decl":{"start":{"line":41,"column":18},"end":{"line":41,"column":37}},"loc":{"start":{"line":41,"column":47},"end":{"line":43,"column":3}},"line":41},"4":{"name":"(anonymous_4)","decl":{"start":{"line":45,"column":36},"end":{"line":45,"column":37}},"loc":{"start":{"line":45,"column":48},"end":{"line":79,"column":1}},"line":45},"5":{"name":"_callee2","decl":{"start":{"line":46,"column":101},"end":{"line":46,"column":109}},"loc":{"start":{"line":46,"column":120},"end":{"line":75,"column":3}},"line":46},"6":{"name":"_callee2$","decl":{"start":{"line":48,"column":49},"end":{"line":48,"column":58}},"loc":{"start":{"line":48,"column":70},"end":{"line":74,"column":5}},"line":48},"7":{"name":"getAllPermission","decl":{"start":{"line":76,"column":18},"end":{"line":76,"column":34}},"loc":{"start":{"line":76,"column":45},"end":{"line":78,"column":3}},"line":76},"8":{"name":"(anonymous_8)","decl":{"start":{"line":80,"column":36},"end":{"line":80,"column":37}},"loc":{"start":{"line":80,"column":48},"end":{"line":128,"column":1}},"line":80},"9":{"name":"_callee3","decl":{"start":{"line":81,"column":101},"end":{"line":81,"column":109}},"loc":{"start":{"line":81,"column":120},"end":{"line":124,"column":3}},"line":81},"10":{"name":"_callee3$","decl":{"start":{"line":83,"column":49},"end":{"line":83,"column":58}},"loc":{"start":{"line":83,"column":70},"end":{"line":123,"column":5}},"line":83},"11":{"name":"getOnePermission","decl":{"start":{"line":125,"column":18},"end":{"line":125,"column":34}},"loc":{"start":{"line":125,"column":45},"end":{"line":127,"column":3}},"line":125},"12":{"name":"(anonymous_12)","decl":{"start":{"line":129,"column":39},"end":{"line":129,"column":40}},"loc":{"start":{"line":129,"column":51},"end":{"line":186,"column":1}},"line":129},"13":{"name":"_callee4","decl":{"start":{"line":130,"column":101},"end":{"line":130,"column":109}},"loc":{"start":{"line":130,"column":120},"end":{"line":182,"column":3}},"line":130},"14":{"name":"_callee4$","decl":{"start":{"line":132,"column":49},"end":{"line":132,"column":58}},"loc":{"start":{"line":132,"column":70},"end":{"line":181,"column":5}},"line":132},"15":{"name":"deleteOnePermission","decl":{"start":{"line":183,"column":18},"end":{"line":183,"column":37}},"loc":{"start":{"line":183,"column":48},"end":{"line":185,"column":3}},"line":183},"16":{"name":"(anonymous_16)","decl":{"start":{"line":187,"column":39},"end":{"line":187,"column":40}},"loc":{"start":{"line":187,"column":51},"end":{"line":243,"column":1}},"line":187},"17":{"name":"_callee5","decl":{"start":{"line":188,"column":101},"end":{"line":188,"column":109}},"loc":{"start":{"line":188,"column":120},"end":{"line":239,"column":3}},"line":188},"18":{"name":"_callee5$","decl":{"start":{"line":190,"column":49},"end":{"line":190,"column":58}},"loc":{"start":{"line":190,"column":70},"end":{"line":238,"column":5}},"line":190},"19":{"name":"updateOnePermission","decl":{"start":{"line":240,"column":18},"end":{"line":240,"column":37}},"loc":{"start":{"line":240,"column":49},"end":{"line":242,"column":3}},"line":240},"20":{"name":"(anonymous_20)","decl":{"start":{"line":244,"column":33},"end":{"line":244,"column":34}},"loc":{"start":{"line":244,"column":45},"end":{"line":279,"column":1}},"line":244},"21":{"name":"_callee6","decl":{"start":{"line":245,"column":101},"end":{"line":245,"column":109}},"loc":{"start":{"line":245,"column":120},"end":{"line":275,"column":3}},"line":245},"22":{"name":"_callee6$","decl":{"start":{"line":247,"column":49},"end":{"line":247,"column":58}},"loc":{"start":{"line":247,"column":70},"end":{"line":274,"column":5}},"line":247},"23":{"name":"setPermission","decl":{"start":{"line":276,"column":18},"end":{"line":276,"column":31}},"loc":{"start":{"line":276,"column":44},"end":{"line":278,"column":3}},"line":276},"24":{"name":"(anonymous_24)","decl":{"start":{"line":280,"column":41},"end":{"line":280,"column":42}},"loc":{"start":{"line":280,"column":53},"end":{"line":313,"column":1}},"line":280},"25":{"name":"_callee7","decl":{"start":{"line":281,"column":101},"end":{"line":281,"column":109}},"loc":{"start":{"line":281,"column":120},"end":{"line":309,"column":3}},"line":281},"26":{"name":"_callee7$","decl":{"start":{"line":283,"column":49},"end":{"line":283,"column":58}},"loc":{"start":{"line":283,"column":70},"end":{"line":308,"column":5}},"line":283},"27":{"name":"getRoleWithPermission","decl":{"start":{"line":310,"column":18},"end":{"line":310,"column":39}},"loc":{"start":{"line":310,"column":52},"end":{"line":312,"column":3}},"line":310},"28":{"name":"(anonymous_28)","decl":{"start":{"line":314,"column":44},"end":{"line":314,"column":45}},"loc":{"start":{"line":314,"column":56},"end":{"line":358,"column":1}},"line":314},"29":{"name":"_callee8","decl":{"start":{"line":315,"column":101},"end":{"line":315,"column":109}},"loc":{"start":{"line":315,"column":120},"end":{"line":354,"column":3}},"line":315},"30":{"name":"_callee8$","decl":{"start":{"line":317,"column":49},"end":{"line":317,"column":58}},"loc":{"start":{"line":317,"column":70},"end":{"line":353,"column":5}},"line":317},"31":{"name":"getoneRoleWithPermission","decl":{"start":{"line":355,"column":18},"end":{"line":355,"column":42}},"loc":{"start":{"line":355,"column":55},"end":{"line":357,"column":3}},"line":355},"32":{"name":"(anonymous_32)","decl":{"start":{"line":359,"column":44},"end":{"line":359,"column":45}},"loc":{"start":{"line":359,"column":56},"end":{"line":416,"column":1}},"line":359},"33":{"name":"_callee9","decl":{"start":{"line":360,"column":101},"end":{"line":360,"column":109}},"loc":{"start":{"line":360,"column":120},"end":{"line":412,"column":3}},"line":360},"34":{"name":"_callee9$","decl":{"start":{"line":362,"column":49},"end":{"line":362,"column":58}},"loc":{"start":{"line":362,"column":70},"end":{"line":411,"column":5}},"line":362},"35":{"name":"updateRoleWithPermission","decl":{"start":{"line":413,"column":18},"end":{"line":413,"column":42}},"loc":{"start":{"line":413,"column":55},"end":{"line":415,"column":3}},"line":413},"36":{"name":"(anonymous_36)","decl":{"start":{"line":417,"column":44},"end":{"line":417,"column":45}},"loc":{"start":{"line":417,"column":56},"end":{"line":474,"column":1}},"line":417},"37":{"name":"_callee10","decl":{"start":{"line":418,"column":102},"end":{"line":418,"column":111}},"loc":{"start":{"line":418,"column":122},"end":{"line":470,"column":3}},"line":418},"38":{"name":"_callee10$","decl":{"start":{"line":420,"column":49},"end":{"line":420,"column":59}},"loc":{"start":{"line":420,"column":72},"end":{"line":469,"column":5}},"line":420},"39":{"name":"deleteRoleWithPermission","decl":{"start":{"line":471,"column":18},"end":{"line":471,"column":42}},"loc":{"start":{"line":471,"column":55},"end":{"line":473,"column":3}},"line":471}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":16},"end":{"line":38,"column":7}},"type":"switch","locations":[{"start":{"line":16,"column":8},"end":{"line":23,"column":13}},{"start":{"line":24,"column":8},"end":{"line":30,"column":14}},{"start":{"line":31,"column":8},"end":{"line":34,"column":78}},{"start":{"line":35,"column":8},"end":{"line":35,"column":16}},{"start":{"line":36,"column":8},"end":{"line":37,"column":33}}],"line":15},"1":{"loc":{"start":{"line":49,"column":16},"end":{"line":73,"column":7}},"type":"switch","locations":[{"start":{"line":50,"column":8},"end":{"line":53,"column":46}},{"start":{"line":54,"column":8},"end":{"line":62,"column":16}},{"start":{"line":63,"column":8},"end":{"line":69,"column":13}},{"start":{"line":70,"column":8},"end":{"line":70,"column":16}},{"start":{"line":71,"column":8},"end":{"line":72,"column":34}}],"line":49},"2":{"loc":{"start":{"line":84,"column":16},"end":{"line":122,"column":7}},"type":"switch","locations":[{"start":{"line":85,"column":8},"end":{"line":93,"column":13}},{"start":{"line":94,"column":8},"end":{"line":104,"column":14}},{"start":{"line":105,"column":8},"end":{"line":111,"column":16}},{"start":{"line":112,"column":8},"end":{"line":118,"column":14}},{"start":{"line":119,"column":8},"end":{"line":119,"column":16}},{"start":{"line":120,"column":8},"end":{"line":121,"column":34}}],"line":84},"3":{"loc":{"start":{"line":96,"column":10},"end":{"line":99,"column":11}},"type":"if","locations":[{"start":{"line":96,"column":10},"end":{"line":99,"column":11}},{"start":{"line":96,"column":10},"end":{"line":99,"column":11}}],"line":96},"4":{"loc":{"start":{"line":133,"column":16},"end":{"line":180,"column":7}},"type":"switch","locations":[{"start":{"line":134,"column":8},"end":{"line":141,"column":13}},{"start":{"line":142,"column":8},"end":{"line":154,"column":13}},{"start":{"line":155,"column":8},"end":{"line":161,"column":16}},{"start":{"line":162,"column":8},"end":{"line":166,"column":13}},{"start":{"line":167,"column":8},"end":{"line":169,"column":16}},{"start":{"line":170,"column":8},"end":{"line":176,"column":13}},{"start":{"line":177,"column":8},"end":{"line":177,"column":16}},{"start":{"line":178,"column":8},"end":{"line":179,"column":34}}],"line":133},"5":{"loc":{"start":{"line":145,"column":10},"end":{"line":148,"column":11}},"type":"if","locations":[{"start":{"line":145,"column":10},"end":{"line":148,"column":11}},{"start":{"line":145,"column":10},"end":{"line":148,"column":11}}],"line":145},"6":{"loc":{"start":{"line":191,"column":16},"end":{"line":237,"column":7}},"type":"switch","locations":[{"start":{"line":192,"column":8},"end":{"line":199,"column":13}},{"start":{"line":200,"column":8},"end":{"line":211,"column":14}},{"start":{"line":212,"column":8},"end":{"line":221,"column":13}},{"start":{"line":222,"column":8},"end":{"line":226,"column":14}},{"start":{"line":227,"column":8},"end":{"line":233,"column":14}},{"start":{"line":234,"column":8},"end":{"line":234,"column":16}},{"start":{"line":235,"column":8},"end":{"line":236,"column":34}}],"line":191},"7":{"loc":{"start":{"line":204,"column":10},"end":{"line":207,"column":11}},"type":"if","locations":[{"start":{"line":204,"column":10},"end":{"line":207,"column":11}},{"start":{"line":204,"column":10},"end":{"line":207,"column":11}}],"line":204},"8":{"loc":{"start":{"line":248,"column":16},"end":{"line":273,"column":7}},"type":"switch","locations":[{"start":{"line":249,"column":8},"end":{"line":256,"column":67}},{"start":{"line":257,"column":8},"end":{"line":263,"column":14}},{"start":{"line":264,"column":8},"end":{"line":269,"column":14}},{"start":{"line":270,"column":8},"end":{"line":270,"column":16}},{"start":{"line":271,"column":8},"end":{"line":272,"column":34}}],"line":248},"9":{"loc":{"start":{"line":284,"column":16},"end":{"line":307,"column":7}},"type":"switch","locations":[{"start":{"line":285,"column":8},"end":{"line":288,"column":50}},{"start":{"line":289,"column":8},"end":{"line":296,"column":16}},{"start":{"line":297,"column":8},"end":{"line":303,"column":13}},{"start":{"line":304,"column":8},"end":{"line":304,"column":16}},{"start":{"line":305,"column":8},"end":{"line":306,"column":34}}],"line":284},"10":{"loc":{"start":{"line":318,"column":16},"end":{"line":352,"column":7}},"type":"switch","locations":[{"start":{"line":319,"column":8},"end":{"line":327,"column":13}},{"start":{"line":328,"column":8},"end":{"line":342,"column":16}},{"start":{"line":343,"column":8},"end":{"line":348,"column":14}},{"start":{"line":349,"column":8},"end":{"line":349,"column":16}},{"start":{"line":350,"column":8},"end":{"line":351,"column":34}}],"line":318},"11":{"loc":{"start":{"line":330,"column":10},"end":{"line":340,"column":11}},"type":"if","locations":[{"start":{"line":330,"column":10},"end":{"line":340,"column":11}},{"start":{"line":330,"column":10},"end":{"line":340,"column":11}}],"line":330},"12":{"loc":{"start":{"line":363,"column":16},"end":{"line":410,"column":7}},"type":"switch","locations":[{"start":{"line":364,"column":8},"end":{"line":371,"column":13}},{"start":{"line":372,"column":8},"end":{"line":383,"column":14}},{"start":{"line":384,"column":8},"end":{"line":393,"column":13}},{"start":{"line":394,"column":8},"end":{"line":399,"column":14}},{"start":{"line":400,"column":8},"end":{"line":406,"column":14}},{"start":{"line":407,"column":8},"end":{"line":407,"column":16}},{"start":{"line":408,"column":8},"end":{"line":409,"column":34}}],"line":363},"13":{"loc":{"start":{"line":376,"column":10},"end":{"line":379,"column":11}},"type":"if","locations":[{"start":{"line":376,"column":10},"end":{"line":379,"column":11}},{"start":{"line":376,"column":10},"end":{"line":379,"column":11}}],"line":376},"14":{"loc":{"start":{"line":421,"column":16},"end":{"line":468,"column":7}},"type":"switch","locations":[{"start":{"line":422,"column":8},"end":{"line":429,"column":13}},{"start":{"line":430,"column":8},"end":{"line":442,"column":13}},{"start":{"line":443,"column":8},"end":{"line":449,"column":16}},{"start":{"line":450,"column":8},"end":{"line":454,"column":13}},{"start":{"line":455,"column":8},"end":{"line":457,"column":16}},{"start":{"line":458,"column":8},"end":{"line":464,"column":13}},{"start":{"line":465,"column":8},"end":{"line":465,"column":16}},{"start":{"line":466,"column":8},"end":{"line":467,"column":35}}],"line":421},"15":{"loc":{"start":{"line":433,"column":10},"end":{"line":436,"column":11}},"type":"if","locations":[{"start":{"line":433,"column":10},"end":{"line":436,"column":11}},{"start":{"line":433,"column":10},"end":{"line":436,"column":11}}],"line":433}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":1,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":1,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":1,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":1,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":1,"131":0,"132":1,"133":1,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":0,"150":1,"151":1,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":1,"170":0,"171":1,"172":1,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":1,"194":0,"195":1,"196":1,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":1,"221":0,"222":1,"223":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0},"b":{"0":[0,0,0,0,0],"1":[0,0,0,0,0],"2":[0,0,0,0,0,0],"3":[0,0],"4":[0,0,0,0,0,0,0,0],"5":[0,0],"6":[0,0,0,0,0,0,0],"7":[0,0],"8":[0,0,0,0,0],"9":[0,0,0,0,0],"10":[0,0,0,0,0],"11":[0,0],"12":[0,0,0,0,0,0,0],"13":[0,0],"14":[0,0,0,0,0,0,0,0],"15":[0,0]},"inputSourceMap":{"version":3,"names":["_models","require","createNewPermission","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","permissionName","description","newPermission","wrap","_callee$","_context","prev","next","body","permission","create","sent","abrupt","status","json","statusCode","message","t","data","t0","stop","_x","_x2","apply","arguments","getAllPermission","_ref2","_callee2","permissions","_callee2$","_context2","findAll","_x3","_x4","getOnePermission","_ref3","_callee3","id","_callee3$","_context3","params","findOne","where","_x5","_x6","deleteOnePermission","_ref4","_callee4","Permission","_callee4$","_context4","destroy","_x7","_x8","updateOnePermission","_ref5","_callee5","_req$body2","_callee5$","_context5","update","_x9","_x10","setPermission","_ref6","_callee6","rolePermissionData","rolePermissions","_callee6$","_context6","roleId","permissionId","rolepermission","response","_x11","_x12","getRoleWithPermission","_ref7","_callee7","RoleWithPermission","_callee7$","_context7","_x13","_x14","getoneRoleWithPermission","_ref8","_callee8","_callee8$","_context8","_x15","_x16","updateRoleWithPermission","_ref9","_callee9","_req$body3","_callee9$","_context9","_x17","_x18","deleteRoleWithPermission","_ref10","_callee10","_callee10$","_context10","_x19","_x20","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/","sources":["permissionController.js"],"sourcesContent":["import { permission, rolepermission } from '../database/models';\n\nconst createNewPermission = async (req, res) => {\n  const { permissionName, description } = req.body;\n  try {\n    const newPermission = await permission.create({ permissionName, description });\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('permission_create_message'),\n      data: newPermission,\n    });\n  } catch (err) {\n    return res.status(500).json(err);\n  }\n};\n\nconst getAllPermission = async (req, res) => {\n  try {\n    const permissions = await permission.findAll();\n    res.status(200).json({\n      statusCode: 200,\n      message: req.t('permission_fetch_message'),\n      data: permissions,\n    });\n  } catch (error) {\n    res.status(400).json({\n      statusCode: 400,\n      data: error,\n    });\n  }\n};\n\nconst getOnePermission = async (req, res) => {\n  const { id } = req.params;\n  try {\n    const permissions = await permission.findOne({\n      where: { id },\n    });\n    if (permissions) {\n      return res.status(200).json({\n        statusCode: 200,\n        message: req.t('permission_fetch_message'),\n        data: permissions,\n      });\n    }\n    res.status(404).json({\n      statusCode: 404,\n      message: req.t('id_unexist_message'),\n    });\n  } catch (error) {\n    return res.status(400).json({ statusCode: 400, data: error });\n  }\n};\n\nconst deleteOnePermission = async (req, res) => {\n  const { id } = req.params;\n  const Permission = await permission.findOne({\n    where: { id },\n  });\n  try {\n    if (Permission) {\n      await permission.destroy({\n        where: {\n          id,\n        },\n      });\n      res.status(200).json({\n        statusCode: 200,\n        message: req.t('permission_delete_message'),\n      });\n    } else {\n      res.status(404).json({\n        statusCode: 404,\n        message: req.t('id_unexist_message'),\n      });\n    }\n  } catch (error) {\n    res.status(400).json({ statusCode: 400, data: error });\n  }\n};\n\nconst updateOnePermission = async (req, res) => {\n  const { id } = req.params;\n  const Permission = await permission.findOne({\n    where: { id },\n  });\n  const { permissionName, description } = req.body;\n  try {\n    if (!Permission) {\n      return res.status(404).json({\n        statusCode: 404,\n        message: req.t('id_unexist_message'),\n      });\n    }\n    await permission.update(\n      { permissionName, description },\n      {\n        where: { id },\n      },\n    );\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('permission_update_message'),\n    });\n  } catch (error) {\n    return res.status(500).json({\n      statusCode: 500,\n      message: req.t('server_error_message'),\n    });\n  }\n};\nconst setPermission = async (req, res) => {\n  const rolePermissionData = {\n    roleId: req.body.roleId,\n    permissionId: req.body.permissionId,\n  };\n  try {\n    const rolePermissions = await rolepermission.create(rolePermissionData);\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('set_permission_message'),\n      response: rolePermissions,\n    });\n  } catch (error) {\n    return res.status(500).json({ message: req.t('server_error_message') });\n  }\n};\n\nconst getRoleWithPermission = async (req, res) => {\n  try {\n    const RoleWithPermission = await rolepermission.findAll();\n    res.status(200).json({ statusCode: 200, data: RoleWithPermission });\n  } catch (error) {\n    res.status(400).json({ statusCode: 400, data: error });\n  }\n};\nconst getoneRoleWithPermission = async (req, res) => {\n  const { id } = req.params;\n  try {\n    const RoleWithPermission = await rolepermission.findOne({\n      where: { id },\n    });\n    if (RoleWithPermission) {\n      res.status(200).json({ statusCode: 200, data: RoleWithPermission });\n    } else {\n      res.status(404).json({\n        statusCode: 404,\n        message: req.t('id_unexist_message'),\n      });\n    }\n  } catch (error) {\n    return res.status(500).json({ message: req.t('server_error_message') });\n  }\n};\nconst updateRoleWithPermission = async (req, res) => {\n  const { id } = req.params;\n  const RoleWithPermission = await rolepermission.findOne({\n    where: { id },\n  });\n  const { roleId, permissionId } = req.body;\n  try {\n    if (!RoleWithPermission) {\n      return res.status(404).json({\n        statusCode: 404,\n        message: req.t('id_unexist_message'),\n      });\n    }\n    await rolepermission.update(\n      { roleId, permissionId },\n      {\n        where: { id },\n      },\n    );\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('update_message'),\n      data: RoleWithPermission,\n    });\n  } catch (error) {\n    return res.status(500).json({\n      statusCode: 400,\n      message: req.t('server_error_message'),\n    });\n  }\n};\nconst deleteRoleWithPermission = async (req, res) => {\n  const { id } = req.params;\n  const RoleWithPermission = await rolepermission.findOne({\n    where: { id },\n  });\n  try {\n    if (RoleWithPermission) {\n      await rolepermission.destroy({\n        where: {\n          id,\n        },\n      });\n      res.status(200).json({\n        statusCode: 200,\n        message: req.t('delete_message'),\n      });\n    } else {\n      res.status(404).json({\n        statusCode: 404,\n        message: req.t('id_unexist_message'),\n      });\n    }\n  } catch (error) {\n    res.status(400).json({ statusCode: 400, data: error });\n  }\n};\n\nexport default {\n  createNewPermission,\n  getAllPermission,\n  getOnePermission,\n  updateOnePermission,\n  deleteOnePermission,\n  setPermission,\n  getRoleWithPermission,\n  getoneRoleWithPermission,\n  updateRoleWithPermission,\n  deleteRoleWithPermission,\n};\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8a61e33c705a07ddbc94d3750e59745a2523e331","contentHash":"47f5d4ddcc85dcb127f51147003e0ba21e04d2343a020f79acb23afd470cf344"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/role.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/role.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":88}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":67}},"6":{"start":{"line":11,"column":11},"end":{"line":11,"column":58}},"7":{"start":{"line":12,"column":27},"end":{"line":63,"column":3}},"8":{"start":{"line":13,"column":13},"end":{"line":59,"column":5}},"9":{"start":{"line":15,"column":4},"end":{"line":58,"column":33}},"10":{"start":{"line":16,"column":6},"end":{"line":57,"column":7}},"11":{"start":{"line":16,"column":16},"end":{"line":57,"column":7}},"12":{"start":{"line":18,"column":10},"end":{"line":18,"column":58}},"13":{"start":{"line":19,"column":10},"end":{"line":22,"column":11}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":30}},"15":{"start":{"line":21,"column":12},"end":{"line":21,"column":18}},"16":{"start":{"line":23,"column":10},"end":{"line":25,"column":14}},"17":{"start":{"line":27,"column":10},"end":{"line":27,"column":28}},"18":{"start":{"line":28,"column":10},"end":{"line":28,"column":60}},"19":{"start":{"line":29,"column":10},"end":{"line":29,"column":117}},"20":{"start":{"line":30,"column":10},"end":{"line":30,"column":28}},"21":{"start":{"line":31,"column":10},"end":{"line":35,"column":13}},"22":{"start":{"line":37,"column":10},"end":{"line":37,"column":31}},"23":{"start":{"line":38,"column":10},"end":{"line":44,"column":11}},"24":{"start":{"line":39,"column":12},"end":{"line":39,"column":19}},"25":{"start":{"line":41,"column":12},"end":{"line":43,"column":15}},"26":{"start":{"line":45,"column":10},"end":{"line":45,"column":29}},"27":{"start":{"line":46,"column":10},"end":{"line":46,"column":16}},"28":{"start":{"line":48,"column":10},"end":{"line":48,"column":29}},"29":{"start":{"line":49,"column":10},"end":{"line":49,"column":45}},"30":{"start":{"line":50,"column":10},"end":{"line":50,"column":37}},"31":{"start":{"line":51,"column":10},"end":{"line":53,"column":13}},"32":{"start":{"line":56,"column":10},"end":{"line":56,"column":33}},"33":{"start":{"line":60,"column":2},"end":{"line":62,"column":4}},"34":{"start":{"line":61,"column":4},"end":{"line":61,"column":39}},"35":{"start":{"line":64,"column":0},"end":{"line":64,"column":26}},"36":{"start":{"line":65,"column":28},"end":{"line":116,"column":3}},"37":{"start":{"line":66,"column":14},"end":{"line":112,"column":5}},"38":{"start":{"line":68,"column":4},"end":{"line":111,"column":34}},"39":{"start":{"line":69,"column":6},"end":{"line":110,"column":7}},"40":{"start":{"line":69,"column":16},"end":{"line":110,"column":7}},"41":{"start":{"line":71,"column":10},"end":{"line":71,"column":58}},"42":{"start":{"line":72,"column":10},"end":{"line":75,"column":11}},"43":{"start":{"line":73,"column":12},"end":{"line":73,"column":31}},"44":{"start":{"line":74,"column":12},"end":{"line":74,"column":18}},"45":{"start":{"line":76,"column":10},"end":{"line":78,"column":14}},"46":{"start":{"line":80,"column":10},"end":{"line":80,"column":29}},"47":{"start":{"line":81,"column":10},"end":{"line":81,"column":60}},"48":{"start":{"line":82,"column":10},"end":{"line":82,"column":120}},"49":{"start":{"line":83,"column":10},"end":{"line":83,"column":29}},"50":{"start":{"line":84,"column":10},"end":{"line":88,"column":13}},"51":{"start":{"line":90,"column":10},"end":{"line":90,"column":32}},"52":{"start":{"line":91,"column":10},"end":{"line":97,"column":11}},"53":{"start":{"line":92,"column":12},"end":{"line":92,"column":19}},"54":{"start":{"line":94,"column":12},"end":{"line":96,"column":15}},"55":{"start":{"line":98,"column":10},"end":{"line":98,"column":30}},"56":{"start":{"line":99,"column":10},"end":{"line":99,"column":16}},"57":{"start":{"line":101,"column":10},"end":{"line":101,"column":30}},"58":{"start":{"line":102,"column":10},"end":{"line":102,"column":47}},"59":{"start":{"line":103,"column":10},"end":{"line":103,"column":38}},"60":{"start":{"line":104,"column":10},"end":{"line":106,"column":13}},"61":{"start":{"line":109,"column":10},"end":{"line":109,"column":34}},"62":{"start":{"line":113,"column":2},"end":{"line":115,"column":4}},"63":{"start":{"line":114,"column":4},"end":{"line":114,"column":40}},"64":{"start":{"line":117,"column":0},"end":{"line":117,"column":28}},"65":{"start":{"line":118,"column":27},"end":{"line":170,"column":3}},"66":{"start":{"line":119,"column":14},"end":{"line":166,"column":5}},"67":{"start":{"line":121,"column":4},"end":{"line":165,"column":34}},"68":{"start":{"line":122,"column":6},"end":{"line":164,"column":7}},"69":{"start":{"line":122,"column":16},"end":{"line":164,"column":7}},"70":{"start":{"line":124,"column":10},"end":{"line":124,"column":44}},"71":{"start":{"line":125,"column":10},"end":{"line":128,"column":11}},"72":{"start":{"line":126,"column":12},"end":{"line":126,"column":31}},"73":{"start":{"line":127,"column":12},"end":{"line":127,"column":18}},"74":{"start":{"line":129,"column":10},"end":{"line":131,"column":14}},"75":{"start":{"line":133,"column":10},"end":{"line":133,"column":29}},"76":{"start":{"line":134,"column":10},"end":{"line":134,"column":74}},"77":{"start":{"line":135,"column":10},"end":{"line":135,"column":120}},"78":{"start":{"line":136,"column":10},"end":{"line":136,"column":29}},"79":{"start":{"line":137,"column":10},"end":{"line":141,"column":13}},"80":{"start":{"line":143,"column":10},"end":{"line":143,"column":32}},"81":{"start":{"line":144,"column":10},"end":{"line":151,"column":11}},"82":{"start":{"line":145,"column":12},"end":{"line":145,"column":33}},"83":{"start":{"line":146,"column":12},"end":{"line":146,"column":19}},"84":{"start":{"line":148,"column":12},"end":{"line":150,"column":15}},"85":{"start":{"line":152,"column":10},"end":{"line":152,"column":30}},"86":{"start":{"line":153,"column":10},"end":{"line":153,"column":16}},"87":{"start":{"line":155,"column":10},"end":{"line":155,"column":30}},"88":{"start":{"line":156,"column":10},"end":{"line":156,"column":47}},"89":{"start":{"line":157,"column":10},"end":{"line":157,"column":38}},"90":{"start":{"line":158,"column":10},"end":{"line":160,"column":13}},"91":{"start":{"line":163,"column":10},"end":{"line":163,"column":34}},"92":{"start":{"line":167,"column":2},"end":{"line":169,"column":4}},"93":{"start":{"line":168,"column":4},"end":{"line":168,"column":40}},"94":{"start":{"line":171,"column":0},"end":{"line":171,"column":26}},"95":{"start":{"line":172,"column":22},"end":{"line":204,"column":1}},"96":{"start":{"line":173,"column":2},"end":{"line":203,"column":6}},"97":{"start":{"line":174,"column":16},"end":{"line":199,"column":7}},"98":{"start":{"line":176,"column":6},"end":{"line":198,"column":36}},"99":{"start":{"line":177,"column":8},"end":{"line":197,"column":9}},"100":{"start":{"line":177,"column":18},"end":{"line":197,"column":9}},"101":{"start":{"line":179,"column":12},"end":{"line":179,"column":31}},"102":{"start":{"line":180,"column":12},"end":{"line":180,"column":34}},"103":{"start":{"line":181,"column":12},"end":{"line":181,"column":46}},"104":{"start":{"line":182,"column":12},"end":{"line":182,"column":31}},"105":{"start":{"line":183,"column":12},"end":{"line":183,"column":51}},"106":{"start":{"line":185,"column":12},"end":{"line":185,"column":34}},"107":{"start":{"line":186,"column":12},"end":{"line":186,"column":76}},"108":{"start":{"line":187,"column":12},"end":{"line":187,"column":19}},"109":{"start":{"line":188,"column":12},"end":{"line":188,"column":32}},"110":{"start":{"line":189,"column":12},"end":{"line":189,"column":18}},"111":{"start":{"line":191,"column":12},"end":{"line":191,"column":32}},"112":{"start":{"line":192,"column":12},"end":{"line":192,"column":49}},"113":{"start":{"line":193,"column":12},"end":{"line":193,"column":43}},"114":{"start":{"line":196,"column":12},"end":{"line":196,"column":36}},"115":{"start":{"line":200,"column":4},"end":{"line":202,"column":6}},"116":{"start":{"line":201,"column":6},"end":{"line":201,"column":42}},"117":{"start":{"line":205,"column":0},"end":{"line":205,"column":42}},"118":{"start":{"line":206,"column":15},"end":{"line":212,"column":1}},"119":{"start":{"line":207,"column":19},"end":{"line":207,"column":44}},"120":{"start":{"line":208,"column":2},"end":{"line":210,"column":3}},"121":{"start":{"line":209,"column":4},"end":{"line":209,"column":42}},"122":{"start":{"line":211,"column":2},"end":{"line":211,"column":34}},"123":{"start":{"line":213,"column":18},"end":{"line":219,"column":1}},"124":{"start":{"line":214,"column":2},"end":{"line":218,"column":3}},"125":{"start":{"line":215,"column":4},"end":{"line":215,"column":46}},"126":{"start":{"line":217,"column":4},"end":{"line":217,"column":37}},"127":{"start":{"line":220,"column":28},"end":{"line":250,"column":3}},"128":{"start":{"line":221,"column":14},"end":{"line":246,"column":5}},"129":{"start":{"line":223,"column":4},"end":{"line":245,"column":17}},"130":{"start":{"line":224,"column":6},"end":{"line":244,"column":7}},"131":{"start":{"line":224,"column":16},"end":{"line":244,"column":7}},"132":{"start":{"line":226,"column":10},"end":{"line":226,"column":29}},"133":{"start":{"line":227,"column":10},"end":{"line":231,"column":13}},"134":{"start":{"line":233,"column":10},"end":{"line":233,"column":32}},"135":{"start":{"line":234,"column":10},"end":{"line":237,"column":11}},"136":{"start":{"line":235,"column":12},"end":{"line":235,"column":31}},"137":{"start":{"line":236,"column":12},"end":{"line":236,"column":18}},"138":{"start":{"line":238,"column":10},"end":{"line":238,"column":44}},"139":{"start":{"line":240,"column":10},"end":{"line":240,"column":50}},"140":{"start":{"line":243,"column":10},"end":{"line":243,"column":34}},"141":{"start":{"line":247,"column":2},"end":{"line":249,"column":4}},"142":{"start":{"line":248,"column":4},"end":{"line":248,"column":40}},"143":{"start":{"line":251,"column":25},"end":{"line":261,"column":1}},"144":{"start":{"line":253,"column":20},"end":{"line":257,"column":3}},"145":{"start":{"line":258,"column":2},"end":{"line":260,"column":3}},"146":{"start":{"line":259,"column":4},"end":{"line":259,"column":69}},"147":{"start":{"line":262,"column":18},"end":{"line":268,"column":1}},"148":{"start":{"line":263,"column":2},"end":{"line":263,"column":23}},"149":{"start":{"line":264,"column":15},"end":{"line":264,"column":34}},"150":{"start":{"line":265,"column":2},"end":{"line":267,"column":5}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":27},"end":{"line":12,"column":28}},"loc":{"start":{"line":12,"column":39},"end":{"line":63,"column":1}},"line":12},"1":{"name":"_callee","decl":{"start":{"line":13,"column":100},"end":{"line":13,"column":107}},"loc":{"start":{"line":13,"column":124},"end":{"line":59,"column":3}},"line":13},"2":{"name":"_callee$","decl":{"start":{"line":15,"column":49},"end":{"line":15,"column":57}},"loc":{"start":{"line":15,"column":68},"end":{"line":58,"column":5}},"line":15},"3":{"name":"isAdmin","decl":{"start":{"line":60,"column":18},"end":{"line":60,"column":25}},"loc":{"start":{"line":60,"column":40},"end":{"line":62,"column":3}},"line":60},"4":{"name":"(anonymous_4)","decl":{"start":{"line":65,"column":28},"end":{"line":65,"column":29}},"loc":{"start":{"line":65,"column":40},"end":{"line":116,"column":1}},"line":65},"5":{"name":"_callee2","decl":{"start":{"line":66,"column":101},"end":{"line":66,"column":109}},"loc":{"start":{"line":66,"column":126},"end":{"line":112,"column":3}},"line":66},"6":{"name":"_callee2$","decl":{"start":{"line":68,"column":49},"end":{"line":68,"column":58}},"loc":{"start":{"line":68,"column":70},"end":{"line":111,"column":5}},"line":68},"7":{"name":"isSeller","decl":{"start":{"line":113,"column":18},"end":{"line":113,"column":26}},"loc":{"start":{"line":113,"column":42},"end":{"line":115,"column":3}},"line":113},"8":{"name":"(anonymous_8)","decl":{"start":{"line":118,"column":27},"end":{"line":118,"column":28}},"loc":{"start":{"line":118,"column":39},"end":{"line":170,"column":1}},"line":118},"9":{"name":"_callee3","decl":{"start":{"line":119,"column":101},"end":{"line":119,"column":109}},"loc":{"start":{"line":119,"column":126},"end":{"line":166,"column":3}},"line":119},"10":{"name":"_callee3$","decl":{"start":{"line":121,"column":49},"end":{"line":121,"column":58}},"loc":{"start":{"line":121,"column":70},"end":{"line":165,"column":5}},"line":121},"11":{"name":"isBuyer","decl":{"start":{"line":167,"column":18},"end":{"line":167,"column":25}},"loc":{"start":{"line":167,"column":41},"end":{"line":169,"column":3}},"line":167},"12":{"name":"checkPermission","decl":{"start":{"line":172,"column":31},"end":{"line":172,"column":46}},"loc":{"start":{"line":172,"column":59},"end":{"line":204,"column":1}},"line":172},"13":{"name":"(anonymous_13)","decl":{"start":{"line":173,"column":22},"end":{"line":173,"column":23}},"loc":{"start":{"line":173,"column":34},"end":{"line":203,"column":3}},"line":173},"14":{"name":"_callee4","decl":{"start":{"line":174,"column":103},"end":{"line":174,"column":111}},"loc":{"start":{"line":174,"column":128},"end":{"line":199,"column":5}},"line":174},"15":{"name":"_callee4$","decl":{"start":{"line":176,"column":51},"end":{"line":176,"column":60}},"loc":{"start":{"line":176,"column":72},"end":{"line":198,"column":7}},"line":176},"16":{"name":"(anonymous_16)","decl":{"start":{"line":200,"column":11},"end":{"line":200,"column":12}},"loc":{"start":{"line":200,"column":39},"end":{"line":202,"column":5}},"line":200},"17":{"name":"getToken","decl":{"start":{"line":206,"column":24},"end":{"line":206,"column":32}},"loc":{"start":{"line":206,"column":38},"end":{"line":212,"column":1}},"line":206},"18":{"name":"decodeToken","decl":{"start":{"line":213,"column":27},"end":{"line":213,"column":38}},"loc":{"start":{"line":213,"column":46},"end":{"line":219,"column":1}},"line":213},"19":{"name":"(anonymous_19)","decl":{"start":{"line":220,"column":28},"end":{"line":220,"column":29}},"loc":{"start":{"line":220,"column":40},"end":{"line":250,"column":1}},"line":220},"20":{"name":"_callee5","decl":{"start":{"line":221,"column":101},"end":{"line":221,"column":109}},"loc":{"start":{"line":221,"column":114},"end":{"line":246,"column":3}},"line":221},"21":{"name":"_callee5$","decl":{"start":{"line":223,"column":49},"end":{"line":223,"column":58}},"loc":{"start":{"line":223,"column":70},"end":{"line":245,"column":5}},"line":223},"22":{"name":"findUser","decl":{"start":{"line":247,"column":18},"end":{"line":247,"column":26}},"loc":{"start":{"line":247,"column":33},"end":{"line":249,"column":3}},"line":247},"23":{"name":"checkAuthorization","decl":{"start":{"line":251,"column":34},"end":{"line":251,"column":52}},"loc":{"start":{"line":251,"column":83},"end":{"line":261,"column":1}},"line":251},"24":{"name":"handleError","decl":{"start":{"line":262,"column":27},"end":{"line":262,"column":38}},"loc":{"start":{"line":262,"column":51},"end":{"line":268,"column":1}},"line":262}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":16},"end":{"line":57,"column":7}},"type":"switch","locations":[{"start":{"line":17,"column":8},"end":{"line":25,"column":14}},{"start":{"line":26,"column":8},"end":{"line":35,"column":13}},{"start":{"line":36,"column":8},"end":{"line":46,"column":16}},{"start":{"line":47,"column":8},"end":{"line":53,"column":13}},{"start":{"line":54,"column":8},"end":{"line":54,"column":16}},{"start":{"line":55,"column":8},"end":{"line":56,"column":33}}],"line":16},"1":{"loc":{"start":{"line":19,"column":10},"end":{"line":22,"column":11}},"type":"if","locations":[{"start":{"line":19,"column":10},"end":{"line":22,"column":11}},{"start":{"line":19,"column":10},"end":{"line":22,"column":11}}],"line":19},"2":{"loc":{"start":{"line":38,"column":10},"end":{"line":44,"column":11}},"type":"if","locations":[{"start":{"line":38,"column":10},"end":{"line":44,"column":11}},{"start":{"line":38,"column":10},"end":{"line":44,"column":11}}],"line":38},"3":{"loc":{"start":{"line":38,"column":14},"end":{"line":38,"column":49}},"type":"binary-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":18}},{"start":{"line":38,"column":22},"end":{"line":38,"column":34}},{"start":{"line":38,"column":38},"end":{"line":38,"column":49}}],"line":38},"4":{"loc":{"start":{"line":69,"column":16},"end":{"line":110,"column":7}},"type":"switch","locations":[{"start":{"line":70,"column":8},"end":{"line":78,"column":14}},{"start":{"line":79,"column":8},"end":{"line":88,"column":13}},{"start":{"line":89,"column":8},"end":{"line":99,"column":16}},{"start":{"line":100,"column":8},"end":{"line":106,"column":13}},{"start":{"line":107,"column":8},"end":{"line":107,"column":16}},{"start":{"line":108,"column":8},"end":{"line":109,"column":34}}],"line":69},"5":{"loc":{"start":{"line":72,"column":10},"end":{"line":75,"column":11}},"type":"if","locations":[{"start":{"line":72,"column":10},"end":{"line":75,"column":11}},{"start":{"line":72,"column":10},"end":{"line":75,"column":11}}],"line":72},"6":{"loc":{"start":{"line":91,"column":10},"end":{"line":97,"column":11}},"type":"if","locations":[{"start":{"line":91,"column":10},"end":{"line":97,"column":11}},{"start":{"line":91,"column":10},"end":{"line":97,"column":11}}],"line":91},"7":{"loc":{"start":{"line":91,"column":14},"end":{"line":91,"column":50}},"type":"binary-expr","locations":[{"start":{"line":91,"column":14},"end":{"line":91,"column":18}},{"start":{"line":91,"column":22},"end":{"line":91,"column":34}},{"start":{"line":91,"column":38},"end":{"line":91,"column":50}}],"line":91},"8":{"loc":{"start":{"line":122,"column":16},"end":{"line":164,"column":7}},"type":"switch","locations":[{"start":{"line":123,"column":8},"end":{"line":131,"column":14}},{"start":{"line":132,"column":8},"end":{"line":141,"column":13}},{"start":{"line":142,"column":8},"end":{"line":153,"column":16}},{"start":{"line":154,"column":8},"end":{"line":160,"column":13}},{"start":{"line":161,"column":8},"end":{"line":161,"column":16}},{"start":{"line":162,"column":8},"end":{"line":163,"column":34}}],"line":122},"9":{"loc":{"start":{"line":125,"column":10},"end":{"line":128,"column":11}},"type":"if","locations":[{"start":{"line":125,"column":10},"end":{"line":128,"column":11}},{"start":{"line":125,"column":10},"end":{"line":128,"column":11}}],"line":125},"10":{"loc":{"start":{"line":144,"column":10},"end":{"line":151,"column":11}},"type":"if","locations":[{"start":{"line":144,"column":10},"end":{"line":151,"column":11}},{"start":{"line":144,"column":10},"end":{"line":151,"column":11}}],"line":144},"11":{"loc":{"start":{"line":144,"column":14},"end":{"line":144,"column":50}},"type":"binary-expr","locations":[{"start":{"line":144,"column":14},"end":{"line":144,"column":18}},{"start":{"line":144,"column":22},"end":{"line":144,"column":34}},{"start":{"line":144,"column":38},"end":{"line":144,"column":50}}],"line":144},"12":{"loc":{"start":{"line":177,"column":18},"end":{"line":197,"column":9}},"type":"switch","locations":[{"start":{"line":178,"column":10},"end":{"line":183,"column":51}},{"start":{"line":184,"column":10},"end":{"line":189,"column":18}},{"start":{"line":190,"column":10},"end":{"line":193,"column":43}},{"start":{"line":194,"column":10},"end":{"line":194,"column":18}},{"start":{"line":195,"column":10},"end":{"line":196,"column":36}}],"line":177},"13":{"loc":{"start":{"line":208,"column":2},"end":{"line":210,"column":3}},"type":"if","locations":[{"start":{"line":208,"column":2},"end":{"line":210,"column":3}},{"start":{"line":208,"column":2},"end":{"line":210,"column":3}}],"line":208},"14":{"loc":{"start":{"line":208,"column":6},"end":{"line":208,"column":54}},"type":"binary-expr","locations":[{"start":{"line":208,"column":6},"end":{"line":208,"column":17}},{"start":{"line":208,"column":21},"end":{"line":208,"column":54}}],"line":208},"15":{"loc":{"start":{"line":224,"column":16},"end":{"line":244,"column":7}},"type":"switch","locations":[{"start":{"line":225,"column":8},"end":{"line":231,"column":13}},{"start":{"line":232,"column":8},"end":{"line":238,"column":44}},{"start":{"line":239,"column":8},"end":{"line":240,"column":50}},{"start":{"line":241,"column":8},"end":{"line":241,"column":15}},{"start":{"line":242,"column":8},"end":{"line":243,"column":34}}],"line":224},"16":{"loc":{"start":{"line":234,"column":10},"end":{"line":237,"column":11}},"type":"if","locations":[{"start":{"line":234,"column":10},"end":{"line":237,"column":11}},{"start":{"line":234,"column":10},"end":{"line":237,"column":11}}],"line":234},"17":{"loc":{"start":{"line":258,"column":2},"end":{"line":260,"column":3}},"type":"if","locations":[{"start":{"line":258,"column":2},"end":{"line":260,"column":3}},{"start":{"line":258,"column":2},"end":{"line":260,"column":3}}],"line":258},"18":{"loc":{"start":{"line":258,"column":8},"end":{"line":258,"column":140}},"type":"binary-expr","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":60}},{"start":{"line":258,"column":64},"end":{"line":258,"column":94}},{"start":{"line":258,"column":98},"end":{"line":258,"column":140}}],"line":258},"19":{"loc":{"start":{"line":264,"column":15},"end":{"line":264,"column":34}},"type":"binary-expr","locations":[{"start":{"line":264,"column":15},"end":{"line":264,"column":27}},{"start":{"line":264,"column":31},"end":{"line":264,"column":34}}],"line":264}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":1,"36":1,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":1,"65":1,"66":1,"67":4,"68":8,"69":16,"70":4,"71":4,"72":4,"73":4,"74":0,"75":4,"76":4,"77":4,"78":4,"79":4,"80":4,"81":4,"82":4,"83":4,"84":0,"85":4,"86":4,"87":0,"88":0,"89":0,"90":0,"91":4,"92":1,"93":4,"94":1,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":1,"119":0,"120":0,"121":0,"122":0,"123":1,"124":0,"125":0,"126":0,"127":1,"128":1,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":0,"143":1,"144":0,"145":0,"146":0,"147":1,"148":0,"149":0,"150":0},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":4,"10":8,"11":4,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0},"b":{"0":[0,0,0,0,0,0],"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0,0,0,0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[4,4,4,0,4,4],"9":[4,0],"10":[4,0],"11":[4,4,4],"12":[0,0,0,0,0],"13":[0,0],"14":[0,0],"15":[0,0,0,0,0],"16":[0,0],"17":[0,0],"18":[0,0,0],"19":[0,0]},"inputSourceMap":{"version":3,"names":["_models","_interopRequireDefault","require","_jwt","isAdmin","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","token","decodedToken","_decodedToken$value","id","roleId","User","wrap","_callee$","_context","prev","headers","authorization","split","abrupt","status","json","message","t","JwtUtility","verifyToken","value","db","user","findOne","where","sent","t0","console","error","stop","_x","_x2","_x3","apply","arguments","exports","isSeller","_ref2","_callee2","_decodedToken$value2","_callee2$","_context2","_x4","_x5","_x6","isBuyer","_ref3","_callee3","_decodedToken$value3","_callee3$","_context3","body","userId","_x7","_x8","_x9","checkPermission","permission","_ref4","_callee4","_callee4$","_context4","getToken","decodeToken","findUser","checkAuthorization","handleError","_x10","_x11","_x12","authHeader","startsWith","Error","_ref5","_callee5","_callee5$","_context5","_x13","permissionId","_permissions$roleId","permissions","includes"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/","sources":["role.js"],"sourcesContent":["import db from '../database/models';\nimport JwtUtility from '../utils/jwt';\n\nconst isAdmin = async (req, res, next) => {\n  const token = req.headers.authorization.split(' ')[1];\n  if (!token) {\n    return res.status(401).json({ message: req.t('token_unexist_message') });\n  }\n  try {\n    const decodedToken = JwtUtility.verifyToken(token);\n    const { id, roleId } = decodedToken.value;\n    const User = await db.user.findOne({\n      where: { id },\n    });\n    if (User && decodedToken && roleId == 1) {\n      next();\n    } else {\n      res.status(403).json({ message: req.t('unauthorised_message') });\n    }\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({ message: req.t('unauthorised_message') });\n  }\n};\nconst isSeller = async (req, res, next) => {\n  const token = req.headers.authorization.split(' ')[1];\n  if (!token) {\n    return res.status(401).json({ message: req.t('token_unexist_message') });\n  }\n  try {\n    const decodedToken = JwtUtility.verifyToken(token);\n    const { id, roleId } = decodedToken.value;\n    const User = await db.user.findOne({\n      where: { id },\n    });\n    if (User && decodedToken && roleId === 2) {\n      next();\n    } else {\n      res.status(403).json({ message: req.t('unauthorised_message') });\n    }\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({ message: req.t('unauthorised_message') });\n  }\n};\nconst isBuyer = async (req, res, next) => {\n  const token = req.headers.authorization;\n  if (!token) {\n    return res.status(401).json({ message: req.t('token_unexist_message') });\n  }\n\n  try {\n    const decodedToken = JwtUtility.verifyToken(token.split(' ')[1]);\n    const { id, roleId } = decodedToken.value;\n    const user = await db.user.findOne({\n      where: { id },\n    });\n    if (user && decodedToken && roleId === 3) {\n      req.body.userId = id;\n      next();\n    } else {\n      res.status(403).json({ message: req.t('unauthorised_message') });\n    }\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({ message: req.t('server_error_message') });\n  }\n};\nconst checkPermission = (permission) => async (req, res, next) => {\n  try {\n    const token = getToken(req);\n    const decodedToken = decodeToken(token);\n    const User = await findUser(decodedToken.value.id);\n    checkAuthorization(User, decodedToken.value.roleId, permission);\n    next();\n  } catch (error) {\n    handleError(res, error);\n  }\n};\n\nconst getToken = (req) => {\n  const authHeader = req.headers.authorization;\n  if (!authHeader || !authHeader.startsWith('Bearer ')) {\n    throw new Error('Token not provided');\n  }\n  return authHeader.split(' ')[1];\n};\n\nconst decodeToken = (token) => {\n  try {\n    return JwtUtility.verifyToken(token);\n  } catch (error) {\n    throw new Error('Invalid token');\n  }\n};\n\nconst findUser = async (id) => {\n  const User = await db.user.findOne({ where: { id } });\n  if (!User) {\n    throw new Error('User not found');\n  }\n  return User;\n};\n\nconst checkAuthorization = (userId, roleId, permissionId) => {\n  const permissions = {\n    6: ['manage users'],\n    3: ['manage products'],\n    2: ['view products'],\n  };\n  if (!permissions[roleId]?.includes(permissionId)) {\n    throw new Error('You are not authorized to perform this action');\n  }\n};\n\nconst handleError = (res, error) => {\n  console.error(error);\n  const status = error.status || 500;\n  res.status(status).json({ message: error.message });\n};\n\nexport {\n  isAdmin, isSeller, isBuyer, checkPermission,\n};\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3936962f1d5de1d42d8500bc4b902da636d7aeb0","contentHash":"2b7bad9232212172e102add62a3e669ab23e42c21ae685792e1e596807e4a684"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/jwt.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/jwt.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"4":{"start":{"line":9,"column":20},"end":{"line":9,"column":89}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":28}},"8":{"start":{"line":13,"column":23},"end":{"line":41,"column":3}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":48}},"10":{"start":{"line":17,"column":2},"end":{"line":39,"column":6}},"11":{"start":{"line":20,"column":16},"end":{"line":20,"column":88}},"12":{"start":{"line":21,"column":6},"end":{"line":23,"column":9}},"13":{"start":{"line":28,"column":6},"end":{"line":37,"column":9}},"14":{"start":{"line":29,"column":8},"end":{"line":33,"column":9}},"15":{"start":{"line":30,"column":10},"end":{"line":32,"column":12}},"16":{"start":{"line":34,"column":8},"end":{"line":36,"column":10}},"17":{"start":{"line":40,"column":2},"end":{"line":40,"column":13}},"18":{"start":{"line":42,"column":0},"end":{"line":42,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":23},"end":{"line":13,"column":24}},"loc":{"start":{"line":13,"column":35},"end":{"line":41,"column":1}},"line":13},"1":{"name":"Jwt","decl":{"start":{"line":14,"column":11},"end":{"line":14,"column":14}},"loc":{"start":{"line":14,"column":17},"end":{"line":16,"column":3}},"line":14},"2":{"name":"generateToken","decl":{"start":{"line":19,"column":20},"end":{"line":19,"column":33}},"loc":{"start":{"line":19,"column":40},"end":{"line":24,"column":5}},"line":19},"3":{"name":"verifyToken","decl":{"start":{"line":27,"column":20},"end":{"line":27,"column":31}},"loc":{"start":{"line":27,"column":39},"end":{"line":38,"column":5}},"line":27},"4":{"name":"(anonymous_4)","decl":{"start":{"line":28,"column":85},"end":{"line":28,"column":86}},"loc":{"start":{"line":28,"column":109},"end":{"line":37,"column":7}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":16},"end":{"line":20,"column":88}},"type":"cond-expr","locations":[{"start":{"line":20,"column":69},"end":{"line":20,"column":81}},{"start":{"line":20,"column":84},"end":{"line":20,"column":88}}],"line":20},"1":{"loc":{"start":{"line":20,"column":16},"end":{"line":20,"column":66}},"type":"binary-expr","locations":[{"start":{"line":20,"column":16},"end":{"line":20,"column":36}},{"start":{"line":20,"column":40},"end":{"line":20,"column":66}}],"line":20},"2":{"loc":{"start":{"line":29,"column":8},"end":{"line":33,"column":9}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":33,"column":9}},{"start":{"line":29,"column":8},"end":{"line":33,"column":9}}],"line":29}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":0,"12":0,"13":4,"14":4,"15":0,"16":4,"17":1,"18":1},"f":{"0":1,"1":0,"2":0,"3":4,"4":4},"b":{"0":[0,0],"1":[0,0],"2":[0,4]},"inputSourceMap":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","dotenv","config","Jwt","_classCallCheck2","_createClass2","key","value","generateToken","data","exp","arguments","length","undefined","JWT","sign","process","env","ACCESS_TOKEN_SECRET","expiresIn","verifyToken","token","verify","err","decoded","error","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/","sources":["jwt.js"],"sourcesContent":["import JWT from 'jsonwebtoken';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default class Jwt {\n  static generateToken(data, exp = '1d') {\n    return JWT.sign(data, process.env.ACCESS_TOKEN_SECRET, { expiresIn: exp });\n  }\n\n  static verifyToken(token) {\n    return JWT.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, decoded) => {\n      if (err) {\n        return { error: err };\n      }\n      return { value: decoded };\n    });\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEAE,kBAAM,CAACC,MAAM,EAAE;AAAC,IAEKC,GAAG;EAAA,SAAAA,IAAA;IAAA,IAAAC,gBAAA,mBAAAD,GAAA;EAAA;EAAA,IAAAE,aAAA,aAAAF,GAAA;IAAAG,GAAA;IAAAC,KAAA,EACtB,SAAAC,cAAqBC,IAAI,EAAc;MAAA,IAAZC,GAAG,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,IAAI;MACnC,OAAOG,wBAAG,CAACC,IAAI,CAACN,IAAI,EAAEO,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAAE;QAAEC,SAAS,EAAET;MAAI,CAAC,CAAC;IAC5E;EAAC;IAAAJ,GAAA;IAAAC,KAAA,EAED,SAAAa,YAAmBC,KAAK,EAAE;MACxB,OAAOP,wBAAG,CAACQ,MAAM,CAACD,KAAK,EAAEL,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAAE,UAACK,GAAG,EAAEC,OAAO,EAAK;QAC1E,IAAID,GAAG,EAAE;UACP,OAAO;YAAEE,KAAK,EAAEF;UAAI,CAAC;QACvB;QACA,OAAO;UAAEhB,KAAK,EAAEiB;QAAQ,CAAC;MAC3B,CAAC,CAAC;IACJ;EAAC;EAAA,OAAArB,GAAA;AAAA;AAAAuB,OAAA,cAAAvB,GAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ab539bcb61549879095550e611e5278c809819bf","contentHash":"564ea6f50c22cd2813bb8b7c98b506f0687a024b56f027adc8576402533bf215"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/profileRouter.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/profileRouter.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":92}},"5":{"start":{"line":10,"column":15},"end":{"line":10,"column":81}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":72}},"7":{"start":{"line":12,"column":20},"end":{"line":12,"column":48}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":162}},"9":{"start":{"line":14,"column":15},"end":{"line":14,"column":28}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_profileController","_profile","_user","profileRouter","express","Router","route","get","profileController","getProfile","put","isUserExist","profileValidation","updateProfile","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/","sources":["profileRouter.js"],"sourcesContent":["import express from 'express';\nimport profileController from '../controllers/profileController';\nimport profileValidation from '../middleware/profile.validator';\nimport isUserExist from '../middleware/user.exists';\n\nconst profileRouter = express.Router();\n\nprofileRouter\n  .route('/:id')\n  .get(profileController.getProfile)\n  .put(isUserExist, profileValidation, profileController.updateProfile);\n\nexport default profileRouter;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAMI,aAAa,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAEtCF,aAAa,CACVG,KAAK,CAAC,MAAM,CAAC,CACbC,GAAG,CAACC,6BAAiB,CAACC,UAAU,CAAC,CACjCC,GAAG,CAACC,gBAAW,EAAEC,mBAAiB,EAAEJ,6BAAiB,CAACK,aAAa,CAAC;AAAC,IAAAC,QAAA,GAEzDX,aAAa;AAAAY,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ebe6265260187997c8fbcd33e89e5ec6e3871f43","contentHash":"f0bd54d4ce86b84c0440064ebef0bbcfb6bb8745ef96dd4bc95cab143764de3b"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/profileController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/profileController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":43}},"6":{"start":{"line":11,"column":30},"end":{"line":47,"column":3}},"7":{"start":{"line":12,"column":13},"end":{"line":43,"column":5}},"8":{"start":{"line":14,"column":4},"end":{"line":42,"column":32}},"9":{"start":{"line":15,"column":6},"end":{"line":41,"column":7}},"10":{"start":{"line":15,"column":16},"end":{"line":41,"column":7}},"11":{"start":{"line":17,"column":10},"end":{"line":17,"column":29}},"12":{"start":{"line":18,"column":10},"end":{"line":18,"column":28}},"13":{"start":{"line":19,"column":10},"end":{"line":19,"column":28}},"14":{"start":{"line":20,"column":10},"end":{"line":20,"column":43}},"15":{"start":{"line":22,"column":10},"end":{"line":22,"column":34}},"16":{"start":{"line":23,"column":10},"end":{"line":27,"column":13}},"17":{"start":{"line":28,"column":10},"end":{"line":28,"column":29}},"18":{"start":{"line":29,"column":10},"end":{"line":29,"column":16}},"19":{"start":{"line":31,"column":10},"end":{"line":31,"column":28}},"20":{"start":{"line":32,"column":10},"end":{"line":32,"column":45}},"21":{"start":{"line":33,"column":10},"end":{"line":37,"column":13}},"22":{"start":{"line":40,"column":10},"end":{"line":40,"column":33}},"23":{"start":{"line":44,"column":2},"end":{"line":46,"column":4}},"24":{"start":{"line":45,"column":4},"end":{"line":45,"column":39}},"25":{"start":{"line":48,"column":33},"end":{"line":89,"column":3}},"26":{"start":{"line":49,"column":14},"end":{"line":85,"column":5}},"27":{"start":{"line":51,"column":4},"end":{"line":84,"column":33}},"28":{"start":{"line":52,"column":6},"end":{"line":83,"column":7}},"29":{"start":{"line":52,"column":16},"end":{"line":83,"column":7}},"30":{"start":{"line":54,"column":10},"end":{"line":54,"column":29}},"31":{"start":{"line":55,"column":10},"end":{"line":55,"column":29}},"32":{"start":{"line":56,"column":10},"end":{"line":56,"column":29}},"33":{"start":{"line":57,"column":10},"end":{"line":62,"column":13}},"34":{"start":{"line":64,"column":10},"end":{"line":64,"column":42}},"35":{"start":{"line":65,"column":10},"end":{"line":69,"column":13}},"36":{"start":{"line":70,"column":10},"end":{"line":70,"column":30}},"37":{"start":{"line":71,"column":10},"end":{"line":71,"column":16}},"38":{"start":{"line":73,"column":10},"end":{"line":73,"column":29}},"39":{"start":{"line":74,"column":10},"end":{"line":74,"column":47}},"40":{"start":{"line":75,"column":10},"end":{"line":79,"column":13}},"41":{"start":{"line":82,"column":10},"end":{"line":82,"column":34}},"42":{"start":{"line":86,"column":2},"end":{"line":88,"column":4}},"43":{"start":{"line":87,"column":4},"end":{"line":87,"column":40}},"44":{"start":{"line":90,"column":15},"end":{"line":93,"column":1}},"45":{"start":{"line":94,"column":0},"end":{"line":94,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":30},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":42},"end":{"line":47,"column":1}},"line":11},"1":{"name":"_callee","decl":{"start":{"line":12,"column":100},"end":{"line":12,"column":107}},"loc":{"start":{"line":12,"column":118},"end":{"line":43,"column":3}},"line":12},"2":{"name":"_callee$","decl":{"start":{"line":14,"column":49},"end":{"line":14,"column":57}},"loc":{"start":{"line":14,"column":68},"end":{"line":42,"column":5}},"line":14},"3":{"name":"getProfile","decl":{"start":{"line":44,"column":18},"end":{"line":44,"column":28}},"loc":{"start":{"line":44,"column":38},"end":{"line":46,"column":3}},"line":44},"4":{"name":"(anonymous_4)","decl":{"start":{"line":48,"column":33},"end":{"line":48,"column":34}},"loc":{"start":{"line":48,"column":45},"end":{"line":89,"column":1}},"line":48},"5":{"name":"_callee2","decl":{"start":{"line":49,"column":101},"end":{"line":49,"column":109}},"loc":{"start":{"line":49,"column":120},"end":{"line":85,"column":3}},"line":49},"6":{"name":"_callee2$","decl":{"start":{"line":51,"column":49},"end":{"line":51,"column":58}},"loc":{"start":{"line":51,"column":70},"end":{"line":84,"column":5}},"line":51},"7":{"name":"updateProfile","decl":{"start":{"line":86,"column":18},"end":{"line":86,"column":31}},"loc":{"start":{"line":86,"column":42},"end":{"line":88,"column":3}},"line":86}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":16},"end":{"line":41,"column":7}},"type":"switch","locations":[{"start":{"line":16,"column":8},"end":{"line":20,"column":43}},{"start":{"line":21,"column":8},"end":{"line":29,"column":16}},{"start":{"line":30,"column":8},"end":{"line":37,"column":13}},{"start":{"line":38,"column":8},"end":{"line":38,"column":16}},{"start":{"line":39,"column":8},"end":{"line":40,"column":33}}],"line":15},"1":{"loc":{"start":{"line":52,"column":16},"end":{"line":83,"column":7}},"type":"switch","locations":[{"start":{"line":53,"column":8},"end":{"line":62,"column":13}},{"start":{"line":63,"column":8},"end":{"line":71,"column":16}},{"start":{"line":72,"column":8},"end":{"line":79,"column":13}},{"start":{"line":80,"column":8},"end":{"line":80,"column":16}},{"start":{"line":81,"column":8},"end":{"line":82,"column":34}}],"line":52}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":1,"45":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0},"b":{"0":[0,0,0,0,0],"1":[0,0,0,0,0]},"inputSourceMap":{"version":3,"names":["_models","require","getProfile","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","id","profile","wrap","_callee$","_context","prev","next","params","user","findByPk","sent","status","json","message","t","data","t0","stop","_x","_x2","apply","arguments","updateProfile","_ref2","_callee2","updatedProfile","_callee2$","_context2","update","body","where","returning","_x3","_x4","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/","sources":["profileController.js"],"sourcesContent":["import { user } from '../database/models';\n\nconst getProfile = async (req, res) => {\n  const { id } = req.params;\n  try {\n    const profile = await user.findByPk(id);\n    res.status(200).json({ status: 200, message: req.t('profile_fetch_message'), data: profile });\n  } catch (error) {\n    res.status(404).json({ status: error.status, message: error.message, data: {} });\n  }\n};\n\nconst updateProfile = async (req, res) => {\n  const { id } = req.params;\n  try {\n    const updatedProfile = await user.update(req.body, {\n      where: { id },\n      returning: true,\n    });\n    res\n      .status(200)\n      .json({ status: 200, message: req.t('profile_updated_message'), data: updatedProfile[1][0] });\n  } catch (error) {\n    res.status(error.status).json({ status: error.status, message: error.message, data: {} });\n  }\n};\n\nexport default { getProfile, updateProfile };\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"be1dab187da17d18b4742f6a418cadfa0c6543a7","contentHash":"861e21143469fdce96d56b5e17a563ea16abbd2b7ec6a0d2b997b24ad1cb2a5c"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/profile.validator.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/profile.validator.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"6":{"start":{"line":11,"column":17},"end":{"line":20,"column":2}},"7":{"start":{"line":21,"column":37},"end":{"line":53,"column":3}},"8":{"start":{"line":22,"column":13},"end":{"line":49,"column":5}},"9":{"start":{"line":24,"column":4},"end":{"line":48,"column":16}},"10":{"start":{"line":25,"column":6},"end":{"line":47,"column":7}},"11":{"start":{"line":25,"column":16},"end":{"line":47,"column":7}},"12":{"start":{"line":27,"column":10},"end":{"line":29,"column":49}},"13":{"start":{"line":30,"column":10},"end":{"line":43,"column":11}},"14":{"start":{"line":31,"column":12},"end":{"line":36,"column":15}},"15":{"start":{"line":32,"column":14},"end":{"line":35,"column":16}},"16":{"start":{"line":37,"column":12},"end":{"line":40,"column":15}},"17":{"start":{"line":42,"column":12},"end":{"line":42,"column":19}},"18":{"start":{"line":46,"column":10},"end":{"line":46,"column":33}},"19":{"start":{"line":50,"column":2},"end":{"line":52,"column":4}},"20":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"21":{"start":{"line":54,"column":15},"end":{"line":54,"column":32}},"22":{"start":{"line":55,"column":0},"end":{"line":55,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":21,"column":37},"end":{"line":21,"column":38}},"loc":{"start":{"line":21,"column":49},"end":{"line":53,"column":1}},"line":21},"1":{"name":"_callee","decl":{"start":{"line":22,"column":100},"end":{"line":22,"column":107}},"loc":{"start":{"line":22,"column":124},"end":{"line":49,"column":3}},"line":22},"2":{"name":"_callee$","decl":{"start":{"line":24,"column":49},"end":{"line":24,"column":57}},"loc":{"start":{"line":24,"column":68},"end":{"line":48,"column":5}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":31,"column":45},"end":{"line":31,"column":46}},"loc":{"start":{"line":31,"column":60},"end":{"line":36,"column":13}},"line":31},"4":{"name":"profileValidation","decl":{"start":{"line":50,"column":18},"end":{"line":50,"column":35}},"loc":{"start":{"line":50,"column":50},"end":{"line":52,"column":3}},"line":50}},"branchMap":{"0":{"loc":{"start":{"line":25,"column":16},"end":{"line":47,"column":7}},"type":"switch","locations":[{"start":{"line":26,"column":8},"end":{"line":43,"column":11}},{"start":{"line":44,"column":8},"end":{"line":44,"column":15}},{"start":{"line":45,"column":8},"end":{"line":46,"column":33}}],"line":25},"1":{"loc":{"start":{"line":30,"column":10},"end":{"line":43,"column":11}},"type":"if","locations":[{"start":{"line":30,"column":10},"end":{"line":43,"column":11}},{"start":{"line":30,"column":10},"end":{"line":43,"column":11}}],"line":30}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0,0],"1":[0,0]},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","validation","Joi","object","name","string","email","gender","birthdate","date","preferredLanguage","preferredCurrency","billingAddress","array","items","password","profileValidation","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","_validation$validate","error","errorDetails","wrap","_callee$","_context","prev","validate","body","abortEarly","details","map","err","field","path","message","status","send","errors","stop","_x","_x2","_x3","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/","sources":["profile.validator.js"],"sourcesContent":["import Joi from 'joi';\n\nconst validation = Joi.object({\n  name: Joi.string(),\n  email: Joi.string().email(),\n  gender: Joi.string(),\n  birthdate: Joi.date(),\n  preferredLanguage: Joi.string(),\n  preferredCurrency: Joi.string(),\n  billingAddress: Joi.array().items(Joi.string()),\n  password: Joi.string(),\n});\n\nconst profileValidation = async (req, res, next) => {\n  const { error } = validation.validate(req.body, { abortEarly: false });\n  if (error) {\n    const errorDetails = error.details.map((err) => ({\n      field: err.path[0],\n      message: err.message,\n    }));\n    res.status(422).send({ status: 422, errors: errorDetails });\n  } else {\n    next();\n  }\n};\nexport default profileValidation;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAMC,UAAU,GAAGC,eAAG,CAACC,MAAM,CAAC;EAC5BC,IAAI,EAAEF,eAAG,CAACG,MAAM,EAAE;EAClBC,KAAK,EAAEJ,eAAG,CAACG,MAAM,EAAE,CAACC,KAAK,EAAE;EAC3BC,MAAM,EAAEL,eAAG,CAACG,MAAM,EAAE;EACpBG,SAAS,EAAEN,eAAG,CAACO,IAAI,EAAE;EACrBC,iBAAiB,EAAER,eAAG,CAACG,MAAM,EAAE;EAC/BM,iBAAiB,EAAET,eAAG,CAACG,MAAM,EAAE;EAC/BO,cAAc,EAAEV,eAAG,CAACW,KAAK,EAAE,CAACC,KAAK,CAACZ,eAAG,CAACG,MAAM,EAAE,CAAC;EAC/CU,QAAQ,EAAEb,eAAG,CAACG,MAAM;AACtB,CAAC,CAAC;AAEF,IAAMW,iBAAiB;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,oBAAA,EAAAC,KAAA,EAAAC,YAAA;IAAA,OAAAR,YAAA,YAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAN,IAAA;QAAA;UAAAC,oBAAA,GAC3BxB,UAAU,CAAC+B,QAAQ,CAACV,GAAG,CAACW,IAAI,EAAE;YAAEC,UAAU,EAAE;UAAM,CAAC,CAAC,EAA9DR,KAAK,GAAAD,oBAAA,CAALC,KAAK;UACb,IAAIA,KAAK,EAAE;YACHC,YAAY,GAAGD,KAAK,CAACS,OAAO,CAACC,GAAG,CAAC,UAACC,GAAG;cAAA,OAAM;gBAC/CC,KAAK,EAAED,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC;gBAClBC,OAAO,EAAEH,GAAG,CAACG;cACf,CAAC;YAAA,CAAC,CAAC;YACHjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;cAAED,MAAM,EAAE,GAAG;cAAEE,MAAM,EAAEhB;YAAa,CAAC,CAAC;UAC7D,CAAC,MAAM;YACLH,IAAI,EAAE;UACR;QAAC;QAAA;UAAA,OAAAM,QAAA,CAAAc,IAAA;MAAA;IAAA,GAAAvB,OAAA;EAAA,CACF;EAAA,gBAXKL,iBAAiBA,CAAA6B,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA9B,IAAA,CAAA+B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAWtB;AAAC,IAAAC,QAAA,GACalC,iBAAiB;AAAAmC,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8d3d9ad22016206780b1a2a91a7ddcfef08f3b3f","contentHash":"f9d9078a473943ff801dc4a7da7478ec912ee9c8aee4fa0067a47b46c5afe2f0"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/user.exists.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/user.exists.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"6":{"start":{"line":11,"column":20},"end":{"line":11,"column":67}},"7":{"start":{"line":12,"column":14},"end":{"line":12,"column":43}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}},"9":{"start":{"line":14,"column":31},"end":{"line":104,"column":3}},"10":{"start":{"line":15,"column":13},"end":{"line":100,"column":5}},"11":{"start":{"line":17,"column":4},"end":{"line":99,"column":17}},"12":{"start":{"line":18,"column":6},"end":{"line":98,"column":7}},"13":{"start":{"line":18,"column":16},"end":{"line":98,"column":7}},"14":{"start":{"line":20,"column":10},"end":{"line":20,"column":42}},"15":{"start":{"line":21,"column":10},"end":{"line":94,"column":11}},"16":{"start":{"line":22,"column":12},"end":{"line":22,"column":39}},"17":{"start":{"line":23,"column":12},"end":{"line":87,"column":17}},"18":{"start":{"line":24,"column":26},"end":{"line":83,"column":17}},"19":{"start":{"line":26,"column":16},"end":{"line":82,"column":45}},"20":{"start":{"line":27,"column":18},"end":{"line":81,"column":19}},"21":{"start":{"line":27,"column":28},"end":{"line":81,"column":19}},"22":{"start":{"line":29,"column":22},"end":{"line":32,"column":23}},"23":{"start":{"line":30,"column":24},"end":{"line":30,"column":42}},"24":{"start":{"line":31,"column":24},"end":{"line":31,"column":30}},"25":{"start":{"line":33,"column":22},"end":{"line":36,"column":25}},"26":{"start":{"line":37,"column":22},"end":{"line":37,"column":41}},"27":{"start":{"line":38,"column":22},"end":{"line":38,"column":28}},"28":{"start":{"line":40,"column":22},"end":{"line":40,"column":47}},"29":{"start":{"line":41,"column":22},"end":{"line":41,"column":41}},"30":{"start":{"line":42,"column":22},"end":{"line":45,"column":23}},"31":{"start":{"line":43,"column":24},"end":{"line":43,"column":43}},"32":{"start":{"line":44,"column":24},"end":{"line":44,"column":30}},"33":{"start":{"line":46,"column":22},"end":{"line":46,"column":40}},"34":{"start":{"line":47,"column":22},"end":{"line":47,"column":41}},"35":{"start":{"line":48,"column":22},"end":{"line":48,"column":59}},"36":{"start":{"line":50,"column":22},"end":{"line":50,"column":46}},"37":{"start":{"line":51,"column":22},"end":{"line":57,"column":23}},"38":{"start":{"line":52,"column":24},"end":{"line":56,"column":27}},"39":{"start":{"line":58,"column":22},"end":{"line":58,"column":29}},"40":{"start":{"line":59,"column":22},"end":{"line":59,"column":41}},"41":{"start":{"line":60,"column":22},"end":{"line":60,"column":28}},"42":{"start":{"line":62,"column":22},"end":{"line":62,"column":41}},"43":{"start":{"line":63,"column":22},"end":{"line":63,"column":57}},"44":{"start":{"line":64,"column":22},"end":{"line":68,"column":25}},"45":{"start":{"line":70,"column":22},"end":{"line":70,"column":41}},"46":{"start":{"line":71,"column":22},"end":{"line":71,"column":28}},"47":{"start":{"line":73,"column":22},"end":{"line":77,"column":25}},"48":{"start":{"line":80,"column":22},"end":{"line":80,"column":45}},"49":{"start":{"line":84,"column":14},"end":{"line":86,"column":16}},"50":{"start":{"line":85,"column":16},"end":{"line":85,"column":52}},"51":{"start":{"line":89,"column":12},"end":{"line":93,"column":15}},"52":{"start":{"line":97,"column":10},"end":{"line":97,"column":34}},"53":{"start":{"line":101,"column":2},"end":{"line":103,"column":4}},"54":{"start":{"line":102,"column":4},"end":{"line":102,"column":39}},"55":{"start":{"line":105,"column":15},"end":{"line":105,"column":26}},"56":{"start":{"line":106,"column":0},"end":{"line":106,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":31},"end":{"line":14,"column":32}},"loc":{"start":{"line":14,"column":43},"end":{"line":104,"column":1}},"line":14},"1":{"name":"_callee2","decl":{"start":{"line":15,"column":100},"end":{"line":15,"column":108}},"loc":{"start":{"line":15,"column":125},"end":{"line":100,"column":3}},"line":15},"2":{"name":"_callee2$","decl":{"start":{"line":17,"column":49},"end":{"line":17,"column":58}},"loc":{"start":{"line":17,"column":70},"end":{"line":99,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":97},"end":{"line":23,"column":98}},"loc":{"start":{"line":23,"column":109},"end":{"line":87,"column":13}},"line":23},"4":{"name":"_callee","decl":{"start":{"line":24,"column":113},"end":{"line":24,"column":120}},"loc":{"start":{"line":24,"column":140},"end":{"line":83,"column":15}},"line":24},"5":{"name":"_callee$","decl":{"start":{"line":26,"column":61},"end":{"line":26,"column":69}},"loc":{"start":{"line":26,"column":80},"end":{"line":82,"column":17}},"line":26},"6":{"name":"(anonymous_6)","decl":{"start":{"line":84,"column":21},"end":{"line":84,"column":22}},"loc":{"start":{"line":84,"column":41},"end":{"line":86,"column":15}},"line":84},"7":{"name":"isUserExist","decl":{"start":{"line":101,"column":18},"end":{"line":101,"column":29}},"loc":{"start":{"line":101,"column":44},"end":{"line":103,"column":3}},"line":101}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":16},"end":{"line":98,"column":7}},"type":"switch","locations":[{"start":{"line":19,"column":8},"end":{"line":94,"column":11}},{"start":{"line":95,"column":8},"end":{"line":95,"column":15}},{"start":{"line":96,"column":8},"end":{"line":97,"column":34}}],"line":18},"1":{"loc":{"start":{"line":21,"column":10},"end":{"line":94,"column":11}},"type":"if","locations":[{"start":{"line":21,"column":10},"end":{"line":94,"column":11}},{"start":{"line":21,"column":10},"end":{"line":94,"column":11}}],"line":21},"2":{"loc":{"start":{"line":27,"column":28},"end":{"line":81,"column":19}},"type":"switch","locations":[{"start":{"line":28,"column":20},"end":{"line":38,"column":28}},{"start":{"line":39,"column":20},"end":{"line":48,"column":59}},{"start":{"line":49,"column":20},"end":{"line":60,"column":28}},{"start":{"line":61,"column":20},"end":{"line":68,"column":25}},{"start":{"line":69,"column":20},"end":{"line":71,"column":28}},{"start":{"line":72,"column":20},"end":{"line":77,"column":25}},{"start":{"line":78,"column":20},"end":{"line":78,"column":28}},{"start":{"line":79,"column":20},"end":{"line":80,"column":45}}],"line":27},"3":{"loc":{"start":{"line":29,"column":22},"end":{"line":32,"column":23}},"type":"if","locations":[{"start":{"line":29,"column":22},"end":{"line":32,"column":23}},{"start":{"line":29,"column":22},"end":{"line":32,"column":23}}],"line":29},"4":{"loc":{"start":{"line":42,"column":22},"end":{"line":45,"column":23}},"type":"if","locations":[{"start":{"line":42,"column":22},"end":{"line":45,"column":23}},{"start":{"line":42,"column":22},"end":{"line":45,"column":23}}],"line":42},"5":{"loc":{"start":{"line":51,"column":22},"end":{"line":57,"column":23}},"type":"if","locations":[{"start":{"line":51,"column":22},"end":{"line":57,"column":23}},{"start":{"line":51,"column":22},"end":{"line":57,"column":23}}],"line":51}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":1,"56":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"b":{"0":[0,0,0],"1":[0,0],"2":[0,0,0,0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"names":["_dotenv","_interopRequireDefault","require","_jsonwebtoken","_models","dotenv","config","isUserExist","_ref","_asyncToGenerator2","_regenerator","mark","_callee2","req","res","next","auth","token","wrap","_callee2$","_context2","prev","get","split","jwt","verify","process","env","ACCESS_TOKEN_SECRET","_ref2","_callee","err","decodedToken","userId","id","profile","_callee$","_context","status","json","message","params","user","findByPk","sent","t","data","t0","stop","_x4","_x5","apply","arguments","_x","_x2","_x3","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/","sources":["user.exists.js"],"sourcesContent":["import dotenv from 'dotenv';\nimport jwt from 'jsonwebtoken';\nimport { user } from '../database/models';\n\ndotenv.config();\nconst isUserExist = async (req, res, next) => {\n  const auth = req.get('authorization');\n  if (auth) {\n    const token = auth.split(' ')[1];\n    jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, async (err, decodedToken) => {\n      if (err) {\n        res.status(400).json({ status: err.status, message: err.message });\n      } else {\n        const userId = decodedToken.id;\n        const { id } = req.params;\n        if (userId == id) {\n          try {\n            const profile = await user.findByPk(userId);\n            if (!profile) {\n              res.status(404).json({ status: 404, message: req.t('user_not_found'), data: {} });\n            }\n            next();\n          } catch (error) {\n            res\n              .status(error.status)\n              .json({ status: error.status, message: error.message, data: {} });\n          }\n        } else {\n          res\n            .status(401)\n            .json({ status: 401, message: req.t('profile_update_unthorize_message'), data: {} });\n        }\n      }\n    });\n  } else {\n    res.status(401).json({ status: 401, message: req.t('not_logged_in_message'), data: {} });\n  }\n};\nexport default isUserExist;\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3d992d8c42db723f8dfd0fd4b9108ee76fd126c9","contentHash":"ffab3dc463e681b84128759fe65235e26a275154075738cd1833b1a78918d327"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/docs/apidoc.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/docs/apidoc.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":23},"end":{"line":8,"column":95}},"4":{"start":{"line":9,"column":14},"end":{"line":9,"column":55}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":28}},"6":{"start":{"line":11,"column":14},"end":{"line":53,"column":1}},"7":{"start":{"line":54,"column":15},"end":{"line":54,"column":22}},"8":{"start":{"line":55,"column":0},"end":{"line":55,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_dotenv","_interopRequireDefault","require","dotenv","config","options","definition","_defineProperty2","openapi","info","title","version","description","components","securitySchemes","bearerAuth","type","scheme","bearerFormat","cookieAuth","name","servers","url","process","env","SWAGGER_SERVER_URL","apis","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/docs/","sources":["apidoc.js"],"sourcesContent":["import dotenv from 'dotenv';\n\ndotenv.config();\nconst options = {\n  definition: {\n    openapi: '3.0.0',\n    info: {\n      title: \"Cogito's ecommerce API Library\",\n      version: 1.0,\n      description:\n        'This is an API o f an ecommerce platform that will allow sellers to manage and sell their stock while facilitating buyers smooth online shopping',\n    },\n    components: {\n      securitySchemes: {\n        bearerAuth: {\n          type: 'http',\n          scheme: 'bearer',\n          bearerFormat: 'JWT',\n          in: 'header',\n        },\n        cookieAuth: {\n          type: 'apiKey',\n          in: 'cookie',\n          name: 'loginOTP',\n        },\n      },\n    },\n    components: {\n      securitySchemes: {\n        bearerAuth: {\n          type: 'http',\n          scheme: 'bearer',\n          bearerFormat: 'JWT',\n        },\n        cookieAuth: {\n          type: 'apiKey',\n          in: 'cookie',\n          name: 'loginOTP',\n        },\n      },\n    },\n  },\n  servers: [\n    {\n      url: process.env.SWAGGER_SERVER_URL,\n      description: 'Api server',\n    },\n  ],\n  apis: ['./src/routes/*.js', './src/docs/apiDocs/*.js', './src/docs/vendors(22)/*'],\n};\n\nexport default options;\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEAC,kBAAM,CAACC,MAAM,EAAE;AACf,IAAMC,OAAO,GAAG;EACdC,UAAU,MAAAC,gBAAA;IACRC,OAAO,EAAE,OAAO;IAChBC,IAAI,EAAE;MACJC,KAAK,EAAE,gCAAgC;MACvCC,OAAO,EAAE,GAAG;MACZC,WAAW,EACT;IACJ,CAAC;IACDC,UAAU,EAAE;MACVC,eAAe,EAAE;QACfC,UAAU,EAAE;UACVC,IAAI,EAAE,MAAM;UACZC,MAAM,EAAE,QAAQ;UAChBC,YAAY,EAAE,KAAK;UACnB,MAAI;QACN,CAAC;QACDC,UAAU,EAAE;UACVH,IAAI,EAAE,QAAQ;UACd,MAAI,QAAQ;UACZI,IAAI,EAAE;QACR;MACF;IACF;EAAC,iBACW;IACVN,eAAe,EAAE;MACfC,UAAU,EAAE;QACVC,IAAI,EAAE,MAAM;QACZC,MAAM,EAAE,QAAQ;QAChBC,YAAY,EAAE;MAChB,CAAC;MACDC,UAAU,EAAE;QACVH,IAAI,EAAE,QAAQ;QACd,MAAI,QAAQ;QACZI,IAAI,EAAE;MACR;IACF;EACF,CAAC,CACF;EACDC,OAAO,EAAE,CACP;IACEC,GAAG,EAAEC,OAAO,CAACC,GAAG,CAACC,kBAAkB;IACnCb,WAAW,EAAE;EACf,CAAC,CACF;EACDc,IAAI,EAAE,CAAC,mBAAmB,EAAE,yBAAyB,EAAE,0BAA0B;AACnF,CAAC;AAAC,IAAAC,QAAA,GAEatB,OAAO;AAAAuB,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5d1847a82d2636c5041c4a074ae4c24432433545","contentHash":"67e507ec60d4cb733a84c5a65b64ba749b3f228b300008d8aab77f8bce22cf77"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/vendor/vendorsRoutes.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/vendor/vendorsRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":18},"end":{"line":9,"column":87}},"5":{"start":{"line":10,"column":25},"end":{"line":10,"column":78}},"6":{"start":{"line":11,"column":13},"end":{"line":11,"column":41}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":74}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":76}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":78}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":76}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":82}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":54}},"13":{"start":{"line":18,"column":15},"end":{"line":18,"column":21}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_vendorAuth","_vendorsController","router","express","Router","get","vendorAuth","getAllVendors","post","registerVendor","findVendorByID","put","updateVendor","deleteVendor","vendorLogin","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/vendor/","sources":["vendorsRoutes.js"],"sourcesContent":["import express from 'express';\nimport vendorAuth from '../../middleware/vendor/vendorAuth';\nimport {\n  getAllVendors,\n  registerVendor,\n  findVendorByID,\n  updateVendor,\n  deleteVendor,\n  vendorLogin,\n} from '../../controllers/vendor/vendorsController';\n\nconst router = express.Router();\nrouter.get('/', vendorAuth, getAllVendors);\nrouter.post('/', vendorAuth, registerVendor);\nrouter.get('/:id', vendorAuth, findVendorByID);\nrouter.put('/:id', vendorAuth, updateVendor);\nrouter.delete('/:id', vendorAuth, deleteVendor);\nrouter.post('/login', vendorLogin);\n\nexport default router;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,kBAAA,GAAAF,OAAA;AASA,IAAMG,MAAM,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAC/BF,MAAM,CAACG,GAAG,CAAC,GAAG,EAAEC,sBAAU,EAAEC,gCAAa,CAAC;AAC1CL,MAAM,CAACM,IAAI,CAAC,GAAG,EAAEF,sBAAU,EAAEG,iCAAc,CAAC;AAC5CP,MAAM,CAACG,GAAG,CAAC,MAAM,EAAEC,sBAAU,EAAEI,iCAAc,CAAC;AAC9CR,MAAM,CAACS,GAAG,CAAC,MAAM,EAAEL,sBAAU,EAAEM,+BAAY,CAAC;AAC5CV,MAAM,UAAO,CAAC,MAAM,EAAEI,sBAAU,EAAEO,+BAAY,CAAC;AAC/CX,MAAM,CAACM,IAAI,CAAC,QAAQ,EAAEM,8BAAW,CAAC;AAAC,IAAAC,QAAA,GAEpBb,MAAM;AAAAc,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ebb8a4b5a42ff1fba730f2230b73bdff5a8cbbaa","contentHash":"8ba23779a4ff26f897b386e2905cbae365a721bbefecc58ea5c1304ce8c80f5e"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/vendorAuth.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/vendorAuth.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":14},"end":{"line":12,"column":46}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}},"9":{"start":{"line":14,"column":13},"end":{"line":14,"column":44}},"10":{"start":{"line":15,"column":30},"end":{"line":46,"column":3}},"11":{"start":{"line":16,"column":13},"end":{"line":42,"column":5}},"12":{"start":{"line":18,"column":4},"end":{"line":41,"column":16}},"13":{"start":{"line":19,"column":6},"end":{"line":40,"column":7}},"14":{"start":{"line":19,"column":16},"end":{"line":40,"column":7}},"15":{"start":{"line":21,"column":10},"end":{"line":21,"column":52}},"16":{"start":{"line":22,"column":10},"end":{"line":25,"column":11}},"17":{"start":{"line":23,"column":12},"end":{"line":23,"column":30}},"18":{"start":{"line":24,"column":12},"end":{"line":24,"column":18}},"19":{"start":{"line":26,"column":10},"end":{"line":26,"column":45}},"20":{"start":{"line":27,"column":10},"end":{"line":27,"column":66}},"21":{"start":{"line":28,"column":10},"end":{"line":28,"column":28}},"22":{"start":{"line":29,"column":10},"end":{"line":29,"column":50}},"23":{"start":{"line":31,"column":10},"end":{"line":31,"column":44}},"24":{"start":{"line":32,"column":10},"end":{"line":34,"column":11}},"25":{"start":{"line":33,"column":12},"end":{"line":33,"column":54}},"26":{"start":{"line":36,"column":10},"end":{"line":36,"column":17}},"27":{"start":{"line":39,"column":10},"end":{"line":39,"column":33}},"28":{"start":{"line":43,"column":2},"end":{"line":45,"column":4}},"29":{"start":{"line":44,"column":4},"end":{"line":44,"column":39}},"30":{"start":{"line":47,"column":15},"end":{"line":47,"column":25}},"31":{"start":{"line":48,"column":0},"end":{"line":48,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":15,"column":30},"end":{"line":15,"column":31}},"loc":{"start":{"line":15,"column":42},"end":{"line":46,"column":1}},"line":15},"1":{"name":"_callee","decl":{"start":{"line":16,"column":100},"end":{"line":16,"column":107}},"loc":{"start":{"line":16,"column":124},"end":{"line":42,"column":3}},"line":16},"2":{"name":"_callee$","decl":{"start":{"line":18,"column":49},"end":{"line":18,"column":57}},"loc":{"start":{"line":18,"column":68},"end":{"line":41,"column":5}},"line":18},"3":{"name":"vendorAuth","decl":{"start":{"line":43,"column":18},"end":{"line":43,"column":28}},"loc":{"start":{"line":43,"column":43},"end":{"line":45,"column":3}},"line":43}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":16},"end":{"line":40,"column":7}},"type":"switch","locations":[{"start":{"line":20,"column":8},"end":{"line":29,"column":50}},{"start":{"line":30,"column":8},"end":{"line":34,"column":11}},{"start":{"line":35,"column":8},"end":{"line":36,"column":17}},{"start":{"line":37,"column":8},"end":{"line":37,"column":15}},{"start":{"line":38,"column":8},"end":{"line":39,"column":33}}],"line":19},"1":{"loc":{"start":{"line":22,"column":10},"end":{"line":25,"column":11}},"type":"if","locations":[{"start":{"line":22,"column":10},"end":{"line":25,"column":11}},{"start":{"line":22,"column":10},"end":{"line":25,"column":11}}],"line":22},"2":{"loc":{"start":{"line":32,"column":10},"end":{"line":34,"column":11}},"type":"if","locations":[{"start":{"line":32,"column":10},"end":{"line":34,"column":11}},{"start":{"line":32,"column":10},"end":{"line":34,"column":11}}],"line":32},"3":{"loc":{"start":{"line":32,"column":14},"end":{"line":32,"column":65}},"type":"binary-expr","locations":[{"start":{"line":32,"column":14},"end":{"line":32,"column":31}},{"start":{"line":32,"column":35},"end":{"line":32,"column":65}}],"line":32}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":1,"31":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,0,0,0,0],"1":[0,0],"2":[0,0],"3":[0,0]},"inputSourceMap":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","_models","dotenv","config","secret","process","env","ACCESS_TOKEN_SECRET","vendorAuth","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","authorization","token","result","authenticatedUser","wrap","_callee$","_context","prev","headers","substring","jwt","verify","user","findByPk","id","sent","roleId","stop","_x","_x2","_x3","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/","sources":["vendorAuth.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\nimport { user } from '../../database/models';\n\ndotenv.config();\nconst secret = process.env.ACCESS_TOKEN_SECRET;\n\nconst vendorAuth = async (req, res, next) => {\n  const { authorization } = req.headers;\n  if (authorization) {\n    const token = authorization.substring(7);\n    const result = jwt.verify(token, secret);\n    const authenticatedUser = await user.findByPk(result.id);\n    if (authenticatedUser && authenticatedUser.roleId === 1) {\n      req.authenticatedUser = authenticatedUser;\n    }\n  }\n  next();\n};\nexport default vendorAuth;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AAEAG,kBAAM,CAACC,MAAM,EAAE;AACf,IAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB;AAE9C,IAAMC,UAAU;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,aAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,iBAAA;IAAA,OAAAT,YAAA,YAAAU,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAP,IAAA;QAAA;UAC9BC,aAAa,GAAKH,GAAG,CAACW,OAAO,CAA7BR,aAAa;UAAA,KACjBA,aAAa;YAAAM,QAAA,CAAAP,IAAA;YAAA;UAAA;UACTE,KAAK,GAAGD,aAAa,CAACS,SAAS,CAAC,CAAC,CAAC;UAClCP,MAAM,GAAGQ,wBAAG,CAACC,MAAM,CAACV,KAAK,EAAEd,MAAM,CAAC;UAAAmB,QAAA,CAAAP,IAAA;UAAA,OACRa,YAAI,CAACC,QAAQ,CAACX,MAAM,CAACY,EAAE,CAAC;QAAA;UAAlDX,iBAAiB,GAAAG,QAAA,CAAAS,IAAA;UACvB,IAAIZ,iBAAiB,IAAIA,iBAAiB,CAACa,MAAM,KAAK,CAAC,EAAE;YACvDnB,GAAG,CAACM,iBAAiB,GAAGA,iBAAiB;UAC3C;QAAC;UAEHJ,IAAI,EAAE;QAAC;QAAA;UAAA,OAAAO,QAAA,CAAAW,IAAA;MAAA;IAAA,GAAArB,OAAA;EAAA,CACR;EAAA,gBAXKL,UAAUA,CAAA2B,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA5B,IAAA,CAAA6B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAWf;AAAC,IAAAC,QAAA,GACahC,UAAU;AAAAiC,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f96caa4aa2404296e0079772588e99f300c83853","contentHash":"b601857477f86fb7cf49f6a9a2aa6b082283f95c263140c69006539bacb74b01"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/vendor/vendorsController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/vendor/vendorsController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":149}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":15},"end":{"line":10,"column":57}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":14},"end":{"line":12,"column":55}},"8":{"start":{"line":13,"column":15},"end":{"line":13,"column":57}},"9":{"start":{"line":14,"column":24},"end":{"line":14,"column":77}},"10":{"start":{"line":15,"column":29},"end":{"line":15,"column":87}},"11":{"start":{"line":16,"column":14},"end":{"line":16,"column":46}},"12":{"start":{"line":17,"column":31},"end":{"line":17,"column":89}},"13":{"start":{"line":18,"column":17},"end":{"line":18,"column":85}},"14":{"start":{"line":19,"column":22},"end":{"line":19,"column":95}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":28}},"16":{"start":{"line":21,"column":10},"end":{"line":21,"column":36}},"17":{"start":{"line":22,"column":0},"end":{"line":24,"column":4}},"18":{"start":{"line":25,"column":0},"end":{"line":25,"column":71}},"19":{"start":{"line":26,"column":0},"end":{"line":32,"column":3}},"20":{"start":{"line":35,"column":33},"end":{"line":80,"column":3}},"21":{"start":{"line":36,"column":13},"end":{"line":76,"column":5}},"22":{"start":{"line":38,"column":4},"end":{"line":75,"column":33}},"23":{"start":{"line":39,"column":6},"end":{"line":74,"column":7}},"24":{"start":{"line":39,"column":16},"end":{"line":74,"column":7}},"25":{"start":{"line":41,"column":10},"end":{"line":41,"column":28}},"26":{"start":{"line":42,"column":10},"end":{"line":42,"column":52}},"27":{"start":{"line":43,"column":10},"end":{"line":46,"column":11}},"28":{"start":{"line":44,"column":12},"end":{"line":44,"column":30}},"29":{"start":{"line":45,"column":12},"end":{"line":45,"column":18}},"30":{"start":{"line":47,"column":10},"end":{"line":50,"column":14}},"31":{"start":{"line":52,"column":10},"end":{"line":52,"column":28}},"32":{"start":{"line":53,"column":10},"end":{"line":53,"column":43}},"33":{"start":{"line":55,"column":10},"end":{"line":55,"column":33}},"34":{"start":{"line":56,"column":10},"end":{"line":60,"column":13}},"35":{"start":{"line":61,"column":10},"end":{"line":61,"column":29}},"36":{"start":{"line":62,"column":10},"end":{"line":62,"column":16}},"37":{"start":{"line":64,"column":10},"end":{"line":64,"column":29}},"38":{"start":{"line":65,"column":10},"end":{"line":65,"column":45}},"39":{"start":{"line":66,"column":10},"end":{"line":70,"column":13}},"40":{"start":{"line":73,"column":10},"end":{"line":73,"column":33}},"41":{"start":{"line":77,"column":2},"end":{"line":79,"column":4}},"42":{"start":{"line":78,"column":4},"end":{"line":78,"column":39}},"43":{"start":{"line":82,"column":0},"end":{"line":82,"column":38}},"44":{"start":{"line":83,"column":34},"end":{"line":196,"column":3}},"45":{"start":{"line":84,"column":14},"end":{"line":192,"column":5}},"46":{"start":{"line":86,"column":4},"end":{"line":191,"column":34}},"47":{"start":{"line":87,"column":6},"end":{"line":190,"column":7}},"48":{"start":{"line":87,"column":16},"end":{"line":190,"column":7}},"49":{"start":{"line":89,"column":10},"end":{"line":89,"column":29}},"50":{"start":{"line":90,"column":10},"end":{"line":90,"column":52}},"51":{"start":{"line":91,"column":10},"end":{"line":94,"column":11}},"52":{"start":{"line":92,"column":12},"end":{"line":92,"column":31}},"53":{"start":{"line":93,"column":12},"end":{"line":93,"column":18}},"54":{"start":{"line":95,"column":10},"end":{"line":98,"column":14}},"55":{"start":{"line":100,"column":10},"end":{"line":100,"column":138}},"56":{"start":{"line":101,"column":10},"end":{"line":104,"column":11}},"57":{"start":{"line":102,"column":12},"end":{"line":102,"column":31}},"58":{"start":{"line":103,"column":12},"end":{"line":103,"column":18}},"59":{"start":{"line":105,"column":10},"end":{"line":109,"column":14}},"60":{"start":{"line":111,"column":10},"end":{"line":111,"column":29}},"61":{"start":{"line":112,"column":10},"end":{"line":116,"column":13}},"62":{"start":{"line":118,"column":10},"end":{"line":118,"column":39}},"63":{"start":{"line":119,"column":10},"end":{"line":122,"column":11}},"64":{"start":{"line":120,"column":12},"end":{"line":120,"column":32}},"65":{"start":{"line":121,"column":12},"end":{"line":121,"column":18}},"66":{"start":{"line":123,"column":10},"end":{"line":126,"column":14}},"67":{"start":{"line":128,"column":10},"end":{"line":128,"column":30}},"68":{"start":{"line":129,"column":10},"end":{"line":129,"column":64}},"69":{"start":{"line":131,"column":10},"end":{"line":131,"column":42}},"70":{"start":{"line":133,"column":10},"end":{"line":133,"column":42}},"71":{"start":{"line":134,"column":10},"end":{"line":134,"column":55}},"72":{"start":{"line":135,"column":10},"end":{"line":135,"column":980}},"73":{"start":{"line":136,"column":10},"end":{"line":136,"column":30}},"74":{"start":{"line":137,"column":10},"end":{"line":137,"column":93}},"75":{"start":{"line":139,"column":10},"end":{"line":139,"column":39}},"76":{"start":{"line":140,"column":10},"end":{"line":143,"column":11}},"77":{"start":{"line":141,"column":12},"end":{"line":141,"column":32}},"78":{"start":{"line":142,"column":12},"end":{"line":142,"column":18}},"79":{"start":{"line":144,"column":10},"end":{"line":148,"column":13}},"80":{"start":{"line":150,"column":10},"end":{"line":150,"column":30}},"81":{"start":{"line":151,"column":10},"end":{"line":166,"column":13}},"82":{"start":{"line":168,"column":10},"end":{"line":168,"column":30}},"83":{"start":{"line":169,"column":10},"end":{"line":169,"column":16}},"84":{"start":{"line":171,"column":10},"end":{"line":175,"column":13}},"85":{"start":{"line":177,"column":10},"end":{"line":177,"column":30}},"86":{"start":{"line":178,"column":10},"end":{"line":178,"column":16}},"87":{"start":{"line":180,"column":10},"end":{"line":180,"column":30}},"88":{"start":{"line":181,"column":10},"end":{"line":181,"column":47}},"89":{"start":{"line":182,"column":10},"end":{"line":186,"column":13}},"90":{"start":{"line":189,"column":10},"end":{"line":189,"column":34}},"91":{"start":{"line":193,"column":2},"end":{"line":195,"column":4}},"92":{"start":{"line":194,"column":4},"end":{"line":194,"column":40}},"93":{"start":{"line":198,"column":0},"end":{"line":198,"column":40}},"94":{"start":{"line":199,"column":34},"end":{"line":250,"column":3}},"95":{"start":{"line":200,"column":14},"end":{"line":246,"column":5}},"96":{"start":{"line":202,"column":4},"end":{"line":245,"column":34}},"97":{"start":{"line":203,"column":6},"end":{"line":244,"column":7}},"98":{"start":{"line":203,"column":16},"end":{"line":244,"column":7}},"99":{"start":{"line":205,"column":10},"end":{"line":205,"column":29}},"100":{"start":{"line":206,"column":10},"end":{"line":206,"column":52}},"101":{"start":{"line":207,"column":10},"end":{"line":210,"column":11}},"102":{"start":{"line":208,"column":12},"end":{"line":208,"column":31}},"103":{"start":{"line":209,"column":12},"end":{"line":209,"column":18}},"104":{"start":{"line":211,"column":10},"end":{"line":214,"column":14}},"105":{"start":{"line":216,"column":10},"end":{"line":216,"column":29}},"106":{"start":{"line":217,"column":10},"end":{"line":217,"column":57}},"107":{"start":{"line":219,"column":10},"end":{"line":219,"column":34}},"108":{"start":{"line":220,"column":10},"end":{"line":225,"column":11}},"109":{"start":{"line":221,"column":12},"end":{"line":224,"column":15}},"110":{"start":{"line":226,"column":10},"end":{"line":230,"column":13}},"111":{"start":{"line":231,"column":10},"end":{"line":231,"column":30}},"112":{"start":{"line":232,"column":10},"end":{"line":232,"column":16}},"113":{"start":{"line":234,"column":10},"end":{"line":234,"column":30}},"114":{"start":{"line":235,"column":10},"end":{"line":235,"column":47}},"115":{"start":{"line":236,"column":10},"end":{"line":240,"column":13}},"116":{"start":{"line":243,"column":10},"end":{"line":243,"column":34}},"117":{"start":{"line":247,"column":2},"end":{"line":249,"column":4}},"118":{"start":{"line":248,"column":4},"end":{"line":248,"column":40}},"119":{"start":{"line":252,"column":0},"end":{"line":252,"column":40}},"120":{"start":{"line":253,"column":32},"end":{"line":311,"column":3}},"121":{"start":{"line":254,"column":14},"end":{"line":307,"column":5}},"122":{"start":{"line":256,"column":4},"end":{"line":306,"column":34}},"123":{"start":{"line":257,"column":6},"end":{"line":305,"column":7}},"124":{"start":{"line":257,"column":16},"end":{"line":305,"column":7}},"125":{"start":{"line":259,"column":10},"end":{"line":259,"column":29}},"126":{"start":{"line":260,"column":10},"end":{"line":260,"column":52}},"127":{"start":{"line":261,"column":10},"end":{"line":264,"column":11}},"128":{"start":{"line":262,"column":12},"end":{"line":262,"column":31}},"129":{"start":{"line":263,"column":12},"end":{"line":263,"column":18}},"130":{"start":{"line":265,"column":10},"end":{"line":268,"column":14}},"131":{"start":{"line":270,"column":10},"end":{"line":270,"column":29}},"132":{"start":{"line":271,"column":10},"end":{"line":271,"column":57}},"133":{"start":{"line":273,"column":10},"end":{"line":273,"column":34}},"134":{"start":{"line":274,"column":10},"end":{"line":274,"column":29}},"135":{"start":{"line":275,"column":10},"end":{"line":279,"column":13}},"136":{"start":{"line":281,"column":10},"end":{"line":286,"column":11}},"137":{"start":{"line":282,"column":12},"end":{"line":285,"column":15}},"138":{"start":{"line":287,"column":10},"end":{"line":291,"column":13}},"139":{"start":{"line":292,"column":10},"end":{"line":292,"column":30}},"140":{"start":{"line":293,"column":10},"end":{"line":293,"column":16}},"141":{"start":{"line":295,"column":10},"end":{"line":295,"column":30}},"142":{"start":{"line":296,"column":10},"end":{"line":296,"column":47}},"143":{"start":{"line":297,"column":10},"end":{"line":301,"column":13}},"144":{"start":{"line":304,"column":10},"end":{"line":304,"column":34}},"145":{"start":{"line":308,"column":2},"end":{"line":310,"column":4}},"146":{"start":{"line":309,"column":4},"end":{"line":309,"column":40}},"147":{"start":{"line":313,"column":0},"end":{"line":313,"column":36}},"148":{"start":{"line":314,"column":32},"end":{"line":372,"column":3}},"149":{"start":{"line":315,"column":14},"end":{"line":368,"column":5}},"150":{"start":{"line":317,"column":4},"end":{"line":367,"column":34}},"151":{"start":{"line":318,"column":6},"end":{"line":366,"column":7}},"152":{"start":{"line":318,"column":16},"end":{"line":366,"column":7}},"153":{"start":{"line":320,"column":10},"end":{"line":320,"column":29}},"154":{"start":{"line":321,"column":10},"end":{"line":321,"column":52}},"155":{"start":{"line":322,"column":10},"end":{"line":325,"column":11}},"156":{"start":{"line":323,"column":12},"end":{"line":323,"column":31}},"157":{"start":{"line":324,"column":12},"end":{"line":324,"column":18}},"158":{"start":{"line":326,"column":10},"end":{"line":329,"column":14}},"159":{"start":{"line":331,"column":10},"end":{"line":331,"column":29}},"160":{"start":{"line":332,"column":10},"end":{"line":332,"column":57}},"161":{"start":{"line":334,"column":10},"end":{"line":334,"column":34}},"162":{"start":{"line":335,"column":10},"end":{"line":335,"column":29}},"163":{"start":{"line":336,"column":10},"end":{"line":340,"column":13}},"164":{"start":{"line":342,"column":10},"end":{"line":347,"column":11}},"165":{"start":{"line":343,"column":12},"end":{"line":346,"column":15}},"166":{"start":{"line":348,"column":10},"end":{"line":352,"column":13}},"167":{"start":{"line":353,"column":10},"end":{"line":353,"column":30}},"168":{"start":{"line":354,"column":10},"end":{"line":354,"column":16}},"169":{"start":{"line":356,"column":10},"end":{"line":356,"column":30}},"170":{"start":{"line":357,"column":10},"end":{"line":357,"column":47}},"171":{"start":{"line":358,"column":10},"end":{"line":362,"column":13}},"172":{"start":{"line":365,"column":10},"end":{"line":365,"column":34}},"173":{"start":{"line":369,"column":2},"end":{"line":371,"column":4}},"174":{"start":{"line":370,"column":4},"end":{"line":370,"column":40}},"175":{"start":{"line":374,"column":0},"end":{"line":374,"column":36}},"176":{"start":{"line":375,"column":31},"end":{"line":456,"column":3}},"177":{"start":{"line":376,"column":14},"end":{"line":452,"column":5}},"178":{"start":{"line":378,"column":4},"end":{"line":451,"column":34}},"179":{"start":{"line":379,"column":6},"end":{"line":450,"column":7}},"180":{"start":{"line":379,"column":16},"end":{"line":450,"column":7}},"181":{"start":{"line":381,"column":10},"end":{"line":381,"column":33}},"182":{"start":{"line":382,"column":10},"end":{"line":382,"column":39}},"183":{"start":{"line":383,"column":10},"end":{"line":383,"column":29}},"184":{"start":{"line":384,"column":10},"end":{"line":384,"column":129}},"185":{"start":{"line":385,"column":10},"end":{"line":388,"column":11}},"186":{"start":{"line":386,"column":12},"end":{"line":386,"column":31}},"187":{"start":{"line":387,"column":12},"end":{"line":387,"column":18}},"188":{"start":{"line":389,"column":10},"end":{"line":393,"column":14}},"189":{"start":{"line":395,"column":10},"end":{"line":395,"column":29}},"190":{"start":{"line":396,"column":10},"end":{"line":400,"column":13}},"191":{"start":{"line":402,"column":10},"end":{"line":402,"column":34}},"192":{"start":{"line":403,"column":10},"end":{"line":406,"column":11}},"193":{"start":{"line":404,"column":12},"end":{"line":404,"column":32}},"194":{"start":{"line":405,"column":12},"end":{"line":405,"column":18}},"195":{"start":{"line":407,"column":10},"end":{"line":410,"column":14}},"196":{"start":{"line":412,"column":10},"end":{"line":412,"column":30}},"197":{"start":{"line":413,"column":10},"end":{"line":413,"column":71}},"198":{"start":{"line":415,"column":10},"end":{"line":415,"column":35}},"199":{"start":{"line":416,"column":10},"end":{"line":419,"column":11}},"200":{"start":{"line":417,"column":12},"end":{"line":417,"column":32}},"201":{"start":{"line":418,"column":12},"end":{"line":418,"column":18}},"202":{"start":{"line":420,"column":10},"end":{"line":423,"column":14}},"203":{"start":{"line":425,"column":10},"end":{"line":425,"column":30}},"204":{"start":{"line":426,"column":10},"end":{"line":426,"column":87}},"205":{"start":{"line":428,"column":10},"end":{"line":428,"column":44}},"206":{"start":{"line":429,"column":10},"end":{"line":436,"column":13}},"207":{"start":{"line":437,"column":10},"end":{"line":437,"column":30}},"208":{"start":{"line":438,"column":10},"end":{"line":438,"column":16}},"209":{"start":{"line":440,"column":10},"end":{"line":440,"column":30}},"210":{"start":{"line":441,"column":10},"end":{"line":441,"column":47}},"211":{"start":{"line":442,"column":10},"end":{"line":446,"column":13}},"212":{"start":{"line":449,"column":10},"end":{"line":449,"column":34}},"213":{"start":{"line":453,"column":2},"end":{"line":455,"column":4}},"214":{"start":{"line":454,"column":4},"end":{"line":454,"column":40}},"215":{"start":{"line":457,"column":0},"end":{"line":457,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":35,"column":33},"end":{"line":35,"column":34}},"loc":{"start":{"line":35,"column":45},"end":{"line":80,"column":1}},"line":35},"1":{"name":"_callee","decl":{"start":{"line":36,"column":100},"end":{"line":36,"column":107}},"loc":{"start":{"line":36,"column":118},"end":{"line":76,"column":3}},"line":36},"2":{"name":"_callee$","decl":{"start":{"line":38,"column":49},"end":{"line":38,"column":57}},"loc":{"start":{"line":38,"column":68},"end":{"line":75,"column":5}},"line":38},"3":{"name":"getAllVendors","decl":{"start":{"line":77,"column":18},"end":{"line":77,"column":31}},"loc":{"start":{"line":77,"column":41},"end":{"line":79,"column":3}},"line":77},"4":{"name":"(anonymous_4)","decl":{"start":{"line":83,"column":34},"end":{"line":83,"column":35}},"loc":{"start":{"line":83,"column":46},"end":{"line":196,"column":1}},"line":83},"5":{"name":"_callee2","decl":{"start":{"line":84,"column":101},"end":{"line":84,"column":109}},"loc":{"start":{"line":84,"column":120},"end":{"line":192,"column":3}},"line":84},"6":{"name":"_callee2$","decl":{"start":{"line":86,"column":49},"end":{"line":86,"column":58}},"loc":{"start":{"line":86,"column":70},"end":{"line":191,"column":5}},"line":86},"7":{"name":"registerVendor","decl":{"start":{"line":193,"column":18},"end":{"line":193,"column":32}},"loc":{"start":{"line":193,"column":43},"end":{"line":195,"column":3}},"line":193},"8":{"name":"(anonymous_8)","decl":{"start":{"line":199,"column":34},"end":{"line":199,"column":35}},"loc":{"start":{"line":199,"column":46},"end":{"line":250,"column":1}},"line":199},"9":{"name":"_callee3","decl":{"start":{"line":200,"column":101},"end":{"line":200,"column":109}},"loc":{"start":{"line":200,"column":120},"end":{"line":246,"column":3}},"line":200},"10":{"name":"_callee3$","decl":{"start":{"line":202,"column":49},"end":{"line":202,"column":58}},"loc":{"start":{"line":202,"column":70},"end":{"line":245,"column":5}},"line":202},"11":{"name":"findVendorByID","decl":{"start":{"line":247,"column":18},"end":{"line":247,"column":32}},"loc":{"start":{"line":247,"column":43},"end":{"line":249,"column":3}},"line":247},"12":{"name":"(anonymous_12)","decl":{"start":{"line":253,"column":32},"end":{"line":253,"column":33}},"loc":{"start":{"line":253,"column":44},"end":{"line":311,"column":1}},"line":253},"13":{"name":"_callee4","decl":{"start":{"line":254,"column":101},"end":{"line":254,"column":109}},"loc":{"start":{"line":254,"column":120},"end":{"line":307,"column":3}},"line":254},"14":{"name":"_callee4$","decl":{"start":{"line":256,"column":49},"end":{"line":256,"column":58}},"loc":{"start":{"line":256,"column":70},"end":{"line":306,"column":5}},"line":256},"15":{"name":"updateVendor","decl":{"start":{"line":308,"column":18},"end":{"line":308,"column":30}},"loc":{"start":{"line":308,"column":41},"end":{"line":310,"column":3}},"line":308},"16":{"name":"(anonymous_16)","decl":{"start":{"line":314,"column":32},"end":{"line":314,"column":33}},"loc":{"start":{"line":314,"column":44},"end":{"line":372,"column":1}},"line":314},"17":{"name":"_callee5","decl":{"start":{"line":315,"column":101},"end":{"line":315,"column":109}},"loc":{"start":{"line":315,"column":120},"end":{"line":368,"column":3}},"line":315},"18":{"name":"_callee5$","decl":{"start":{"line":317,"column":49},"end":{"line":317,"column":58}},"loc":{"start":{"line":317,"column":70},"end":{"line":367,"column":5}},"line":317},"19":{"name":"deleteVendor","decl":{"start":{"line":369,"column":18},"end":{"line":369,"column":30}},"loc":{"start":{"line":369,"column":42},"end":{"line":371,"column":3}},"line":369},"20":{"name":"(anonymous_20)","decl":{"start":{"line":375,"column":31},"end":{"line":375,"column":32}},"loc":{"start":{"line":375,"column":43},"end":{"line":456,"column":1}},"line":375},"21":{"name":"_callee6","decl":{"start":{"line":376,"column":101},"end":{"line":376,"column":109}},"loc":{"start":{"line":376,"column":120},"end":{"line":452,"column":3}},"line":376},"22":{"name":"_callee6$","decl":{"start":{"line":378,"column":49},"end":{"line":378,"column":58}},"loc":{"start":{"line":378,"column":70},"end":{"line":451,"column":5}},"line":378},"23":{"name":"vendorLogin","decl":{"start":{"line":453,"column":18},"end":{"line":453,"column":29}},"loc":{"start":{"line":453,"column":42},"end":{"line":455,"column":3}},"line":453}},"branchMap":{"0":{"loc":{"start":{"line":39,"column":16},"end":{"line":74,"column":7}},"type":"switch","locations":[{"start":{"line":40,"column":8},"end":{"line":50,"column":14}},{"start":{"line":51,"column":8},"end":{"line":53,"column":43}},{"start":{"line":54,"column":8},"end":{"line":62,"column":16}},{"start":{"line":63,"column":8},"end":{"line":70,"column":13}},{"start":{"line":71,"column":8},"end":{"line":71,"column":16}},{"start":{"line":72,"column":8},"end":{"line":73,"column":33}}],"line":39},"1":{"loc":{"start":{"line":43,"column":10},"end":{"line":46,"column":11}},"type":"if","locations":[{"start":{"line":43,"column":10},"end":{"line":46,"column":11}},{"start":{"line":43,"column":10},"end":{"line":46,"column":11}}],"line":43},"2":{"loc":{"start":{"line":87,"column":16},"end":{"line":190,"column":7}},"type":"switch","locations":[{"start":{"line":88,"column":8},"end":{"line":98,"column":14}},{"start":{"line":99,"column":8},"end":{"line":109,"column":14}},{"start":{"line":110,"column":8},"end":{"line":116,"column":13}},{"start":{"line":117,"column":8},"end":{"line":126,"column":14}},{"start":{"line":127,"column":8},"end":{"line":129,"column":64}},{"start":{"line":130,"column":8},"end":{"line":137,"column":93}},{"start":{"line":138,"column":8},"end":{"line":166,"column":13}},{"start":{"line":167,"column":8},"end":{"line":169,"column":16}},{"start":{"line":170,"column":8},"end":{"line":175,"column":13}},{"start":{"line":176,"column":8},"end":{"line":178,"column":16}},{"start":{"line":179,"column":8},"end":{"line":186,"column":13}},{"start":{"line":187,"column":8},"end":{"line":187,"column":16}},{"start":{"line":188,"column":8},"end":{"line":189,"column":34}}],"line":87},"3":{"loc":{"start":{"line":91,"column":10},"end":{"line":94,"column":11}},"type":"if","locations":[{"start":{"line":91,"column":10},"end":{"line":94,"column":11}},{"start":{"line":91,"column":10},"end":{"line":94,"column":11}}],"line":91},"4":{"loc":{"start":{"line":101,"column":10},"end":{"line":104,"column":11}},"type":"if","locations":[{"start":{"line":101,"column":10},"end":{"line":104,"column":11}},{"start":{"line":101,"column":10},"end":{"line":104,"column":11}}],"line":101},"5":{"loc":{"start":{"line":119,"column":10},"end":{"line":122,"column":11}},"type":"if","locations":[{"start":{"line":119,"column":10},"end":{"line":122,"column":11}},{"start":{"line":119,"column":10},"end":{"line":122,"column":11}}],"line":119},"6":{"loc":{"start":{"line":140,"column":10},"end":{"line":143,"column":11}},"type":"if","locations":[{"start":{"line":140,"column":10},"end":{"line":143,"column":11}},{"start":{"line":140,"column":10},"end":{"line":143,"column":11}}],"line":140},"7":{"loc":{"start":{"line":203,"column":16},"end":{"line":244,"column":7}},"type":"switch","locations":[{"start":{"line":204,"column":8},"end":{"line":214,"column":14}},{"start":{"line":215,"column":8},"end":{"line":217,"column":57}},{"start":{"line":218,"column":8},"end":{"line":232,"column":16}},{"start":{"line":233,"column":8},"end":{"line":240,"column":13}},{"start":{"line":241,"column":8},"end":{"line":241,"column":16}},{"start":{"line":242,"column":8},"end":{"line":243,"column":34}}],"line":203},"8":{"loc":{"start":{"line":207,"column":10},"end":{"line":210,"column":11}},"type":"if","locations":[{"start":{"line":207,"column":10},"end":{"line":210,"column":11}},{"start":{"line":207,"column":10},"end":{"line":210,"column":11}}],"line":207},"9":{"loc":{"start":{"line":220,"column":10},"end":{"line":225,"column":11}},"type":"if","locations":[{"start":{"line":220,"column":10},"end":{"line":225,"column":11}},{"start":{"line":220,"column":10},"end":{"line":225,"column":11}}],"line":220},"10":{"loc":{"start":{"line":257,"column":16},"end":{"line":305,"column":7}},"type":"switch","locations":[{"start":{"line":258,"column":8},"end":{"line":268,"column":14}},{"start":{"line":269,"column":8},"end":{"line":271,"column":57}},{"start":{"line":272,"column":8},"end":{"line":279,"column":13}},{"start":{"line":280,"column":8},"end":{"line":293,"column":16}},{"start":{"line":294,"column":8},"end":{"line":301,"column":13}},{"start":{"line":302,"column":8},"end":{"line":302,"column":16}},{"start":{"line":303,"column":8},"end":{"line":304,"column":34}}],"line":257},"11":{"loc":{"start":{"line":261,"column":10},"end":{"line":264,"column":11}},"type":"if","locations":[{"start":{"line":261,"column":10},"end":{"line":264,"column":11}},{"start":{"line":261,"column":10},"end":{"line":264,"column":11}}],"line":261},"12":{"loc":{"start":{"line":281,"column":10},"end":{"line":286,"column":11}},"type":"if","locations":[{"start":{"line":281,"column":10},"end":{"line":286,"column":11}},{"start":{"line":281,"column":10},"end":{"line":286,"column":11}}],"line":281},"13":{"loc":{"start":{"line":318,"column":16},"end":{"line":366,"column":7}},"type":"switch","locations":[{"start":{"line":319,"column":8},"end":{"line":329,"column":14}},{"start":{"line":330,"column":8},"end":{"line":332,"column":57}},{"start":{"line":333,"column":8},"end":{"line":340,"column":13}},{"start":{"line":341,"column":8},"end":{"line":354,"column":16}},{"start":{"line":355,"column":8},"end":{"line":362,"column":13}},{"start":{"line":363,"column":8},"end":{"line":363,"column":16}},{"start":{"line":364,"column":8},"end":{"line":365,"column":34}}],"line":318},"14":{"loc":{"start":{"line":322,"column":10},"end":{"line":325,"column":11}},"type":"if","locations":[{"start":{"line":322,"column":10},"end":{"line":325,"column":11}},{"start":{"line":322,"column":10},"end":{"line":325,"column":11}}],"line":322},"15":{"loc":{"start":{"line":342,"column":10},"end":{"line":347,"column":11}},"type":"if","locations":[{"start":{"line":342,"column":10},"end":{"line":347,"column":11}},{"start":{"line":342,"column":10},"end":{"line":347,"column":11}}],"line":342},"16":{"loc":{"start":{"line":379,"column":16},"end":{"line":450,"column":7}},"type":"switch","locations":[{"start":{"line":380,"column":8},"end":{"line":393,"column":14}},{"start":{"line":394,"column":8},"end":{"line":400,"column":13}},{"start":{"line":401,"column":8},"end":{"line":410,"column":14}},{"start":{"line":411,"column":8},"end":{"line":413,"column":71}},{"start":{"line":414,"column":8},"end":{"line":423,"column":14}},{"start":{"line":424,"column":8},"end":{"line":426,"column":87}},{"start":{"line":427,"column":8},"end":{"line":438,"column":16}},{"start":{"line":439,"column":8},"end":{"line":446,"column":13}},{"start":{"line":447,"column":8},"end":{"line":447,"column":16}},{"start":{"line":448,"column":8},"end":{"line":449,"column":34}}],"line":379},"17":{"loc":{"start":{"line":385,"column":10},"end":{"line":388,"column":11}},"type":"if","locations":[{"start":{"line":385,"column":10},"end":{"line":388,"column":11}},{"start":{"line":385,"column":10},"end":{"line":388,"column":11}}],"line":385},"18":{"loc":{"start":{"line":403,"column":10},"end":{"line":406,"column":11}},"type":"if","locations":[{"start":{"line":403,"column":10},"end":{"line":406,"column":11}},{"start":{"line":403,"column":10},"end":{"line":406,"column":11}}],"line":403},"19":{"loc":{"start":{"line":416,"column":10},"end":{"line":419,"column":11}},"type":"if","locations":[{"start":{"line":416,"column":10},"end":{"line":419,"column":11}},{"start":{"line":416,"column":10},"end":{"line":419,"column":11}}],"line":416}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":1,"44":1,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":1,"94":1,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":0,"119":1,"120":1,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":1,"146":0,"147":1,"148":1,"149":1,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":1,"174":0,"175":1,"176":1,"177":1,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":1,"214":0,"215":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0},"b":{"0":[0,0,0,0,0,0],"1":[0,0],"2":[0,0,0,0,0,0,0,0,0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0,0,0,0],"8":[0,0],"9":[0,0],"10":[0,0,0,0,0,0,0],"11":[0,0],"12":[0,0],"13":[0,0,0,0,0,0,0],"14":[0,0],"15":[0,0],"16":[0,0,0,0,0,0,0,0,0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_dotenv","_bcrypt","_i18next","_i18nextFsBackend","_i18nextHttpMiddleware","_models","_registerVendorValidator","_vendorJWT","_vendorSendMail","dotenv","config","app","express","use","urlencoded","extended","i18nextMiddleware","handle","i18next","Backend","LanguageDetector","init","backend","loadPath","fallbackLng","preload","getAllVendors","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","authenticatedUser","vendor","wrap","_callee$","_context","prev","next","abrupt","status","json","success","message","t","vendors","findAll","sent","response","t0","Error","stop","_x","_x2","apply","arguments","exports","registerVendor","_ref2","_callee2","_validateVendorRegist","error","vendorEmail","hashedPassword","recipientEmail","emailSubject","emailMessage","emailResult","_callee2$","_context2","validateVendorRegistration","body","details","findOne","where","email","bcrypt","hash","password","concat","fullName","businessName","businessAddress","businessPhoneNumber","businessEmail","businessWebsite","businessDescription","productCategories","paymentMethods","sendEmail","create","phoneNumber","phone","businessPhone","businessLogo","_x3","_x4","findVendorByID","_ref3","_callee3","_callee3$","_context3","findByPk","params","id","_x5","_x6","updateVendor","_ref4","_callee4","_callee4$","_context4","update","_x7","_x8","deleteVendor","_ref5","_callee5","_callee5$","_context5","destroy","_x9","_x10","vendorLogin","_ref6","_callee6","_validateVendorLogin","isMatch","vendorLoginToken","_callee6$","_context6","validateVendorLogin","compare","vendorSignAccessToken","cookie","httpOnly","secure","token","_x11","_x12"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/vendor/","sources":["vendorsController.js"],"sourcesContent":["import express from 'express';\nimport dotenv from 'dotenv';\nimport bcrypt from 'bcrypt';\nimport i18next from 'i18next';\nimport Backend from 'i18next-fs-backend';\nimport i18nextMiddleware from 'i18next-http-middleware';\nimport { vendors } from '../../database/models';\nimport {\n  validateVendorRegistration,\n  validateVendorLogin,\n} from '../../middleware/vendor/registerVendorValidator';\nimport vendorSignAccessToken from '../../middleware/vendor/vendorJWT';\nimport sendEmail from '../../middleware/vendor/vendorSendMail';\n\ndotenv.config();\n\nconst app = express();\napp.use(express.urlencoded({ extended: false }));\napp.use(i18nextMiddleware.handle(i18next));\ni18next\n  .use(Backend)\n  .use(i18nextMiddleware.LanguageDetector)\n  .init({\n    backend: {\n      loadPath: '././src/locales/{{lng}}/{{ns}}.json',\n    },\n    fallbackLng: 'en',\n    preload: ['en', 'fr'],\n  });\n// all vendors endpoint are to be acccessed by only admin users.\n// function to get all vendors registered in cogito ecommerce.\nexport const getAllVendors = async (req, res) => {\n  try {\n    const { authenticatedUser } = req;\n    if (!authenticatedUser) {\n      return res.status(403).json({\n        success: false,\n        message: req.t('unauthorized_msg'),\n      });\n    }\n    const vendor = await vendors.findAll();\n    res.status(200).json({\n      success: true,\n      message: req.t('getAllVendors_200_msg'),\n      response: vendor,\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: req.t('getAllVendors_500_msg'),\n      Error: error.message,\n    });\n  }\n};\n// function to register vendor in cogito ecommerce.\nexport const registerVendor = async (req, res) => {\n  try {\n    const { authenticatedUser } = req;\n    if (!authenticatedUser) {\n      return res.status(403).json({\n        success: false,\n        message: req.t('unauthorized_msg'),\n      });\n    }\n    const { error } = validateVendorRegistration(req.body);\n    if (error) {\n      return res.status(400).json({\n        success: false,\n        message: req.t('registerVendor_400_msg'),\n        Error: error.details[0].message,\n      });\n    }\n    const vendorEmail = await vendors.findOne({\n      where: {\n        email: req.body.email,\n      },\n    });\n    if (vendorEmail) {\n      return res.status(409).json({ success: false, message: req.t('registerVendor_409_msg') });\n    }\n    const hashedPassword = await bcrypt.hash(req.body.password, 10);\n    // function that sends welcome email to the newly registered vendors\n    const recipientEmail = req.body.email;\n    const emailSubject = 'Welcome to Cogito Ecommerce';\n    const emailMessage = `Dear ${req.body.fullName},\\n\\nWelcome to Cogito! We are excited to have you as a new vendor. Your business information has been successfully saved in our system.\\n\\nHere is the information you provided:\\n\\nFull Name: ${req.body.fullName}\\nBusiness Name: ${req.body.businessName}\\nBusiness Address: ${req.body.businessAddress}\\nBusiness Phone Number: ${req.body.businessPhoneNumber}\\nBusiness Email: ${req.body.businessEmail}\\nBusiness Website: ${req.body.businessWebsite}\\nBusiness Description: ${req.body.businessDescription}\\nProduct Categories: ${req.body.productCategories}\\nPayment Methods: ${req.body.paymentMethods}\\nRandom Password: ${req.body.password}, You can change this password only after login to our site.\\n Login Here:\\t http://localhost:9090/vendors/login \\n\\nThank you for choosing Cogito!\\n\\nBest regards,\\nThe Cogito Team`;\n    const emailResult = await sendEmail(recipientEmail, emailSubject, emailMessage);\n    if (emailResult.success) {\n      res.status(201).json({\n        success: true,\n        message: req.t('registerVendor_201_msg'),\n        response: req.body,\n      });\n      // Storing the vendors info only after the email was sent too the newly registered vendors.\n      await vendors.create({\n        fullName: req.body.fullName,\n        email: req.body.email,\n        password: hashedPassword,\n        phoneNumber: req.body.phone,\n        businessName: req.body.businessName,\n        businessAddress: req.body.businessAddress,\n        businessPhoneNumber: req.body.businessPhone,\n        businessEmail: req.body.businessEmail,\n        businessWebsite: req.body.businessWebsite,\n        businessDescription: req.body.businessDescription,\n        businessLogo: req.body.businessLogo,\n        productCategories: req.body.productCategories,\n        paymentMethods: req.body.paymentMethods,\n        status: req.body.status,\n      });\n    } else {\n      res.status(500).json({\n        success: false,\n        message: req.t('registerVendor_500_001_msg'),\n        Error: emailResult.error,\n      });\n    }\n  } catch (error) {\n    res\n      .status(500)\n      .json({ success: false, message: req.t('registerVendor_500_002_msg'), Error: error });\n  }\n};\n// function to get vendor by ID.\nexport const findVendorByID = async (req, res) => {\n  try {\n    const { authenticatedUser } = req;\n    if (!authenticatedUser) {\n      return res.status(403).json({\n        success: false,\n        message: req.t('unauthorized_msg'),\n      });\n    }\n    const vendor = await vendors.findByPk(req.params.id);\n    if (vendor === null) {\n      res\n        .status(404)\n        .json({ success: false, message: `${req.t('findVendorByID_404_msg')} ${req.params.id}` });\n    }\n    res.status(200).json({\n      success: true,\n      message: `${req.t('findVendorByID_200_msg')} ${req.params.id} `,\n      response: vendor,\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: `${req.t('findVendorByID_500_msg')} ${req.params.id}.`,\n      Error: error.message,\n    });\n  }\n};\n// function to update vendor information.\nexport const updateVendor = async (req, res) => {\n  try {\n    const { authenticatedUser } = req;\n    if (!authenticatedUser) {\n      return res.status(403).json({\n        success: false,\n        message: req.t('unauthorized_msg'),\n      });\n    }\n\n    const vendor = await vendors.findByPk(req.params.id);\n\n    await vendor.update(req.body, {\n      where: {\n        id: req.params.id,\n      },\n    });\n    if (vendor === null) {\n      res\n        .status(404)\n        .json({ success: false, message: `${req.t('updateVendor_404_msg')} ${req.params.id} ` });\n    }\n    res.status(200).json({\n      success: true,\n      message: `${req.t('updateVendor_200_msg')} ${req.params.id}`,\n      response: vendor,\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: `${req.t('updateVendor_500_msg')} ${req.params.id}`,\n      Error: error.message,\n    });\n  }\n};\n// function to delete vendor by their ID.\nexport const deleteVendor = async (req, res) => {\n  try {\n    const { authenticatedUser } = req;\n    if (!authenticatedUser) {\n      return res.status(403).json({\n        success: false,\n        message: req.t('unauthorized_msg'),\n      });\n    }\n    const vendor = await vendors.findByPk(req.params.id);\n    await vendors.destroy({\n      where: {\n        id: req.params.id,\n      },\n    });\n    if (vendor === null) {\n      res.status(404).json({ success: false, message: req.t('deleteVendor_404_msg') });\n    }\n    res.status(200).json({\n      success: true,\n      message: `${req.t('deleteVendor_200_msg')} ${req.params.id}`,\n      response: vendor,\n    });\n  } catch (error) {\n    res.status(500).json({\n      success: false,\n      message: `${req.t('deleteVendor_500_msg')} ${req.params.id}`,\n      Error: error.message,\n    });\n  }\n};\n// function to let vendors login with their provided email and password.\nexport const vendorLogin = async (req, res) => {\n  const { email } = req.body;\n  const { password } = req.body;\n  try {\n    const { error } = validateVendorLogin(req.body);\n    if (error) {\n      return res.status(400).json({\n        success: false,\n        message: req.t('vendorLogin_400_msg'),\n        Error: error.details[0].message,\n      });\n    }\n    const vendor = await vendors.findOne({ where: { email } });\n    if (!vendor) {\n      return res.status(401).json({ success: false, message: req.t('vendorLogin_401_001_msg') });\n    }\n    const isMatch = await bcrypt.compare(password, vendor.password);\n    if (!isMatch) {\n      return res.status(401).json({ success: false, message: req.t('vendorLogin_401_002_msg') });\n    }\n    const vendorLoginToken = await vendorSignAccessToken(vendor.id, vendor.fullName, vendor.status);\n    res\n      .cookie('token', vendorLoginToken, { httpOnly: true, secure: true })\n      .status(200)\n      .json({\n        success: true,\n        message: `${vendor.fullName} ${req.t('vendorLogin_200_msg')}`,\n        token: vendorLoginToken,\n      });\n  } catch (error) {\n    res.status(500).json({ success: false, message: req.t('vendorLogin_500_msg'), Error: error });\n  }\n};\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3748628fd3154ad8f634c66a3dbff3e3efb1b338","contentHash":"afeed5b7b86eaa148f73e9780cd72e8a0de126ec336c3f1a184ce4f97ae740f7"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/registerVendorValidator.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/registerVendorValidator.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":74}},"3":{"start":{"line":8,"column":11},"end":{"line":8,"column":49}},"4":{"start":{"line":9,"column":16},"end":{"line":15,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":14,"column":4}},"6":{"start":{"line":11,"column":4},"end":{"line":13,"column":7}},"7":{"start":{"line":16,"column":21},"end":{"line":31,"column":2}},"8":{"start":{"line":32,"column":18},"end":{"line":35,"column":2}},"9":{"start":{"line":36,"column":33},"end":{"line":36,"column":58}},"10":{"start":{"line":37,"column":0},"end":{"line":37,"column":64}},"11":{"start":{"line":38,"column":26},"end":{"line":38,"column":48}},"12":{"start":{"line":39,"column":0},"end":{"line":39,"column":50}}},"fnMap":{"0":{"name":"validator","decl":{"start":{"line":9,"column":25},"end":{"line":9,"column":34}},"loc":{"start":{"line":9,"column":43},"end":{"line":15,"column":1}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":9},"end":{"line":10,"column":10}},"loc":{"start":{"line":10,"column":28},"end":{"line":14,"column":3}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":2,"6":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1},"f":{"0":2,"1":0},"b":{},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","validator","schema","payload","validate","abortEarly","registerVendor","Joi","object","fullName","string","required","email","password","pattern","min","max","phoneNumber","businessName","businessAddress","businessPhoneNumber","businessEmail","businessWebsite","uri","businessDescription","businessLogo","any","productCategories","paymentMethods","status","loginVendor","validateVendorRegistration","exports","validateVendorLogin"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/","sources":["registerVendorValidator.js"],"sourcesContent":["import Joi from 'joi';\n\nconst validator = (schema) => (payload) => schema.validate(payload, { abortEarly: false });\n\nconst registerVendor = Joi.object({\n  fullName: Joi.string().required(),\n  email: Joi.string().email().required(),\n  password: Joi.string().pattern(/^[a-zA-Z0-9]{3,30}$/).min(8).max(16)\n    .required(),\n  phoneNumber: Joi.string().pattern(/^\\+?[0-9]{6,}$/).required(),\n  businessName: Joi.string().required(),\n  businessAddress: Joi.string().required(),\n  businessPhoneNumber: Joi.string().pattern(/^\\+?[0-9]{6,}$/).required(),\n  businessEmail: Joi.string().email().required(),\n  businessWebsite: Joi.string().uri(),\n  businessDescription: Joi.string().required(),\n  businessLogo: Joi.any(),\n  productCategories: Joi.string().required(),\n  paymentMethods: Joi.string().required(),\n  status: Joi.string().required(),\n});\n\nconst loginVendor = Joi.object({\n  email: Joi.string().email().required(),\n  password: Joi.string().pattern(/^[a-zA-Z0-9]{3,30}$/).min(8).max(16)\n    .required(),\n});\n\nexport const validateVendorRegistration = validator(registerVendor);\nexport const validateVendorLogin = validator(loginVendor);\n"],"mappings":";;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,MAAM;EAAA,OAAK,UAACC,OAAO;IAAA,OAAKD,MAAM,CAACE,QAAQ,CAACD,OAAO,EAAE;MAAEE,UAAU,EAAE;IAAM,CAAC,CAAC;EAAA;AAAA;AAE1F,IAAMC,cAAc,GAAGC,eAAG,CAACC,MAAM,CAAC;EAChCC,QAAQ,EAAEF,eAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE;EACjCC,KAAK,EAAEL,eAAG,CAACG,MAAM,EAAE,CAACE,KAAK,EAAE,CAACD,QAAQ,EAAE;EACtCE,QAAQ,EAAEN,eAAG,CAACG,MAAM,EAAE,CAACI,OAAO,CAAC,qBAAqB,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,CAAC,CACjEL,QAAQ,EAAE;EACbM,WAAW,EAAEV,eAAG,CAACG,MAAM,EAAE,CAACI,OAAO,CAAC,gBAAgB,CAAC,CAACH,QAAQ,EAAE;EAC9DO,YAAY,EAAEX,eAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE;EACrCQ,eAAe,EAAEZ,eAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE;EACxCS,mBAAmB,EAAEb,eAAG,CAACG,MAAM,EAAE,CAACI,OAAO,CAAC,gBAAgB,CAAC,CAACH,QAAQ,EAAE;EACtEU,aAAa,EAAEd,eAAG,CAACG,MAAM,EAAE,CAACE,KAAK,EAAE,CAACD,QAAQ,EAAE;EAC9CW,eAAe,EAAEf,eAAG,CAACG,MAAM,EAAE,CAACa,GAAG,EAAE;EACnCC,mBAAmB,EAAEjB,eAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE;EAC5Cc,YAAY,EAAElB,eAAG,CAACmB,GAAG,EAAE;EACvBC,iBAAiB,EAAEpB,eAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE;EAC1CiB,cAAc,EAAErB,eAAG,CAACG,MAAM,EAAE,CAACC,QAAQ,EAAE;EACvCkB,MAAM,EAAEtB,eAAG,CAACG,MAAM,EAAE,CAACC,QAAQ;AAC/B,CAAC,CAAC;AAEF,IAAMmB,WAAW,GAAGvB,eAAG,CAACC,MAAM,CAAC;EAC7BI,KAAK,EAAEL,eAAG,CAACG,MAAM,EAAE,CAACE,KAAK,EAAE,CAACD,QAAQ,EAAE;EACtCE,QAAQ,EAAEN,eAAG,CAACG,MAAM,EAAE,CAACI,OAAO,CAAC,qBAAqB,CAAC,CAACC,GAAG,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,EAAE,CAAC,CACjEL,QAAQ;AACb,CAAC,CAAC;AAEK,IAAMoB,0BAA0B,GAAG9B,SAAS,CAACK,cAAc,CAAC;AAAC0B,OAAA,CAAAD,0BAAA,GAAAA,0BAAA;AAC7D,IAAME,mBAAmB,GAAGhC,SAAS,CAAC6B,WAAW,CAAC;AAACE,OAAA,CAAAC,mBAAA,GAAAA,mBAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9b11d42cb248574b03549486c34f2fe38efe1228","contentHash":"7a89d6abd3f34dc9f048ef287939271bf46a581accf33bb8ab37ed8335fef9bb"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/vendorJWT.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/vendorJWT.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":55}},"6":{"start":{"line":11,"column":20},"end":{"line":11,"column":67}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":28}},"8":{"start":{"line":13,"column":13},"end":{"line":13,"column":32}},"9":{"start":{"line":14,"column":41},"end":{"line":49,"column":3}},"10":{"start":{"line":15,"column":13},"end":{"line":45,"column":5}},"11":{"start":{"line":17,"column":4},"end":{"line":44,"column":32}},"12":{"start":{"line":18,"column":6},"end":{"line":43,"column":7}},"13":{"start":{"line":18,"column":16},"end":{"line":43,"column":7}},"14":{"start":{"line":20,"column":10},"end":{"line":24,"column":12}},"15":{"start":{"line":25,"column":10},"end":{"line":27,"column":12}},"16":{"start":{"line":28,"column":10},"end":{"line":28,"column":28}},"17":{"start":{"line":29,"column":10},"end":{"line":29,"column":28}},"18":{"start":{"line":30,"column":10},"end":{"line":30,"column":73}},"19":{"start":{"line":32,"column":10},"end":{"line":32,"column":32}},"20":{"start":{"line":33,"column":10},"end":{"line":35,"column":13}},"21":{"start":{"line":37,"column":10},"end":{"line":37,"column":28}},"22":{"start":{"line":38,"column":10},"end":{"line":38,"column":45}},"23":{"start":{"line":39,"column":10},"end":{"line":39,"column":39}},"24":{"start":{"line":42,"column":10},"end":{"line":42,"column":33}},"25":{"start":{"line":46,"column":2},"end":{"line":48,"column":4}},"26":{"start":{"line":47,"column":4},"end":{"line":47,"column":39}},"27":{"start":{"line":50,"column":15},"end":{"line":50,"column":36}},"28":{"start":{"line":51,"column":0},"end":{"line":51,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":41},"end":{"line":14,"column":42}},"loc":{"start":{"line":14,"column":53},"end":{"line":49,"column":1}},"line":14},"1":{"name":"_callee","decl":{"start":{"line":15,"column":100},"end":{"line":15,"column":107}},"loc":{"start":{"line":15,"column":130},"end":{"line":45,"column":3}},"line":15},"2":{"name":"_callee$","decl":{"start":{"line":17,"column":49},"end":{"line":17,"column":57}},"loc":{"start":{"line":17,"column":68},"end":{"line":44,"column":5}},"line":17},"3":{"name":"vendorSignAccessToken","decl":{"start":{"line":46,"column":18},"end":{"line":46,"column":39}},"loc":{"start":{"line":46,"column":54},"end":{"line":48,"column":3}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":16},"end":{"line":43,"column":7}},"type":"switch","locations":[{"start":{"line":19,"column":8},"end":{"line":30,"column":73}},{"start":{"line":31,"column":8},"end":{"line":35,"column":13}},{"start":{"line":36,"column":8},"end":{"line":39,"column":39}},{"start":{"line":40,"column":8},"end":{"line":40,"column":16}},{"start":{"line":41,"column":8},"end":{"line":42,"column":33}}],"line":18}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":1,"28":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,0,0,0,0]},"inputSourceMap":{"version":3,"names":["_dotenv","_interopRequireDefault","require","_jsonwebtoken","dotenv","config","secret","process","env","JWT_KEY","vendorSignAccessToken","_ref","_asyncToGenerator2","_regenerator","mark","_callee","id","fullName","status","payload","options","token","wrap","_callee$","_context","prev","next","expiresIn","VENDOR_LOGIN_JWT_EXPIRE","JWT","sign","sent","abrupt","t0","Error","stop","_x","_x2","_x3","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/","sources":["vendorJWT.js"],"sourcesContent":["import dotenv from 'dotenv';\nimport JWT from 'jsonwebtoken';\n\ndotenv.config();\nconst secret = process.env.JWT_KEY;\nconst vendorSignAccessToken = async (id, fullName, status) => {\n  const payload = {\n    id,\n    fullName,\n    status,\n  };\n  const options = { expiresIn: process.env.VENDOR_LOGIN_JWT_EXPIRE };\n  try {\n    const token = await JWT.sign(payload, secret, options);\n    return { token };\n  } catch (error) {\n    throw new Error(error);\n  }\n};\nexport default vendorSignAccessToken;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AAEAE,kBAAM,CAACC,MAAM,EAAE;AACf,IAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,OAAO;AAClC,IAAMC,qBAAqB;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,EAAE,EAAEC,QAAQ,EAAEC,MAAM;IAAA,IAAAC,OAAA,EAAAC,OAAA,EAAAC,KAAA;IAAA,OAAAR,YAAA,YAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UACjDP,OAAO,GAAG;YACdH,EAAE,EAAFA,EAAE;YACFC,QAAQ,EAARA,QAAQ;YACRC,MAAM,EAANA;UACF,CAAC;UACKE,OAAO,GAAG;YAAEO,SAAS,EAAEpB,OAAO,CAACC,GAAG,CAACoB;UAAwB,CAAC;UAAAJ,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAE5CG,wBAAG,CAACC,IAAI,CAACX,OAAO,EAAEb,MAAM,EAAEc,OAAO,CAAC;QAAA;UAAhDC,KAAK,GAAAG,QAAA,CAAAO,IAAA;UAAA,OAAAP,QAAA,CAAAQ,MAAA,WACJ;YAAEX,KAAK,EAALA;UAAM,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAS,EAAA,GAAAT,QAAA;UAAA,MAEV,IAAIU,KAAK,CAAAV,QAAA,CAAAS,EAAA,CAAO;QAAA;QAAA;UAAA,OAAAT,QAAA,CAAAW,IAAA;MAAA;IAAA,GAAApB,OAAA;EAAA,CAEzB;EAAA,gBAbKL,qBAAqBA,CAAA0B,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA3B,IAAA,CAAA4B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAa1B;AAAC,IAAAC,QAAA,GACa/B,qBAAqB;AAAAgC,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"232c727ffd1cd90413a1b863e244272763f9452d","contentHash":"2fe4ccdc17d850a6037ab9f2d8d100e618fd41952c8955da2753552bc664b4fd"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/vendorSendMail.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/vendorSendMail.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":18},"end":{"line":10,"column":63}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":55}},"7":{"start":{"line":12,"column":26},"end":{"line":12,"column":57}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":28}},"9":{"start":{"line":14,"column":29},"end":{"line":71,"column":3}},"10":{"start":{"line":15,"column":13},"end":{"line":67,"column":5}},"11":{"start":{"line":17,"column":4},"end":{"line":66,"column":33}},"12":{"start":{"line":18,"column":6},"end":{"line":65,"column":7}},"13":{"start":{"line":18,"column":16},"end":{"line":65,"column":7}},"14":{"start":{"line":20,"column":10},"end":{"line":20,"column":28}},"15":{"start":{"line":21,"column":10},"end":{"line":21,"column":28}},"16":{"start":{"line":22,"column":10},"end":{"line":22,"column":67}},"17":{"start":{"line":24,"column":10},"end":{"line":24,"column":40}},"18":{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},"19":{"start":{"line":26,"column":12},"end":{"line":26,"column":30}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":18}},"21":{"start":{"line":29,"column":10},"end":{"line":32,"column":13}},"22":{"start":{"line":34,"column":10},"end":{"line":40,"column":13}},"23":{"start":{"line":41,"column":10},"end":{"line":46,"column":12}},"24":{"start":{"line":47,"column":10},"end":{"line":47,"column":29}},"25":{"start":{"line":48,"column":10},"end":{"line":48,"column":51}},"26":{"start":{"line":50,"column":10},"end":{"line":50,"column":36}},"27":{"start":{"line":51,"column":10},"end":{"line":54,"column":13}},"28":{"start":{"line":56,"column":10},"end":{"line":56,"column":29}},"29":{"start":{"line":57,"column":10},"end":{"line":57,"column":45}},"30":{"start":{"line":58,"column":10},"end":{"line":61,"column":13}},"31":{"start":{"line":64,"column":10},"end":{"line":64,"column":33}},"32":{"start":{"line":68,"column":2},"end":{"line":70,"column":4}},"33":{"start":{"line":69,"column":4},"end":{"line":69,"column":39}},"34":{"start":{"line":72,"column":15},"end":{"line":72,"column":24}},"35":{"start":{"line":73,"column":0},"end":{"line":73,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":14,"column":29},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":41},"end":{"line":71,"column":1}},"line":14},"1":{"name":"_callee","decl":{"start":{"line":15,"column":100},"end":{"line":15,"column":107}},"loc":{"start":{"line":15,"column":152},"end":{"line":67,"column":3}},"line":15},"2":{"name":"_callee$","decl":{"start":{"line":17,"column":49},"end":{"line":17,"column":57}},"loc":{"start":{"line":17,"column":68},"end":{"line":66,"column":5}},"line":17},"3":{"name":"sendEmail","decl":{"start":{"line":68,"column":18},"end":{"line":68,"column":27}},"loc":{"start":{"line":68,"column":42},"end":{"line":70,"column":3}},"line":68}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":16},"end":{"line":65,"column":7}},"type":"switch","locations":[{"start":{"line":19,"column":8},"end":{"line":22,"column":67}},{"start":{"line":23,"column":8},"end":{"line":32,"column":13}},{"start":{"line":33,"column":8},"end":{"line":48,"column":51}},{"start":{"line":49,"column":8},"end":{"line":54,"column":13}},{"start":{"line":55,"column":8},"end":{"line":61,"column":13}},{"start":{"line":62,"column":8},"end":{"line":62,"column":16}},{"start":{"line":63,"column":8},"end":{"line":64,"column":33}}],"line":18},"1":{"loc":{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},"type":"if","locations":[{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},{"start":{"line":25,"column":10},"end":{"line":28,"column":11}}],"line":25}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":1,"35":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,0,0,0,0,0,0],"1":[0,0]},"inputSourceMap":{"version":3,"names":["_nodemailer","_interopRequireDefault","require","_dotenv","_deepEmailValidator","dotenv","config","sendEmail","_ref","_asyncToGenerator2","_regenerator","mark","_callee","recipientEmail","emailSubject","emailMessage","emailValidity","transporter","mailOptions","emailInfo","wrap","_callee$","_context","prev","next","validate","sent","abrupt","success","error","nodemailer","createTransport","service","auth","user","process","env","EMAIL_ADDRESS","pass","EMAIL_PASSWORD","from","EMAIL_SENDER","to","subject","text","sendMail","response","t0","stop","_x","_x2","_x3","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/vendor/","sources":["vendorSendMail.js"],"sourcesContent":["import nodemailer from 'nodemailer';\nimport dotenv from 'dotenv';\nimport { validate } from 'deep-email-validator';\n\ndotenv.config();\n\nconst sendEmail = async (recipientEmail, emailSubject, emailMessage) => {\n  try {\n    // Check if recipient email is reachable\n    const emailValidity = await validate(recipientEmail);\n\n    if (!emailValidity) {\n      return { success: false, error: 'Invalid recipient email' };\n    }\n    const transporter = nodemailer.createTransport({\n      service: 'gmail',\n      auth: {\n        user: process.env.EMAIL_ADDRESS,\n        pass: process.env.EMAIL_PASSWORD,\n      },\n    });\n\n    const mailOptions = {\n      from: process.env.EMAIL_SENDER,\n      to: recipientEmail,\n      subject: emailSubject,\n      text: emailMessage,\n    };\n    const emailInfo = await transporter.sendMail(mailOptions);\n    return { success: true, response: emailInfo };\n  } catch (errorr) {\n    return { success: false, error: errorr };\n  }\n};\n\nexport default sendEmail;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,mBAAA,GAAAF,OAAA;AAEAG,kBAAM,CAACC,MAAM,EAAE;AAEf,IAAMC,SAAS;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,cAAc,EAAEC,YAAY,EAAEC,YAAY;IAAA,IAAAC,aAAA,EAAAC,WAAA,EAAAC,WAAA,EAAAC,SAAA;IAAA,OAAAT,YAAA,YAAAU,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAGnC,IAAAC,4BAAQ,EAACZ,cAAc,CAAC;QAAA;UAA9CG,aAAa,GAAAM,QAAA,CAAAI,IAAA;UAAA,IAEdV,aAAa;YAAAM,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAK,MAAA,WACT;YAAEC,OAAO,EAAE,KAAK;YAAEC,KAAK,EAAE;UAA0B,CAAC;QAAA;UAEvDZ,WAAW,GAAGa,sBAAU,CAACC,eAAe,CAAC;YAC7CC,OAAO,EAAE,OAAO;YAChBC,IAAI,EAAE;cACJC,IAAI,EAAEC,OAAO,CAACC,GAAG,CAACC,aAAa;cAC/BC,IAAI,EAAEH,OAAO,CAACC,GAAG,CAACG;YACpB;UACF,CAAC,CAAC;UAEIrB,WAAW,GAAG;YAClBsB,IAAI,EAAEL,OAAO,CAACC,GAAG,CAACK,YAAY;YAC9BC,EAAE,EAAE7B,cAAc;YAClB8B,OAAO,EAAE7B,YAAY;YACrB8B,IAAI,EAAE7B;UACR,CAAC;UAAAO,QAAA,CAAAE,IAAA;UAAA,OACuBP,WAAW,CAAC4B,QAAQ,CAAC3B,WAAW,CAAC;QAAA;UAAnDC,SAAS,GAAAG,QAAA,CAAAI,IAAA;UAAA,OAAAJ,QAAA,CAAAK,MAAA,WACR;YAAEC,OAAO,EAAE,IAAI;YAAEkB,QAAQ,EAAE3B;UAAU,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAyB,EAAA,GAAAzB,QAAA;UAAA,OAAAA,QAAA,CAAAK,MAAA,WAEtC;YAAEC,OAAO,EAAE,KAAK;YAAEC,KAAK,EAAAP,QAAA,CAAAyB;UAAS,CAAC;QAAA;QAAA;UAAA,OAAAzB,QAAA,CAAA0B,IAAA;MAAA;IAAA,GAAApC,OAAA;EAAA,CAE3C;EAAA,gBA3BKL,SAASA,CAAA0C,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA3C,IAAA,CAAA4C,KAAA,OAAAC,SAAA;EAAA;AAAA,GA2Bd;AAAC,IAAAC,QAAA,GAEa/C,SAAS;AAAAgD,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"87e7e73350822524137439c4d5da42385dbb73f0","contentHash":"c938fdc0554fd60342e715503a1fe643726fd810c5442ea6a92d0afc8f085825"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/userRoutes.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/userRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":24},"end":{"line":9,"column":98}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":90}},"6":{"start":{"line":11,"column":13},"end":{"line":11,"column":41}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":60}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":80}},"9":{"start":{"line":14,"column":15},"end":{"line":14,"column":21}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_signupController","_confirmEmail","router","express","Router","post","userAuthController","signUp","get","confirmationEmail","confirmEmail","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/","sources":["userRoutes.js"],"sourcesContent":["import express from 'express';\nimport userAuthController from '../../controllers/Auth/signupController';\nimport confirmationEmail from '../../controllers/Auth/confirmEmail';\n\nconst router = express.Router();\nrouter.post('/signup', userAuthController.signUp);\nrouter.get('/confirm/:confirmationCode', confirmationEmail.confirmEmail);\nexport default router;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAMG,MAAM,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAC/BF,MAAM,CAACG,IAAI,CAAC,SAAS,EAAEC,4BAAkB,CAACC,MAAM,CAAC;AACjDL,MAAM,CAACM,GAAG,CAAC,4BAA4B,EAAEC,wBAAiB,CAACC,YAAY,CAAC;AAAC,IAAAC,QAAA,GAC1DT,MAAM;AAAAU,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b0537563621fc02b3dbb4ad02b07f4d9b09a98a2","contentHash":"9d2ff530e886ac856f88cd917505a3b0842990cd4e8ffada7ca4ae5349292443"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/signupController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/signupController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":46}},"6":{"start":{"line":11,"column":20},"end":{"line":11,"column":66}},"7":{"start":{"line":12,"column":18},"end":{"line":12,"column":63}},"8":{"start":{"line":13,"column":14},"end":{"line":13,"column":55}},"9":{"start":{"line":14,"column":22},"end":{"line":14,"column":70}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":28}},"11":{"start":{"line":16,"column":26},"end":{"line":152,"column":3}},"12":{"start":{"line":17,"column":13},"end":{"line":148,"column":5}},"13":{"start":{"line":19,"column":4},"end":{"line":147,"column":34}},"14":{"start":{"line":20,"column":6},"end":{"line":146,"column":7}},"15":{"start":{"line":20,"column":16},"end":{"line":146,"column":7}},"16":{"start":{"line":22,"column":10},"end":{"line":22,"column":87}},"17":{"start":{"line":23,"column":10},"end":{"line":23,"column":75}},"18":{"start":{"line":24,"column":10},"end":{"line":24,"column":38}},"19":{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},"20":{"start":{"line":26,"column":12},"end":{"line":26,"column":31}},"21":{"start":{"line":27,"column":12},"end":{"line":27,"column":18}},"22":{"start":{"line":29,"column":10},"end":{"line":32,"column":14}},"23":{"start":{"line":34,"column":10},"end":{"line":37,"column":11}},"24":{"start":{"line":35,"column":12},"end":{"line":35,"column":31}},"25":{"start":{"line":36,"column":12},"end":{"line":36,"column":18}},"26":{"start":{"line":38,"column":10},"end":{"line":41,"column":14}},"27":{"start":{"line":43,"column":10},"end":{"line":43,"column":29}},"28":{"start":{"line":44,"column":10},"end":{"line":44,"column":30}},"29":{"start":{"line":45,"column":10},"end":{"line":45,"column":61}},"30":{"start":{"line":47,"column":10},"end":{"line":47,"column":42}},"31":{"start":{"line":48,"column":10},"end":{"line":48,"column":30}},"32":{"start":{"line":49,"column":10},"end":{"line":53,"column":13}},"33":{"start":{"line":55,"column":10},"end":{"line":55,"column":40}},"34":{"start":{"line":56,"column":10},"end":{"line":59,"column":11}},"35":{"start":{"line":57,"column":12},"end":{"line":57,"column":32}},"36":{"start":{"line":58,"column":12},"end":{"line":58,"column":18}},"37":{"start":{"line":60,"column":10},"end":{"line":63,"column":14}},"38":{"start":{"line":65,"column":10},"end":{"line":65,"column":30}},"39":{"start":{"line":66,"column":10},"end":{"line":73,"column":13}},"40":{"start":{"line":75,"column":10},"end":{"line":75,"column":35}},"41":{"start":{"line":76,"column":10},"end":{"line":81,"column":12}},"42":{"start":{"line":82,"column":10},"end":{"line":90,"column":13}},"43":{"start":{"line":91,"column":10},"end":{"line":101,"column":12}},"44":{"start":{"line":92,"column":12},"end":{"line":100,"column":15}},"45":{"start":{"line":93,"column":14},"end":{"line":99,"column":17}},"46":{"start":{"line":94,"column":16},"end":{"line":98,"column":17}},"47":{"start":{"line":95,"column":18},"end":{"line":95,"column":32}},"48":{"start":{"line":97,"column":18},"end":{"line":97,"column":32}},"49":{"start":{"line":102,"column":10},"end":{"line":132,"column":16}},"50":{"start":{"line":104,"column":12},"end":{"line":131,"column":40}},"51":{"start":{"line":105,"column":14},"end":{"line":130,"column":15}},"52":{"start":{"line":105,"column":24},"end":{"line":130,"column":15}},"53":{"start":{"line":107,"column":18},"end":{"line":107,"column":36}},"54":{"start":{"line":108,"column":18},"end":{"line":108,"column":36}},"55":{"start":{"line":109,"column":18},"end":{"line":109,"column":43}},"56":{"start":{"line":111,"column":18},"end":{"line":111,"column":39}},"57":{"start":{"line":112,"column":18},"end":{"line":112,"column":60}},"58":{"start":{"line":113,"column":18},"end":{"line":116,"column":21}},"59":{"start":{"line":117,"column":18},"end":{"line":117,"column":37}},"60":{"start":{"line":118,"column":18},"end":{"line":118,"column":24}},"61":{"start":{"line":120,"column":18},"end":{"line":120,"column":36}},"62":{"start":{"line":121,"column":18},"end":{"line":121,"column":53}},"63":{"start":{"line":122,"column":18},"end":{"line":122,"column":45}},"64":{"start":{"line":123,"column":18},"end":{"line":126,"column":21}},"65":{"start":{"line":129,"column":18},"end":{"line":129,"column":41}},"66":{"start":{"line":133,"column":10},"end":{"line":133,"column":30}},"67":{"start":{"line":134,"column":10},"end":{"line":134,"column":16}},"68":{"start":{"line":136,"column":10},"end":{"line":136,"column":30}},"69":{"start":{"line":137,"column":10},"end":{"line":137,"column":47}},"70":{"start":{"line":138,"column":10},"end":{"line":138,"column":36}},"71":{"start":{"line":139,"column":10},"end":{"line":142,"column":14}},"72":{"start":{"line":145,"column":10},"end":{"line":145,"column":34}},"73":{"start":{"line":149,"column":2},"end":{"line":151,"column":4}},"74":{"start":{"line":150,"column":4},"end":{"line":150,"column":39}},"75":{"start":{"line":153,"column":15},"end":{"line":155,"column":1}},"76":{"start":{"line":156,"column":0},"end":{"line":156,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":16,"column":26},"end":{"line":16,"column":27}},"loc":{"start":{"line":16,"column":38},"end":{"line":152,"column":1}},"line":16},"1":{"name":"_callee2","decl":{"start":{"line":17,"column":100},"end":{"line":17,"column":108}},"loc":{"start":{"line":17,"column":119},"end":{"line":148,"column":3}},"line":17},"2":{"name":"_callee2$","decl":{"start":{"line":19,"column":49},"end":{"line":19,"column":58}},"loc":{"start":{"line":19,"column":70},"end":{"line":147,"column":5}},"line":19},"3":{"name":"sendEmail","decl":{"start":{"line":91,"column":31},"end":{"line":91,"column":40}},"loc":{"start":{"line":91,"column":49},"end":{"line":101,"column":11}},"line":91},"4":{"name":"(anonymous_4)","decl":{"start":{"line":92,"column":31},"end":{"line":92,"column":32}},"loc":{"start":{"line":92,"column":58},"end":{"line":100,"column":13}},"line":92},"5":{"name":"(anonymous_5)","decl":{"start":{"line":93,"column":43},"end":{"line":93,"column":44}},"loc":{"start":{"line":93,"column":66},"end":{"line":99,"column":15}},"line":93},"6":{"name":"_callee","decl":{"start":{"line":102,"column":97},"end":{"line":102,"column":104}},"loc":{"start":{"line":102,"column":107},"end":{"line":132,"column":11}},"line":102},"7":{"name":"_callee$","decl":{"start":{"line":104,"column":57},"end":{"line":104,"column":65}},"loc":{"start":{"line":104,"column":76},"end":{"line":131,"column":13}},"line":104},"8":{"name":"signUp","decl":{"start":{"line":149,"column":18},"end":{"line":149,"column":24}},"loc":{"start":{"line":149,"column":34},"end":{"line":151,"column":3}},"line":149}},"branchMap":{"0":{"loc":{"start":{"line":20,"column":16},"end":{"line":146,"column":7}},"type":"switch","locations":[{"start":{"line":21,"column":8},"end":{"line":32,"column":14}},{"start":{"line":33,"column":8},"end":{"line":41,"column":14}},{"start":{"line":42,"column":8},"end":{"line":45,"column":61}},{"start":{"line":46,"column":8},"end":{"line":53,"column":13}},{"start":{"line":54,"column":8},"end":{"line":63,"column":14}},{"start":{"line":64,"column":8},"end":{"line":73,"column":13}},{"start":{"line":74,"column":8},"end":{"line":134,"column":16}},{"start":{"line":135,"column":8},"end":{"line":142,"column":14}},{"start":{"line":143,"column":8},"end":{"line":143,"column":16}},{"start":{"line":144,"column":8},"end":{"line":145,"column":34}}],"line":20},"1":{"loc":{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},"type":"if","locations":[{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},{"start":{"line":25,"column":10},"end":{"line":28,"column":11}}],"line":25},"2":{"loc":{"start":{"line":34,"column":10},"end":{"line":37,"column":11}},"type":"if","locations":[{"start":{"line":34,"column":10},"end":{"line":37,"column":11}},{"start":{"line":34,"column":10},"end":{"line":37,"column":11}}],"line":34},"3":{"loc":{"start":{"line":34,"column":16},"end":{"line":34,"column":48}},"type":"binary-expr","locations":[{"start":{"line":34,"column":16},"end":{"line":34,"column":25}},{"start":{"line":34,"column":29},"end":{"line":34,"column":48}}],"line":34},"4":{"loc":{"start":{"line":56,"column":10},"end":{"line":59,"column":11}},"type":"if","locations":[{"start":{"line":56,"column":10},"end":{"line":59,"column":11}},{"start":{"line":56,"column":10},"end":{"line":59,"column":11}}],"line":56},"5":{"loc":{"start":{"line":94,"column":16},"end":{"line":98,"column":17}},"type":"if","locations":[{"start":{"line":94,"column":16},"end":{"line":98,"column":17}},{"start":{"line":94,"column":16},"end":{"line":98,"column":17}}],"line":94},"6":{"loc":{"start":{"line":105,"column":24},"end":{"line":130,"column":15}},"type":"switch","locations":[{"start":{"line":106,"column":16},"end":{"line":109,"column":43}},{"start":{"line":110,"column":16},"end":{"line":118,"column":24}},{"start":{"line":119,"column":16},"end":{"line":126,"column":21}},{"start":{"line":127,"column":16},"end":{"line":127,"column":24}},{"start":{"line":128,"column":16},"end":{"line":129,"column":41}}],"line":105}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":1,"76":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"b":{"0":[0,0,0,0,0,0,0,0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0]},"inputSourceMap":{"version":3,"names":["_models","require","_generateCode","_nodemailer","_interopRequireDefault","_dotenv","_hashedPassword","dotenv","config","signUp","_ref","_asyncToGenerator2","_regenerator","mark","_callee2","req","res","_req$body","email","password","confirmationCode","emailRegex","hashedPassword","existingUser","newUser","option","transporter","sendEmail","wrap","_callee2$","_context2","prev","next","body","generateConfirmationCode","test","abrupt","status","json","message","t","length","hashPassword","sent","user","findOne","where","create","firstName","lastName","role","from","process","env","EMAIL_ADDRESS","to","subject","html","concat","nodemailer","createTransport","host","port","secure","auth","pass","EMAIL_PASS","Promise","resolve","reject","sendMail","error","info","_callee","_callee$","_context","console","log","t0","stop","_x","_x2","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/","sources":["signupController.js"],"sourcesContent":["import { user } from \"../../database/models\";\nimport { generateConfirmationCode } from \"../../utils/validation/generateCode\";\nimport nodemailer from \"nodemailer\";\nimport dotenv from \"dotenv\";\nimport { hashPassword } from \"../../utils/validation/hashedPassword\";\ndotenv.config();\nconst signUp = async (req, res) => {\n  const { email, password } = req.body;\n  const confirmationCode = generateConfirmationCode();\n  const emailRegex = /\\S+@\\S+\\.\\S+/;\n  if (!emailRegex.test(email)) {\n    return res\n      .status(400)\n      .json({ status: 400, message: req.t(\"invalidEmail\") });\n  }\n  if (!password || password.length < 8) {\n   \n    return res.status(400).json({status:400,message:req.t(\"passwordTooShort\")});\n  }\n  try {\n    const hashedPassword = await hashPassword(password);\n    const existingUser = await user.findOne({ where: { email } });\n\n    if (existingUser) {\n      return res\n        .status(400)\n        .json({ status: 400, message: req.t(\"emailAlreadyExists\") });\n    }\n\n    const newUser = await user.create({\n      email,\n      password: hashedPassword,\n      confirmationCode,\n      firstName: \"defaultFirstName\",\n      lastName: \"defaultLastName\",\n      role: \"buyer\",\n    });\n\n    const option = {\n      from: process.env.EMAIL_ADDRESS,\n      to: email,\n      subject: \"confirmAccount\",\n      html: `<p>${\"clickLink\"} <a href=\"http://localhost:9999/user/confirm/${confirmationCode}\">${\"here\"}</a> ${\"toConfirmAccount\"}.</p>`,\n    };\n    const transporter = nodemailer.createTransport({\n      host: \"smtp.gmail.com\",\n      port: 465,\n      secure: true,\n      auth: {\n        user: process.env.EMAIL_ADDRESS,\n        pass: process.env.EMAIL_PASS,\n      },\n    });\n    const sendEmail = (option) => {\n      return new Promise((resolve, reject) => {\n        transporter.sendMail(option, (error, info) => {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(info);\n          }\n        });\n      });\n    };\n\n    (async () => {\n      try {\n        const info = await sendEmail(option);\n        console.log(`Email sent: ${email}`);\n        res.json({ status: 200, message: req.t(\"confirmEmailSent\") });\n      } catch (error) {\n        console.error(error);\n\n        res.json({\n          status: 500,\n          message: req.t(\"failedToSendConfirmationEmail\"),\n        });\n      }\n    })();\n  } catch (error) {\n    console.log(error);\n    return res\n      .status(500)\n      .json({ status: 500, message: req.t(\"failedToCreateUser\") });\n  }\n};\nexport default { signUp };\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"9bf0845ddb91badba86d9fa5362ba157bd0ae28a","contentHash":"281c38dc49cd78d5673c2a69e3253cdf847839c1b8fade8fe542cdf5f10465c4"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/validation/generateCode.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/validation/generateCode.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"2":{"start":{"line":7,"column":31},"end":{"line":10,"column":1}},"3":{"start":{"line":8,"column":13},"end":{"line":8,"column":56}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":25}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":60}}},"fnMap":{"0":{"name":"generateConfirmationCode","decl":{"start":{"line":7,"column":40},"end":{"line":7,"column":64}},"loc":{"start":{"line":7,"column":67},"end":{"line":10,"column":1}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"names":["generateConfirmationCode","code","Math","floor","random","toString","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/validation/","sources":["generateCode.js"],"sourcesContent":["export const generateConfirmationCode =()=> {\n    const code = Math.floor(100000 + Math.random() * 900000); \n    return code.toString(); \n  }\n  "],"mappings":";;;;;;AAAO,IAAMA,wBAAwB,GAAE,SAA1BA,wBAAwBA,CAAA,EAAO;EACxC,IAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAC,MAAM,GAAGD,IAAI,CAACE,MAAM,EAAE,GAAG,MAAM,CAAC;EACxD,OAAOH,IAAI,CAACI,QAAQ,EAAE;AACxB,CAAC;AAAAC,OAAA,CAAAN,wBAAA,GAAAA,wBAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"561ad9106d27a5a28043bc1a6e3b2c8e9b609355","contentHash":"a9327accfaca3b575e21848ebb6d9ece8a79c8559f62f410856e45703819c6c1"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/validation/hashedPassword.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/validation/hashedPassword.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":59}},"3":{"start":{"line":8,"column":14},"end":{"line":8,"column":55}},"4":{"start":{"line":9,"column":19},"end":{"line":11,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":51}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}},"7":{"start":{"line":13,"column":25},"end":{"line":15,"column":1}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":66}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":48}}},"fnMap":{"0":{"name":"hashPassword","decl":{"start":{"line":9,"column":28},"end":{"line":9,"column":40}},"loc":{"start":{"line":9,"column":51},"end":{"line":11,"column":1}},"line":9},"1":{"name":"isPasswordMatching","decl":{"start":{"line":13,"column":34},"end":{"line":13,"column":52}},"loc":{"start":{"line":13,"column":79},"end":{"line":15,"column":1}},"line":13}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":0,"9":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"names":["_bcrypt","_interopRequireDefault","require","hashPassword","password","bcrypt","hashSync","exports","isPasswordMatching","hashedPassword","compareSync"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/validation/","sources":["hashedPassword.js"],"sourcesContent":["import bcrypt from \"bcrypt\";\nexport const hashPassword = (password) => {\nreturn bcrypt.hashSync(password, 10);\n};\nexport const isPasswordMatching = (password, hashedPassword) => {\n  return bcrypt.compareSync(password, hashedPassword);\n};"],"mappings":";;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACO,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAIC,QAAQ,EAAK;EAC1C,OAAOC,kBAAM,CAACC,QAAQ,CAACF,QAAQ,EAAE,EAAE,CAAC;AACpC,CAAC;AAACG,OAAA,CAAAJ,YAAA,GAAAA,YAAA;AACK,IAAMK,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIJ,QAAQ,EAAEK,cAAc,EAAK;EAC9D,OAAOJ,kBAAM,CAACK,WAAW,CAACN,QAAQ,EAAEK,cAAc,CAAC;AACrD,CAAC;AAACF,OAAA,CAAAC,kBAAA,GAAAA,kBAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ebe1924aa83d8a54bc01f5efd4902885f65ed683","contentHash":"6f60b67efd67de76c184d07efebfb557e6a68653060a33a7f7f6b0efc33d9aa0"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/confirmEmail.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/confirmEmail.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":46}},"6":{"start":{"line":11,"column":32},"end":{"line":61,"column":3}},"7":{"start":{"line":12,"column":13},"end":{"line":57,"column":5}},"8":{"start":{"line":14,"column":4},"end":{"line":56,"column":33}},"9":{"start":{"line":15,"column":6},"end":{"line":55,"column":7}},"10":{"start":{"line":15,"column":16},"end":{"line":55,"column":7}},"11":{"start":{"line":17,"column":10},"end":{"line":17,"column":57}},"12":{"start":{"line":18,"column":10},"end":{"line":18,"column":28}},"13":{"start":{"line":19,"column":10},"end":{"line":19,"column":28}},"14":{"start":{"line":20,"column":10},"end":{"line":24,"column":13}},"15":{"start":{"line":26,"column":10},"end":{"line":26,"column":34}},"16":{"start":{"line":27,"column":10},"end":{"line":30,"column":11}},"17":{"start":{"line":28,"column":12},"end":{"line":28,"column":30}},"18":{"start":{"line":29,"column":12},"end":{"line":29,"column":18}},"19":{"start":{"line":31,"column":10},"end":{"line":31,"column":83}},"20":{"start":{"line":33,"column":10},"end":{"line":36,"column":11}},"21":{"start":{"line":34,"column":12},"end":{"line":34,"column":30}},"22":{"start":{"line":35,"column":12},"end":{"line":35,"column":18}},"23":{"start":{"line":37,"column":10},"end":{"line":37,"column":195}},"24":{"start":{"line":39,"column":10},"end":{"line":39,"column":29}},"25":{"start":{"line":40,"column":10},"end":{"line":42,"column":13}},"26":{"start":{"line":44,"column":10},"end":{"line":44,"column":161}},"27":{"start":{"line":45,"column":10},"end":{"line":45,"column":29}},"28":{"start":{"line":46,"column":10},"end":{"line":46,"column":16}},"29":{"start":{"line":48,"column":10},"end":{"line":48,"column":29}},"30":{"start":{"line":49,"column":10},"end":{"line":49,"column":45}},"31":{"start":{"line":50,"column":10},"end":{"line":50,"column":37}},"32":{"start":{"line":51,"column":10},"end":{"line":51,"column":56}},"33":{"start":{"line":54,"column":10},"end":{"line":54,"column":33}},"34":{"start":{"line":58,"column":2},"end":{"line":60,"column":4}},"35":{"start":{"line":59,"column":4},"end":{"line":59,"column":39}},"36":{"start":{"line":62,"column":15},"end":{"line":64,"column":1}},"37":{"start":{"line":65,"column":0},"end":{"line":65,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":32},"end":{"line":11,"column":33}},"loc":{"start":{"line":11,"column":44},"end":{"line":61,"column":1}},"line":11},"1":{"name":"_callee","decl":{"start":{"line":12,"column":100},"end":{"line":12,"column":107}},"loc":{"start":{"line":12,"column":118},"end":{"line":57,"column":3}},"line":12},"2":{"name":"_callee$","decl":{"start":{"line":14,"column":49},"end":{"line":14,"column":57}},"loc":{"start":{"line":14,"column":68},"end":{"line":56,"column":5}},"line":14},"3":{"name":"confirmEmail","decl":{"start":{"line":58,"column":18},"end":{"line":58,"column":30}},"loc":{"start":{"line":58,"column":40},"end":{"line":60,"column":3}},"line":58}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":16},"end":{"line":55,"column":7}},"type":"switch","locations":[{"start":{"line":16,"column":8},"end":{"line":24,"column":13}},{"start":{"line":25,"column":8},"end":{"line":31,"column":83}},{"start":{"line":32,"column":8},"end":{"line":37,"column":195}},{"start":{"line":38,"column":8},"end":{"line":42,"column":13}},{"start":{"line":43,"column":8},"end":{"line":46,"column":16}},{"start":{"line":47,"column":8},"end":{"line":51,"column":56}},{"start":{"line":52,"column":8},"end":{"line":52,"column":16}},{"start":{"line":53,"column":8},"end":{"line":54,"column":33}}],"line":15},"1":{"loc":{"start":{"line":27,"column":10},"end":{"line":30,"column":11}},"type":"if","locations":[{"start":{"line":27,"column":10},"end":{"line":30,"column":11}},{"start":{"line":27,"column":10},"end":{"line":30,"column":11}}],"line":27},"2":{"loc":{"start":{"line":33,"column":10},"end":{"line":36,"column":11}},"type":"if","locations":[{"start":{"line":33,"column":10},"end":{"line":36,"column":11}},{"start":{"line":33,"column":10},"end":{"line":36,"column":11}}],"line":33}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,0,0,0,0,0,0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"names":["_models","require","confirmEmail","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","confirmationCode","newUser","wrap","_callee$","_context","prev","next","params","user","findOne","where","sent","abrupt","status","send","confirmed","update","t0","console","error","stop","_x","_x2","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/","sources":["confirmEmail.js"],"sourcesContent":["import { user } from \"../../database/models\";\nconst confirmEmail = async (req, res) => {\n  const { confirmationCode } = req.params;\n  try {\n    const newUser = await user.findOne({ where: { confirmationCode } });\n    if (!newUser) {\n      return res.status(404).send(\"User not found\");\n    }\n    if (newUser.confirmed) {\n      return res\n        .status(400)\n        .send(\n          \"Welcome to the E-commerce App. Your account has been confirmed, and We appreciate you choosing to make purchases using our app\"\n        );\n    }\n    await newUser.update({ confirmed: true });\n    res\n      .status(200)\n      .send(\n        \"Welcome to the E-commerce App. Your account has been confirmed, and We appreciate you choosing to make purchases using our app\"\n      );\n  } catch (err) {\n    console.error(err);\n    res.status(500).send(\"Internal server error\");\n  }\n};\nexport default { confirmEmail };\n"],"mappings":";;;;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAMC,YAAY;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,gBAAA,EAAAC,OAAA;IAAA,OAAAN,YAAA,YAAAO,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAC1BN,gBAAgB,GAAKF,GAAG,CAACS,MAAM,CAA/BP,gBAAgB;UAAAI,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEAE,YAAI,CAACC,OAAO,CAAC;YAAEC,KAAK,EAAE;cAAEV,gBAAgB,EAAhBA;YAAiB;UAAE,CAAC,CAAC;QAAA;UAA7DC,OAAO,GAAAG,QAAA,CAAAO,IAAA;UAAA,IACRV,OAAO;YAAAG,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAQ,MAAA,WACHb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,gBAAgB,CAAC;QAAA;UAAA,KAE3Cb,OAAO,CAACc,SAAS;YAAAX,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAA,OAAAF,QAAA,CAAAQ,MAAA,WACZb,GAAG,CACPc,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CACH,gIAAgI,CACjI;QAAA;UAAAV,QAAA,CAAAE,IAAA;UAAA,OAECL,OAAO,CAACe,MAAM,CAAC;YAAED,SAAS,EAAE;UAAK,CAAC,CAAC;QAAA;UACzChB,GAAG,CACAc,MAAM,CAAC,GAAG,CAAC,CACXC,IAAI,CACH,gIAAgI,CACjI;UAACV,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAa,EAAA,GAAAb,QAAA;UAEJc,OAAO,CAACC,KAAK,CAAAf,QAAA,CAAAa,EAAA,CAAK;UAClBlB,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,uBAAuB,CAAC;QAAC;QAAA;UAAA,OAAAV,QAAA,CAAAgB,IAAA;MAAA;IAAA,GAAAvB,OAAA;EAAA,CAEjD;EAAA,gBAxBKL,YAAYA,CAAA6B,EAAA,EAAAC,GAAA;IAAA,OAAA7B,IAAA,CAAA8B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAwBjB;AAAC,IAAAC,QAAA,GACa;EAAEjC,YAAY,EAAZA;AAAa,CAAC;AAAAkC,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"973b88f80a7bdbe111a21ecfb2b5eca28cedf438","contentHash":"daa5dab82226730c21e182ab9daf73796abfe9b652a77c0237ce34ba8788e1a2"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/googleAuthRoutes.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/googleAuthRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":18},"end":{"line":9,"column":86}},"5":{"start":{"line":10,"column":22},"end":{"line":10,"column":72}},"6":{"start":{"line":11,"column":10},"end":{"line":11,"column":38}},"7":{"start":{"line":12,"column":0},"end":{"line":16,"column":4}},"8":{"start":{"line":17,"column":0},"end":{"line":17,"column":45}},"9":{"start":{"line":18,"column":0},"end":{"line":18,"column":42}},"10":{"start":{"line":19,"column":0},"end":{"line":21,"column":4}},"11":{"start":{"line":22,"column":0},"end":{"line":26,"column":3}},"12":{"start":{"line":25,"column":2},"end":{"line":25,"column":20}},"13":{"start":{"line":27,"column":0},"end":{"line":30,"column":3}},"14":{"start":{"line":28,"column":2},"end":{"line":28,"column":27}},"15":{"start":{"line":29,"column":2},"end":{"line":29,"column":48}},"16":{"start":{"line":31,"column":15},"end":{"line":31,"column":18}},"17":{"start":{"line":32,"column":0},"end":{"line":32,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":24},"end":{"line":26,"column":1}},"line":24},"1":{"name":"(anonymous_1)","decl":{"start":{"line":27,"column":8},"end":{"line":27,"column":9}},"loc":{"start":{"line":27,"column":39},"end":{"line":30,"column":1}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":0,"15":0,"16":1,"17":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_googleAuth","_expressSession","app","express","Router","use","session","secret","resave","saveUninitialized","passport","initialize","get","authenticate","scope","failureRedirect","req","res","redirect","err","next","console","error","stack","status","send","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/","sources":["googleAuthRoutes.js"],"sourcesContent":["import express from \"express\";\nimport passport from \"../../controllers/Auth/googleAuth\";\nimport session from \"express-session\";\nconst app = express.Router();\napp.use(\n  session({\n    secret: \"secret\",\n    resave: false,\n    saveUninitialized: false,\n  })\n);\napp.use(passport.initialize());\napp.use(passport.session());\napp.get(\n  \"/auth/google\",\n  passport.authenticate(\"google\", { scope: [\"profile\", \"email\"] })\n);\napp.get(\n  \"/auth/google/callback\",\n  passport.authenticate(\"google\", { failureRedirect: \"/login\" }),\n  (req, res) => {\n    res.redirect(\"/\");\n  }\n);\napp.use((err, req, res, next) => {\n  console.error(err.stack);\n  res.status(500).send('Internal server error');\n});\nexport default app;"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAMG,GAAG,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAC5BF,GAAG,CAACG,GAAG,CACL,IAAAC,0BAAO,EAAC;EACNC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,KAAK;EACbC,iBAAiB,EAAE;AACrB,CAAC,CAAC,CACH;AACDP,GAAG,CAACG,GAAG,CAACK,sBAAQ,CAACC,UAAU,EAAE,CAAC;AAC9BT,GAAG,CAACG,GAAG,CAACK,sBAAQ,CAACJ,OAAO,EAAE,CAAC;AAC3BJ,GAAG,CAACU,GAAG,CACL,cAAc,EACdF,sBAAQ,CAACG,YAAY,CAAC,QAAQ,EAAE;EAAEC,KAAK,EAAE,CAAC,SAAS,EAAE,OAAO;AAAE,CAAC,CAAC,CACjE;AACDZ,GAAG,CAACU,GAAG,CACL,uBAAuB,EACvBF,sBAAQ,CAACG,YAAY,CAAC,QAAQ,EAAE;EAAEE,eAAe,EAAE;AAAS,CAAC,CAAC,EAC9D,UAACC,GAAG,EAAEC,GAAG,EAAK;EACZA,GAAG,CAACC,QAAQ,CAAC,GAAG,CAAC;AACnB,CAAC,CACF;AACDhB,GAAG,CAACG,GAAG,CAAC,UAACc,GAAG,EAAEH,GAAG,EAAEC,GAAG,EAAEG,IAAI,EAAK;EAC/BC,OAAO,CAACC,KAAK,CAACH,GAAG,CAACI,KAAK,CAAC;EACxBN,GAAG,CAACO,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,uBAAuB,CAAC;AAC/C,CAAC,CAAC;AAAC,IAAAC,QAAA,GACYxB,GAAG;AAAAyB,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a609ae2ed324496619bf3d825dfb9201c3a29f63","contentHash":"46a0cd55e9eaa61b8e3753b6665fb4a28439ec4cbf471a2da705c315778de0b4"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/googleAuth.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/googleAuth.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":25},"end":{"line":10,"column":99}},"6":{"start":{"line":11,"column":16},"end":{"line":11,"column":59}},"7":{"start":{"line":12,"column":27},"end":{"line":12,"column":85}},"8":{"start":{"line":13,"column":14},"end":{"line":13,"column":46}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}},"10":{"start":{"line":15,"column":0},"end":{"line":60,"column":6}},"11":{"start":{"line":20,"column":13},"end":{"line":56,"column":5}},"12":{"start":{"line":22,"column":4},"end":{"line":55,"column":33}},"13":{"start":{"line":23,"column":6},"end":{"line":54,"column":7}},"14":{"start":{"line":23,"column":16},"end":{"line":54,"column":7}},"15":{"start":{"line":25,"column":10},"end":{"line":25,"column":28}},"16":{"start":{"line":26,"column":10},"end":{"line":26,"column":28}},"17":{"start":{"line":27,"column":10},"end":{"line":40,"column":13}},"18":{"start":{"line":42,"column":10},"end":{"line":42,"column":48}},"19":{"start":{"line":43,"column":10},"end":{"line":43,"column":93}},"20":{"start":{"line":44,"column":10},"end":{"line":44,"column":46}},"21":{"start":{"line":45,"column":10},"end":{"line":45,"column":46}},"22":{"start":{"line":46,"column":10},"end":{"line":46,"column":64}},"23":{"start":{"line":48,"column":10},"end":{"line":48,"column":29}},"24":{"start":{"line":49,"column":10},"end":{"line":49,"column":45}},"25":{"start":{"line":50,"column":10},"end":{"line":50,"column":62}},"26":{"start":{"line":53,"column":10},"end":{"line":53,"column":33}},"27":{"start":{"line":57,"column":2},"end":{"line":59,"column":4}},"28":{"start":{"line":58,"column":4},"end":{"line":58,"column":39}},"29":{"start":{"line":61,"column":0},"end":{"line":63,"column":3}},"30":{"start":{"line":62,"column":2},"end":{"line":62,"column":25}},"31":{"start":{"line":64,"column":0},"end":{"line":91,"column":5}},"32":{"start":{"line":65,"column":14},"end":{"line":87,"column":5}},"33":{"start":{"line":67,"column":4},"end":{"line":86,"column":33}},"34":{"start":{"line":68,"column":6},"end":{"line":85,"column":7}},"35":{"start":{"line":68,"column":16},"end":{"line":85,"column":7}},"36":{"start":{"line":70,"column":10},"end":{"line":70,"column":29}},"37":{"start":{"line":71,"column":10},"end":{"line":71,"column":29}},"38":{"start":{"line":72,"column":10},"end":{"line":72,"column":43}},"39":{"start":{"line":74,"column":10},"end":{"line":74,"column":35}},"40":{"start":{"line":75,"column":10},"end":{"line":75,"column":30}},"41":{"start":{"line":76,"column":10},"end":{"line":76,"column":30}},"42":{"start":{"line":77,"column":10},"end":{"line":77,"column":16}},"43":{"start":{"line":79,"column":10},"end":{"line":79,"column":29}},"44":{"start":{"line":80,"column":10},"end":{"line":80,"column":47}},"45":{"start":{"line":81,"column":10},"end":{"line":81,"column":29}},"46":{"start":{"line":84,"column":10},"end":{"line":84,"column":34}},"47":{"start":{"line":88,"column":2},"end":{"line":90,"column":4}},"48":{"start":{"line":89,"column":4},"end":{"line":89,"column":40}},"49":{"start":{"line":92,"column":15},"end":{"line":92,"column":35}},"50":{"start":{"line":93,"column":0},"end":{"line":93,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":19,"column":16},"end":{"line":19,"column":17}},"loc":{"start":{"line":19,"column":28},"end":{"line":60,"column":1}},"line":19},"1":{"name":"_callee","decl":{"start":{"line":20,"column":100},"end":{"line":20,"column":107}},"loc":{"start":{"line":20,"column":150},"end":{"line":56,"column":3}},"line":20},"2":{"name":"_callee$","decl":{"start":{"line":22,"column":49},"end":{"line":22,"column":57}},"loc":{"start":{"line":22,"column":68},"end":{"line":55,"column":5}},"line":22},"3":{"name":"(anonymous_3)","decl":{"start":{"line":57,"column":9},"end":{"line":57,"column":10}},"loc":{"start":{"line":57,"column":38},"end":{"line":59,"column":3}},"line":57},"4":{"name":"(anonymous_4)","decl":{"start":{"line":61,"column":35},"end":{"line":61,"column":36}},"loc":{"start":{"line":61,"column":60},"end":{"line":63,"column":1}},"line":61},"5":{"name":"(anonymous_5)","decl":{"start":{"line":64,"column":51},"end":{"line":64,"column":52}},"loc":{"start":{"line":64,"column":63},"end":{"line":91,"column":1}},"line":64},"6":{"name":"_callee2","decl":{"start":{"line":65,"column":101},"end":{"line":65,"column":109}},"loc":{"start":{"line":65,"column":120},"end":{"line":87,"column":3}},"line":65},"7":{"name":"_callee2$","decl":{"start":{"line":67,"column":49},"end":{"line":67,"column":58}},"loc":{"start":{"line":67,"column":70},"end":{"line":86,"column":5}},"line":67},"8":{"name":"(anonymous_8)","decl":{"start":{"line":88,"column":9},"end":{"line":88,"column":10}},"loc":{"start":{"line":88,"column":29},"end":{"line":90,"column":3}},"line":88}},"branchMap":{"0":{"loc":{"start":{"line":23,"column":16},"end":{"line":54,"column":7}},"type":"switch","locations":[{"start":{"line":24,"column":8},"end":{"line":40,"column":13}},{"start":{"line":41,"column":8},"end":{"line":46,"column":64}},{"start":{"line":47,"column":8},"end":{"line":50,"column":62}},{"start":{"line":51,"column":8},"end":{"line":51,"column":16}},{"start":{"line":52,"column":8},"end":{"line":53,"column":33}}],"line":23},"1":{"loc":{"start":{"line":68,"column":16},"end":{"line":85,"column":7}},"type":"switch","locations":[{"start":{"line":69,"column":8},"end":{"line":72,"column":43}},{"start":{"line":73,"column":8},"end":{"line":77,"column":16}},{"start":{"line":78,"column":8},"end":{"line":81,"column":29}},{"start":{"line":82,"column":8},"end":{"line":82,"column":16}},{"start":{"line":83,"column":8},"end":{"line":84,"column":34}}],"line":68}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":1,"30":0,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":1,"50":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0},"b":{"0":[0,0,0,0,0],"1":[0,0,0,0,0]},"inputSourceMap":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportGoogleOauth","_models","passport","use","GoogleStrategy","clientID","process","env","CLIENT_ID","clientSecret","CLIENT_SECRET","callbackURL","_ref","_asyncToGenerator2","_regenerator","mark","_callee","accessToken","refreshToken","profile","done","_yield$user$findOrCre","_yield$user$findOrCre2","newUser","created","wrap","_callee$","_context","prev","next","user","findOrCreate","where","email","emails","value","defaults","firstName","name","givenName","lastName","familyName","password","role","confirmationCode","confirmed","sent","_slicedToArray2","abrupt","t0","stop","_x","_x2","_x3","_x4","apply","arguments","serializeUser","id","deserializeUser","_ref2","_callee2","_callee2$","_context2","findByPk","_x5","_x6","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/","sources":["googleAuth.js"],"sourcesContent":["import passport from \"passport\";\nimport GoogleStrategy from \"passport-google-oauth20\";\nimport { user } from \"../../database/models\";\nimport \"dotenv/config\";\npassport.use(\n  new GoogleStrategy(\n    {\n      clientID: process.env.CLIENT_ID,\n      clientSecret: process.env.CLIENT_SECRET,\n      callbackURL: \"/auth/google/callback\",\n    },\n    async (accessToken, refreshToken, profile, done) => {\n      try {\n        const [newUser, created] = await user.findOrCreate({\n          where: { email: profile.emails[0].value },\n          defaults: {\n            firstName: profile.name.givenName,\n            lastName: profile.name.familyName,\n            email: profile.emails[0].value,\n            password: null,\n            role: \"buyer\",\n            confirmationCode: null,\n            confirmed: true,\n          },\n        });\n        return done(null, newUser);\n      } catch (error) {\n        return done(error);\n      }\n    }\n  )\n);\npassport.serializeUser((newUser, done) => {\n  done(null, newUser.id);\n});\npassport.deserializeUser(async (id, done) => {\n  try {\n    const newUser = await user.findByPk(id);\n    done(null, newUser);\n  } catch (error) {\n    done(error);\n  }\n});\nexport default passport;\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cd086fd565cee3c41be6092ad78b4b5a3e968ffd","contentHash":"485a2c4e89f9bdbfac39109ae1f5a928b51edce86a65a3c3bc60f357aaf99dd3"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/facebookAuthRoutes.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/facebookAuthRoutes.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":20},"end":{"line":9,"column":90}},"5":{"start":{"line":10,"column":22},"end":{"line":10,"column":72}},"6":{"start":{"line":11,"column":13},"end":{"line":11,"column":41}},"7":{"start":{"line":12,"column":0},"end":{"line":14,"column":4}},"8":{"start":{"line":15,"column":0},"end":{"line":19,"column":3}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":20}},"10":{"start":{"line":20,"column":15},"end":{"line":20,"column":21}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":24},"end":{"line":19,"column":1}},"line":17}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_facebookAuth","_expressSession","router","express","Router","get","passport","authenticate","scope","failureRedirect","req","res","redirect","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/user/","sources":["facebookAuthRoutes.js"],"sourcesContent":["import express from \"express\";\nimport passport from \"../../controllers/Auth/facebookAuth\";\nimport session from 'express-session';\nconst router = express.Router();\nrouter.get(\n  \"/auth/facebook\",\n  passport.authenticate(\"facebook\", { scope: [\"email\"] })\n);\nrouter.get(\n  \"/auth/facebook/callback\",\n  passport.authenticate(\"facebook\", { failureRedirect: \"/login\" }),\n  (req, res) => {\n    res.redirect(\"/\");\n  }\n);\nexport default router;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,aAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,eAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAMG,MAAM,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAC/BF,MAAM,CAACG,GAAG,CACR,gBAAgB,EAChBC,wBAAQ,CAACC,YAAY,CAAC,UAAU,EAAE;EAAEC,KAAK,EAAE,CAAC,OAAO;AAAE,CAAC,CAAC,CACxD;AACDN,MAAM,CAACG,GAAG,CACR,yBAAyB,EACzBC,wBAAQ,CAACC,YAAY,CAAC,UAAU,EAAE;EAAEE,eAAe,EAAE;AAAS,CAAC,CAAC,EAChE,UAACC,GAAG,EAAEC,GAAG,EAAK;EACZA,GAAG,CAACC,QAAQ,CAAC,GAAG,CAAC;AACnB,CAAC,CACF;AAAC,IAAAC,QAAA,GACaX,MAAM;AAAAY,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f4655258700a1da938b11f60b66930d59ec8ebfe","contentHash":"ad414170cce9c9de61af779d2a972825a5b636848ddc2fe7371382dcb1c595bf"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/facebookAuth.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/facebookAuth.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":93}},"5":{"start":{"line":10,"column":25},"end":{"line":10,"column":99}},"6":{"start":{"line":11,"column":16},"end":{"line":11,"column":59}},"7":{"start":{"line":12,"column":24},"end":{"line":12,"column":52}},"8":{"start":{"line":13,"column":14},"end":{"line":13,"column":46}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":25}},"10":{"start":{"line":15,"column":0},"end":{"line":55,"column":6}},"11":{"start":{"line":21,"column":13},"end":{"line":51,"column":5}},"12":{"start":{"line":23,"column":4},"end":{"line":50,"column":32}},"13":{"start":{"line":24,"column":6},"end":{"line":49,"column":7}},"14":{"start":{"line":24,"column":16},"end":{"line":49,"column":7}},"15":{"start":{"line":26,"column":10},"end":{"line":26,"column":28}},"16":{"start":{"line":27,"column":10},"end":{"line":27,"column":28}},"17":{"start":{"line":28,"column":10},"end":{"line":36,"column":13}},"18":{"start":{"line":38,"column":10},"end":{"line":38,"column":48}},"19":{"start":{"line":39,"column":10},"end":{"line":39,"column":93}},"20":{"start":{"line":40,"column":10},"end":{"line":40,"column":46}},"21":{"start":{"line":41,"column":10},"end":{"line":41,"column":64}},"22":{"start":{"line":43,"column":10},"end":{"line":43,"column":28}},"23":{"start":{"line":44,"column":10},"end":{"line":44,"column":45}},"24":{"start":{"line":45,"column":10},"end":{"line":45,"column":68}},"25":{"start":{"line":48,"column":10},"end":{"line":48,"column":33}},"26":{"start":{"line":52,"column":2},"end":{"line":54,"column":4}},"27":{"start":{"line":53,"column":4},"end":{"line":53,"column":39}},"28":{"start":{"line":56,"column":15},"end":{"line":56,"column":35}},"29":{"start":{"line":57,"column":0},"end":{"line":57,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":20,"column":16},"end":{"line":20,"column":17}},"loc":{"start":{"line":20,"column":28},"end":{"line":55,"column":1}},"line":20},"1":{"name":"_callee","decl":{"start":{"line":21,"column":100},"end":{"line":21,"column":107}},"loc":{"start":{"line":21,"column":150},"end":{"line":51,"column":3}},"line":21},"2":{"name":"_callee$","decl":{"start":{"line":23,"column":49},"end":{"line":23,"column":57}},"loc":{"start":{"line":23,"column":68},"end":{"line":50,"column":5}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":52,"column":9},"end":{"line":52,"column":10}},"loc":{"start":{"line":52,"column":38},"end":{"line":54,"column":3}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":24,"column":16},"end":{"line":49,"column":7}},"type":"switch","locations":[{"start":{"line":25,"column":8},"end":{"line":36,"column":13}},{"start":{"line":37,"column":8},"end":{"line":41,"column":64}},{"start":{"line":42,"column":8},"end":{"line":45,"column":68}},{"start":{"line":46,"column":8},"end":{"line":46,"column":16}},{"start":{"line":47,"column":8},"end":{"line":48,"column":33}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":1,"29":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,0,0,0,0]},"inputSourceMap":{"version":3,"names":["_passport","_interopRequireDefault","require","_passportFacebook","_models","passport","use","FacebookStrategy","clientID","process","env","FACEBOOK_APP_ID","clientSecret","FACEBOOK_APP_SECRET","callbackURL","profileFields","_ref","_asyncToGenerator2","_regenerator","mark","_callee","accessToken","refreshToken","profile","done","_yield$user$findOrCre","_yield$user$findOrCre2","newUser","wrap","_callee$","_context","prev","next","user","findOrCreate","where","email","emails","value","defaults","name","displayName","sent","_slicedToArray2","abrupt","t0","stop","_x","_x2","_x3","_x4","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/Auth/","sources":["facebookAuth.js"],"sourcesContent":["import passport from \"passport\";\nimport { Strategy as FacebookStrategy } from \"passport-facebook\";\nimport { user } from \"../../database/models\";\nimport \"dotenv/config\";\npassport.use(\n  new FacebookStrategy(\n    {\n      clientID: process.env.FACEBOOK_APP_ID,\n      clientSecret: process.env.FACEBOOK_APP_SECRET,\n      callbackURL: \"/auth/facebook/callback\",\n      profileFields: [\"id\", \"displayName\", \"email\"],\n    },\n    async (accessToken, refreshToken, profile, done) => {\n      try {\n        const [newUser] = await user.findOrCreate({\n          where: { email: profile.emails[0].value },\n          defaults: {\n            email: profile.emails[0].value,\n            name: profile.displayName,\n          },\n        });\n        return done(null, newUser);\n      } catch (err) {\n        return done(err, null);\n      }\n    }\n  )\n);\nexport default passport;\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AACAA,OAAA;AACAG,oBAAQ,CAACC,GAAG,CACV,IAAIC,0BAAgB,CAClB;EACEC,QAAQ,EAAEC,OAAO,CAACC,GAAG,CAACC,eAAe;EACrCC,YAAY,EAAEH,OAAO,CAACC,GAAG,CAACG,mBAAmB;EAC7CC,WAAW,EAAE,yBAAyB;EACtCC,aAAa,EAAE,CAAC,IAAI,EAAE,aAAa,EAAE,OAAO;AAC9C,CAAC;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CACD,SAAAC,QAAOC,WAAW,EAAEC,YAAY,EAAEC,OAAO,EAAEC,IAAI;IAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,OAAA;IAAA,OAAAT,YAAA,YAAAU,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAE,IAAA;UAAA,OAEnBC,YAAI,CAACC,YAAY,CAAC;YACxCC,KAAK,EAAE;cAAEC,KAAK,EAAEb,OAAO,CAACc,MAAM,CAAC,CAAC,CAAC,CAACC;YAAM,CAAC;YACzCC,QAAQ,EAAE;cACRH,KAAK,EAAEb,OAAO,CAACc,MAAM,CAAC,CAAC,CAAC,CAACC,KAAK;cAC9BE,IAAI,EAAEjB,OAAO,CAACkB;YAChB;UACF,CAAC,CAAC;QAAA;UAAAhB,qBAAA,GAAAK,QAAA,CAAAY,IAAA;UAAAhB,sBAAA,OAAAiB,eAAA,aAAAlB,qBAAA;UANKE,OAAO,GAAAD,sBAAA;UAAA,OAAAI,QAAA,CAAAc,MAAA,WAOPpB,IAAI,CAAC,IAAI,EAAEG,OAAO,CAAC;QAAA;UAAAG,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAe,EAAA,GAAAf,QAAA;UAAA,OAAAA,QAAA,CAAAc,MAAA,WAEnBpB,IAAI,CAAAM,QAAA,CAAAe,EAAA,EAAM,IAAI,CAAC;QAAA;QAAA;UAAA,OAAAf,QAAA,CAAAgB,IAAA;MAAA;IAAA,GAAA1B,OAAA;EAAA,CAEzB;EAAA,iBAAA2B,EAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAAlC,IAAA,CAAAmC,KAAA,OAAAC,SAAA;EAAA;AAAA,IACF,CACF;AAAC,IAAAC,QAAA,GACahD,oBAAQ;AAAAiD,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f68bb3ab92ee71c6bb9cf2d8eb3fc1e41d92a8b0","contentHash":"3cf30d012f78c9c6b6def03abdb1d4ddf5d67b155108a5a19938e9401213a32f"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/roleRoute.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/roleRoute.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":89}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":41}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":34}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":837}},"8":{"start":{"line":13,"column":15},"end":{"line":13,"column":20}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","require","_roleController","_interopRequireDefault","_role","Route","Router","post","isAdmin","RolesControlle","createNewRole","get","getAllRoles","getOneRole","put","updateOneRole","deleteOneRole","setRole","usersWithRoles","userWithRole","updateUserWithRole","deleteUserWithRole","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/","sources":["roleRoute.js"],"sourcesContent":["import { Router } from 'express';\nimport RolesControlle from '../controllers/roleController.js';\nimport {\n  isAdmin, isSeller, isBuyer, checkPermission,\n} from '../middleware/role';\n\nconst Route = Router();\n\nRoute.post('/role', isAdmin, RolesControlle.createNewRole),\nRoute.get('/role', isAdmin, RolesControlle.getAllRoles),\nRoute.get('/role/:id', isAdmin, RolesControlle.getOneRole),\nRoute.put('/role/:id', isAdmin, RolesControlle.updateOneRole),\nRoute.delete('/role/:id', isAdmin, RolesControlle.deleteOneRole),\nRoute.post('/setrole', isAdmin, RolesControlle.setRole),\nRoute.get('/users/roles', isAdmin, RolesControlle.usersWithRoles),\nRoute.get('/users/roles/:id', isAdmin, RolesControlle.userWithRole),\nRoute.put('/users/roles/:id', isAdmin, RolesControlle.updateUserWithRole),\nRoute.delete('/users/roles/:id', isAdmin, RolesControlle.deleteUserWithRole);\n\nexport default Route;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,eAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAIA,IAAMI,KAAK,GAAG,IAAAC,eAAM,GAAE;AAEtBD,KAAK,CAACE,IAAI,CAAC,OAAO,EAAEC,aAAO,EAAEC,0BAAc,CAACC,aAAa,CAAC,EAC1DL,KAAK,CAACM,GAAG,CAAC,OAAO,EAAEH,aAAO,EAAEC,0BAAc,CAACG,WAAW,CAAC,EACvDP,KAAK,CAACM,GAAG,CAAC,WAAW,EAAEH,aAAO,EAAEC,0BAAc,CAACI,UAAU,CAAC,EAC1DR,KAAK,CAACS,GAAG,CAAC,WAAW,EAAEN,aAAO,EAAEC,0BAAc,CAACM,aAAa,CAAC,EAC7DV,KAAK,UAAO,CAAC,WAAW,EAAEG,aAAO,EAAEC,0BAAc,CAACO,aAAa,CAAC,EAChEX,KAAK,CAACE,IAAI,CAAC,UAAU,EAAEC,aAAO,EAAEC,0BAAc,CAACQ,OAAO,CAAC,EACvDZ,KAAK,CAACM,GAAG,CAAC,cAAc,EAAEH,aAAO,EAAEC,0BAAc,CAACS,cAAc,CAAC,EACjEb,KAAK,CAACM,GAAG,CAAC,kBAAkB,EAAEH,aAAO,EAAEC,0BAAc,CAACU,YAAY,CAAC,EACnEd,KAAK,CAACS,GAAG,CAAC,kBAAkB,EAAEN,aAAO,EAAEC,0BAAc,CAACW,kBAAkB,CAAC,EACzEf,KAAK,UAAO,CAAC,kBAAkB,EAAEG,aAAO,EAAEC,0BAAc,CAACY,kBAAkB,CAAC;AAAC,IAAAC,QAAA,GAE9DjB,KAAK;AAAAkB,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7e64ba5989069ac7799ea65a801a9b15d1c230b8","contentHash":"c9d287259763dac8b4ce1e7796cbeaf42b6be077e8af1c5d96c0077521cf07e0"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/roleController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/roleController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":31}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":43}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":22}},"8":{"start":{"line":13,"column":33},"end":{"line":46,"column":3}},"9":{"start":{"line":14,"column":13},"end":{"line":42,"column":5}},"10":{"start":{"line":16,"column":4},"end":{"line":41,"column":32}},"11":{"start":{"line":17,"column":6},"end":{"line":40,"column":7}},"12":{"start":{"line":17,"column":16},"end":{"line":40,"column":7}},"13":{"start":{"line":19,"column":10},"end":{"line":19,"column":99}},"14":{"start":{"line":20,"column":10},"end":{"line":20,"column":28}},"15":{"start":{"line":21,"column":10},"end":{"line":21,"column":28}},"16":{"start":{"line":22,"column":10},"end":{"line":25,"column":13}},"17":{"start":{"line":27,"column":10},"end":{"line":27,"column":34}},"18":{"start":{"line":28,"column":10},"end":{"line":32,"column":14}},"19":{"start":{"line":34,"column":10},"end":{"line":34,"column":28}},"20":{"start":{"line":35,"column":10},"end":{"line":35,"column":45}},"21":{"start":{"line":36,"column":10},"end":{"line":36,"column":78}},"22":{"start":{"line":39,"column":10},"end":{"line":39,"column":33}},"23":{"start":{"line":43,"column":2},"end":{"line":45,"column":4}},"24":{"start":{"line":44,"column":4},"end":{"line":44,"column":39}},"25":{"start":{"line":47,"column":31},"end":{"line":81,"column":3}},"26":{"start":{"line":48,"column":14},"end":{"line":77,"column":5}},"27":{"start":{"line":50,"column":4},"end":{"line":76,"column":33}},"28":{"start":{"line":51,"column":6},"end":{"line":75,"column":7}},"29":{"start":{"line":51,"column":16},"end":{"line":75,"column":7}},"30":{"start":{"line":53,"column":10},"end":{"line":53,"column":29}},"31":{"start":{"line":54,"column":10},"end":{"line":54,"column":29}},"32":{"start":{"line":55,"column":10},"end":{"line":55,"column":40}},"33":{"start":{"line":57,"column":10},"end":{"line":57,"column":33}},"34":{"start":{"line":58,"column":10},"end":{"line":62,"column":13}},"35":{"start":{"line":63,"column":10},"end":{"line":63,"column":30}},"36":{"start":{"line":64,"column":10},"end":{"line":64,"column":16}},"37":{"start":{"line":66,"column":10},"end":{"line":66,"column":29}},"38":{"start":{"line":67,"column":10},"end":{"line":67,"column":47}},"39":{"start":{"line":68,"column":10},"end":{"line":71,"column":13}},"40":{"start":{"line":74,"column":10},"end":{"line":74,"column":34}},"41":{"start":{"line":78,"column":2},"end":{"line":80,"column":4}},"42":{"start":{"line":79,"column":4},"end":{"line":79,"column":40}},"43":{"start":{"line":82,"column":30},"end":{"line":127,"column":3}},"44":{"start":{"line":83,"column":14},"end":{"line":123,"column":5}},"45":{"start":{"line":85,"column":4},"end":{"line":122,"column":33}},"46":{"start":{"line":86,"column":6},"end":{"line":121,"column":7}},"47":{"start":{"line":86,"column":16},"end":{"line":121,"column":7}},"48":{"start":{"line":88,"column":10},"end":{"line":88,"column":29}},"49":{"start":{"line":89,"column":10},"end":{"line":89,"column":29}},"50":{"start":{"line":90,"column":10},"end":{"line":90,"column":29}},"51":{"start":{"line":91,"column":10},"end":{"line":95,"column":13}},"52":{"start":{"line":97,"column":10},"end":{"line":97,"column":33}},"53":{"start":{"line":98,"column":10},"end":{"line":108,"column":11}},"54":{"start":{"line":99,"column":12},"end":{"line":102,"column":15}},"55":{"start":{"line":104,"column":12},"end":{"line":107,"column":15}},"56":{"start":{"line":109,"column":10},"end":{"line":109,"column":30}},"57":{"start":{"line":110,"column":10},"end":{"line":110,"column":16}},"58":{"start":{"line":112,"column":10},"end":{"line":112,"column":29}},"59":{"start":{"line":113,"column":10},"end":{"line":113,"column":47}},"60":{"start":{"line":114,"column":10},"end":{"line":117,"column":13}},"61":{"start":{"line":120,"column":10},"end":{"line":120,"column":34}},"62":{"start":{"line":124,"column":2},"end":{"line":126,"column":4}},"63":{"start":{"line":125,"column":4},"end":{"line":125,"column":40}},"64":{"start":{"line":128,"column":33},"end":{"line":185,"column":3}},"65":{"start":{"line":129,"column":14},"end":{"line":181,"column":5}},"66":{"start":{"line":131,"column":4},"end":{"line":180,"column":34}},"67":{"start":{"line":132,"column":6},"end":{"line":179,"column":7}},"68":{"start":{"line":132,"column":16},"end":{"line":179,"column":7}},"69":{"start":{"line":134,"column":10},"end":{"line":134,"column":29}},"70":{"start":{"line":135,"column":10},"end":{"line":135,"column":29}},"71":{"start":{"line":136,"column":10},"end":{"line":140,"column":13}},"72":{"start":{"line":142,"column":10},"end":{"line":142,"column":33}},"73":{"start":{"line":143,"column":10},"end":{"line":143,"column":29}},"74":{"start":{"line":144,"column":10},"end":{"line":147,"column":11}},"75":{"start":{"line":145,"column":12},"end":{"line":145,"column":32}},"76":{"start":{"line":146,"column":12},"end":{"line":146,"column":18}},"77":{"start":{"line":148,"column":10},"end":{"line":148,"column":29}},"78":{"start":{"line":149,"column":10},"end":{"line":153,"column":13}},"79":{"start":{"line":155,"column":10},"end":{"line":158,"column":13}},"80":{"start":{"line":159,"column":10},"end":{"line":159,"column":30}},"81":{"start":{"line":160,"column":10},"end":{"line":160,"column":16}},"82":{"start":{"line":162,"column":10},"end":{"line":165,"column":13}},"83":{"start":{"line":167,"column":10},"end":{"line":167,"column":30}},"84":{"start":{"line":168,"column":10},"end":{"line":168,"column":16}},"85":{"start":{"line":170,"column":10},"end":{"line":170,"column":30}},"86":{"start":{"line":171,"column":10},"end":{"line":171,"column":47}},"87":{"start":{"line":172,"column":10},"end":{"line":175,"column":13}},"88":{"start":{"line":178,"column":10},"end":{"line":178,"column":34}},"89":{"start":{"line":182,"column":2},"end":{"line":184,"column":4}},"90":{"start":{"line":183,"column":4},"end":{"line":183,"column":40}},"91":{"start":{"line":186,"column":33},"end":{"line":243,"column":3}},"92":{"start":{"line":187,"column":14},"end":{"line":239,"column":5}},"93":{"start":{"line":189,"column":4},"end":{"line":238,"column":34}},"94":{"start":{"line":190,"column":6},"end":{"line":237,"column":7}},"95":{"start":{"line":190,"column":16},"end":{"line":237,"column":7}},"96":{"start":{"line":192,"column":10},"end":{"line":192,"column":29}},"97":{"start":{"line":193,"column":10},"end":{"line":193,"column":29}},"98":{"start":{"line":194,"column":10},"end":{"line":198,"column":13}},"99":{"start":{"line":200,"column":10},"end":{"line":200,"column":33}},"100":{"start":{"line":201,"column":10},"end":{"line":201,"column":102}},"101":{"start":{"line":202,"column":10},"end":{"line":202,"column":29}},"102":{"start":{"line":203,"column":10},"end":{"line":206,"column":11}},"103":{"start":{"line":204,"column":12},"end":{"line":204,"column":31}},"104":{"start":{"line":205,"column":12},"end":{"line":205,"column":18}},"105":{"start":{"line":207,"column":10},"end":{"line":210,"column":14}},"106":{"start":{"line":212,"column":10},"end":{"line":212,"column":30}},"107":{"start":{"line":213,"column":10},"end":{"line":220,"column":13}},"108":{"start":{"line":222,"column":10},"end":{"line":226,"column":14}},"109":{"start":{"line":228,"column":10},"end":{"line":228,"column":30}},"110":{"start":{"line":229,"column":10},"end":{"line":229,"column":47}},"111":{"start":{"line":230,"column":10},"end":{"line":233,"column":14}},"112":{"start":{"line":236,"column":10},"end":{"line":236,"column":34}},"113":{"start":{"line":240,"column":2},"end":{"line":242,"column":4}},"114":{"start":{"line":241,"column":4},"end":{"line":241,"column":40}},"115":{"start":{"line":244,"column":27},"end":{"line":285,"column":3}},"116":{"start":{"line":245,"column":14},"end":{"line":281,"column":5}},"117":{"start":{"line":247,"column":4},"end":{"line":280,"column":34}},"118":{"start":{"line":248,"column":6},"end":{"line":279,"column":7}},"119":{"start":{"line":248,"column":16},"end":{"line":279,"column":7}},"120":{"start":{"line":250,"column":10},"end":{"line":253,"column":12}},"121":{"start":{"line":254,"column":10},"end":{"line":257,"column":11}},"122":{"start":{"line":255,"column":12},"end":{"line":255,"column":31}},"123":{"start":{"line":256,"column":12},"end":{"line":256,"column":18}},"124":{"start":{"line":258,"column":10},"end":{"line":258,"column":102}},"125":{"start":{"line":260,"column":10},"end":{"line":260,"column":29}},"126":{"start":{"line":261,"column":10},"end":{"line":261,"column":29}},"127":{"start":{"line":262,"column":10},"end":{"line":262,"column":51}},"128":{"start":{"line":264,"column":10},"end":{"line":264,"column":37}},"129":{"start":{"line":265,"column":10},"end":{"line":269,"column":14}},"130":{"start":{"line":271,"column":10},"end":{"line":271,"column":30}},"131":{"start":{"line":272,"column":10},"end":{"line":272,"column":47}},"132":{"start":{"line":273,"column":10},"end":{"line":275,"column":14}},"133":{"start":{"line":278,"column":10},"end":{"line":278,"column":34}},"134":{"start":{"line":282,"column":2},"end":{"line":284,"column":4}},"135":{"start":{"line":283,"column":4},"end":{"line":283,"column":40}},"136":{"start":{"line":286,"column":34},"end":{"line":320,"column":3}},"137":{"start":{"line":287,"column":14},"end":{"line":316,"column":5}},"138":{"start":{"line":289,"column":4},"end":{"line":315,"column":33}},"139":{"start":{"line":290,"column":6},"end":{"line":314,"column":7}},"140":{"start":{"line":290,"column":16},"end":{"line":314,"column":7}},"141":{"start":{"line":292,"column":10},"end":{"line":292,"column":29}},"142":{"start":{"line":293,"column":10},"end":{"line":293,"column":29}},"143":{"start":{"line":294,"column":10},"end":{"line":294,"column":44}},"144":{"start":{"line":296,"column":10},"end":{"line":296,"column":40}},"145":{"start":{"line":297,"column":10},"end":{"line":301,"column":13}},"146":{"start":{"line":302,"column":10},"end":{"line":302,"column":30}},"147":{"start":{"line":303,"column":10},"end":{"line":303,"column":16}},"148":{"start":{"line":305,"column":10},"end":{"line":305,"column":29}},"149":{"start":{"line":306,"column":10},"end":{"line":306,"column":47}},"150":{"start":{"line":307,"column":10},"end":{"line":310,"column":13}},"151":{"start":{"line":313,"column":10},"end":{"line":313,"column":34}},"152":{"start":{"line":317,"column":2},"end":{"line":319,"column":4}},"153":{"start":{"line":318,"column":4},"end":{"line":318,"column":40}},"154":{"start":{"line":321,"column":32},"end":{"line":366,"column":3}},"155":{"start":{"line":322,"column":14},"end":{"line":362,"column":5}},"156":{"start":{"line":324,"column":4},"end":{"line":361,"column":33}},"157":{"start":{"line":325,"column":6},"end":{"line":360,"column":7}},"158":{"start":{"line":325,"column":16},"end":{"line":360,"column":7}},"159":{"start":{"line":327,"column":10},"end":{"line":327,"column":29}},"160":{"start":{"line":328,"column":10},"end":{"line":328,"column":29}},"161":{"start":{"line":329,"column":10},"end":{"line":329,"column":29}},"162":{"start":{"line":330,"column":10},"end":{"line":334,"column":13}},"163":{"start":{"line":336,"column":10},"end":{"line":336,"column":40}},"164":{"start":{"line":337,"column":10},"end":{"line":348,"column":11}},"165":{"start":{"line":338,"column":12},"end":{"line":342,"column":15}},"166":{"start":{"line":344,"column":12},"end":{"line":347,"column":15}},"167":{"start":{"line":349,"column":10},"end":{"line":349,"column":30}},"168":{"start":{"line":350,"column":10},"end":{"line":350,"column":16}},"169":{"start":{"line":352,"column":10},"end":{"line":352,"column":29}},"170":{"start":{"line":353,"column":10},"end":{"line":353,"column":47}},"171":{"start":{"line":354,"column":10},"end":{"line":356,"column":14}},"172":{"start":{"line":359,"column":10},"end":{"line":359,"column":34}},"173":{"start":{"line":363,"column":2},"end":{"line":365,"column":4}},"174":{"start":{"line":364,"column":4},"end":{"line":364,"column":40}},"175":{"start":{"line":367,"column":38},"end":{"line":424,"column":3}},"176":{"start":{"line":368,"column":14},"end":{"line":420,"column":5}},"177":{"start":{"line":370,"column":4},"end":{"line":419,"column":34}},"178":{"start":{"line":371,"column":6},"end":{"line":418,"column":7}},"179":{"start":{"line":371,"column":16},"end":{"line":418,"column":7}},"180":{"start":{"line":373,"column":10},"end":{"line":373,"column":29}},"181":{"start":{"line":374,"column":10},"end":{"line":374,"column":29}},"182":{"start":{"line":375,"column":10},"end":{"line":379,"column":13}},"183":{"start":{"line":381,"column":10},"end":{"line":381,"column":40}},"184":{"start":{"line":382,"column":10},"end":{"line":382,"column":88}},"185":{"start":{"line":383,"column":10},"end":{"line":383,"column":29}},"186":{"start":{"line":384,"column":10},"end":{"line":387,"column":11}},"187":{"start":{"line":385,"column":12},"end":{"line":385,"column":31}},"188":{"start":{"line":386,"column":12},"end":{"line":386,"column":18}},"189":{"start":{"line":388,"column":10},"end":{"line":391,"column":14}},"190":{"start":{"line":393,"column":10},"end":{"line":393,"column":30}},"191":{"start":{"line":394,"column":10},"end":{"line":401,"column":13}},"192":{"start":{"line":403,"column":10},"end":{"line":407,"column":14}},"193":{"start":{"line":409,"column":10},"end":{"line":409,"column":30}},"194":{"start":{"line":410,"column":10},"end":{"line":410,"column":47}},"195":{"start":{"line":411,"column":10},"end":{"line":414,"column":14}},"196":{"start":{"line":417,"column":10},"end":{"line":417,"column":34}},"197":{"start":{"line":421,"column":2},"end":{"line":423,"column":4}},"198":{"start":{"line":422,"column":4},"end":{"line":422,"column":40}},"199":{"start":{"line":425,"column":38},"end":{"line":482,"column":3}},"200":{"start":{"line":426,"column":15},"end":{"line":478,"column":5}},"201":{"start":{"line":428,"column":4},"end":{"line":477,"column":35}},"202":{"start":{"line":429,"column":6},"end":{"line":476,"column":7}},"203":{"start":{"line":429,"column":16},"end":{"line":476,"column":7}},"204":{"start":{"line":431,"column":10},"end":{"line":431,"column":29}},"205":{"start":{"line":432,"column":10},"end":{"line":432,"column":30}},"206":{"start":{"line":433,"column":10},"end":{"line":437,"column":13}},"207":{"start":{"line":439,"column":10},"end":{"line":439,"column":41}},"208":{"start":{"line":440,"column":10},"end":{"line":440,"column":30}},"209":{"start":{"line":441,"column":10},"end":{"line":444,"column":11}},"210":{"start":{"line":442,"column":12},"end":{"line":442,"column":33}},"211":{"start":{"line":443,"column":12},"end":{"line":443,"column":18}},"212":{"start":{"line":445,"column":10},"end":{"line":445,"column":30}},"213":{"start":{"line":446,"column":10},"end":{"line":450,"column":13}},"214":{"start":{"line":452,"column":10},"end":{"line":455,"column":13}},"215":{"start":{"line":456,"column":10},"end":{"line":456,"column":31}},"216":{"start":{"line":457,"column":10},"end":{"line":457,"column":16}},"217":{"start":{"line":459,"column":10},"end":{"line":462,"column":13}},"218":{"start":{"line":464,"column":10},"end":{"line":464,"column":31}},"219":{"start":{"line":465,"column":10},"end":{"line":465,"column":16}},"220":{"start":{"line":467,"column":10},"end":{"line":467,"column":31}},"221":{"start":{"line":468,"column":10},"end":{"line":468,"column":49}},"222":{"start":{"line":469,"column":10},"end":{"line":472,"column":13}},"223":{"start":{"line":475,"column":10},"end":{"line":475,"column":35}},"224":{"start":{"line":479,"column":2},"end":{"line":481,"column":4}},"225":{"start":{"line":480,"column":4},"end":{"line":480,"column":41}},"226":{"start":{"line":483,"column":15},"end":{"line":494,"column":1}},"227":{"start":{"line":495,"column":0},"end":{"line":495,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":33},"end":{"line":13,"column":34}},"loc":{"start":{"line":13,"column":45},"end":{"line":46,"column":1}},"line":13},"1":{"name":"_callee","decl":{"start":{"line":14,"column":100},"end":{"line":14,"column":107}},"loc":{"start":{"line":14,"column":118},"end":{"line":42,"column":3}},"line":14},"2":{"name":"_callee$","decl":{"start":{"line":16,"column":49},"end":{"line":16,"column":57}},"loc":{"start":{"line":16,"column":68},"end":{"line":41,"column":5}},"line":16},"3":{"name":"createNewRole","decl":{"start":{"line":43,"column":18},"end":{"line":43,"column":31}},"loc":{"start":{"line":43,"column":41},"end":{"line":45,"column":3}},"line":43},"4":{"name":"(anonymous_4)","decl":{"start":{"line":47,"column":31},"end":{"line":47,"column":32}},"loc":{"start":{"line":47,"column":43},"end":{"line":81,"column":1}},"line":47},"5":{"name":"_callee2","decl":{"start":{"line":48,"column":101},"end":{"line":48,"column":109}},"loc":{"start":{"line":48,"column":120},"end":{"line":77,"column":3}},"line":48},"6":{"name":"_callee2$","decl":{"start":{"line":50,"column":49},"end":{"line":50,"column":58}},"loc":{"start":{"line":50,"column":70},"end":{"line":76,"column":5}},"line":50},"7":{"name":"getAllRoles","decl":{"start":{"line":78,"column":18},"end":{"line":78,"column":29}},"loc":{"start":{"line":78,"column":40},"end":{"line":80,"column":3}},"line":78},"8":{"name":"(anonymous_8)","decl":{"start":{"line":82,"column":30},"end":{"line":82,"column":31}},"loc":{"start":{"line":82,"column":42},"end":{"line":127,"column":1}},"line":82},"9":{"name":"_callee3","decl":{"start":{"line":83,"column":101},"end":{"line":83,"column":109}},"loc":{"start":{"line":83,"column":120},"end":{"line":123,"column":3}},"line":83},"10":{"name":"_callee3$","decl":{"start":{"line":85,"column":49},"end":{"line":85,"column":58}},"loc":{"start":{"line":85,"column":70},"end":{"line":122,"column":5}},"line":85},"11":{"name":"getOneRole","decl":{"start":{"line":124,"column":18},"end":{"line":124,"column":28}},"loc":{"start":{"line":124,"column":39},"end":{"line":126,"column":3}},"line":124},"12":{"name":"(anonymous_12)","decl":{"start":{"line":128,"column":33},"end":{"line":128,"column":34}},"loc":{"start":{"line":128,"column":45},"end":{"line":185,"column":1}},"line":128},"13":{"name":"_callee4","decl":{"start":{"line":129,"column":101},"end":{"line":129,"column":109}},"loc":{"start":{"line":129,"column":120},"end":{"line":181,"column":3}},"line":129},"14":{"name":"_callee4$","decl":{"start":{"line":131,"column":49},"end":{"line":131,"column":58}},"loc":{"start":{"line":131,"column":70},"end":{"line":180,"column":5}},"line":131},"15":{"name":"deleteOneRole","decl":{"start":{"line":182,"column":18},"end":{"line":182,"column":31}},"loc":{"start":{"line":182,"column":42},"end":{"line":184,"column":3}},"line":182},"16":{"name":"(anonymous_16)","decl":{"start":{"line":186,"column":33},"end":{"line":186,"column":34}},"loc":{"start":{"line":186,"column":45},"end":{"line":243,"column":1}},"line":186},"17":{"name":"_callee5","decl":{"start":{"line":187,"column":101},"end":{"line":187,"column":109}},"loc":{"start":{"line":187,"column":120},"end":{"line":239,"column":3}},"line":187},"18":{"name":"_callee5$","decl":{"start":{"line":189,"column":49},"end":{"line":189,"column":58}},"loc":{"start":{"line":189,"column":70},"end":{"line":238,"column":5}},"line":189},"19":{"name":"updateOneRole","decl":{"start":{"line":240,"column":18},"end":{"line":240,"column":31}},"loc":{"start":{"line":240,"column":43},"end":{"line":242,"column":3}},"line":240},"20":{"name":"(anonymous_20)","decl":{"start":{"line":244,"column":27},"end":{"line":244,"column":28}},"loc":{"start":{"line":244,"column":39},"end":{"line":285,"column":1}},"line":244},"21":{"name":"_callee6","decl":{"start":{"line":245,"column":101},"end":{"line":245,"column":109}},"loc":{"start":{"line":245,"column":120},"end":{"line":281,"column":3}},"line":245},"22":{"name":"_callee6$","decl":{"start":{"line":247,"column":49},"end":{"line":247,"column":58}},"loc":{"start":{"line":247,"column":70},"end":{"line":280,"column":5}},"line":247},"23":{"name":"setRole","decl":{"start":{"line":282,"column":18},"end":{"line":282,"column":25}},"loc":{"start":{"line":282,"column":38},"end":{"line":284,"column":3}},"line":282},"24":{"name":"(anonymous_24)","decl":{"start":{"line":286,"column":34},"end":{"line":286,"column":35}},"loc":{"start":{"line":286,"column":46},"end":{"line":320,"column":1}},"line":286},"25":{"name":"_callee7","decl":{"start":{"line":287,"column":101},"end":{"line":287,"column":109}},"loc":{"start":{"line":287,"column":120},"end":{"line":316,"column":3}},"line":287},"26":{"name":"_callee7$","decl":{"start":{"line":289,"column":49},"end":{"line":289,"column":58}},"loc":{"start":{"line":289,"column":70},"end":{"line":315,"column":5}},"line":289},"27":{"name":"usersWithRoles","decl":{"start":{"line":317,"column":18},"end":{"line":317,"column":32}},"loc":{"start":{"line":317,"column":45},"end":{"line":319,"column":3}},"line":317},"28":{"name":"(anonymous_28)","decl":{"start":{"line":321,"column":32},"end":{"line":321,"column":33}},"loc":{"start":{"line":321,"column":44},"end":{"line":366,"column":1}},"line":321},"29":{"name":"_callee8","decl":{"start":{"line":322,"column":101},"end":{"line":322,"column":109}},"loc":{"start":{"line":322,"column":120},"end":{"line":362,"column":3}},"line":322},"30":{"name":"_callee8$","decl":{"start":{"line":324,"column":49},"end":{"line":324,"column":58}},"loc":{"start":{"line":324,"column":70},"end":{"line":361,"column":5}},"line":324},"31":{"name":"userWithRole","decl":{"start":{"line":363,"column":18},"end":{"line":363,"column":30}},"loc":{"start":{"line":363,"column":43},"end":{"line":365,"column":3}},"line":363},"32":{"name":"(anonymous_32)","decl":{"start":{"line":367,"column":38},"end":{"line":367,"column":39}},"loc":{"start":{"line":367,"column":50},"end":{"line":424,"column":1}},"line":367},"33":{"name":"_callee9","decl":{"start":{"line":368,"column":101},"end":{"line":368,"column":109}},"loc":{"start":{"line":368,"column":120},"end":{"line":420,"column":3}},"line":368},"34":{"name":"_callee9$","decl":{"start":{"line":370,"column":49},"end":{"line":370,"column":58}},"loc":{"start":{"line":370,"column":70},"end":{"line":419,"column":5}},"line":370},"35":{"name":"updateUserWithRole","decl":{"start":{"line":421,"column":18},"end":{"line":421,"column":36}},"loc":{"start":{"line":421,"column":49},"end":{"line":423,"column":3}},"line":421},"36":{"name":"(anonymous_36)","decl":{"start":{"line":425,"column":38},"end":{"line":425,"column":39}},"loc":{"start":{"line":425,"column":50},"end":{"line":482,"column":1}},"line":425},"37":{"name":"_callee10","decl":{"start":{"line":426,"column":102},"end":{"line":426,"column":111}},"loc":{"start":{"line":426,"column":122},"end":{"line":478,"column":3}},"line":426},"38":{"name":"_callee10$","decl":{"start":{"line":428,"column":49},"end":{"line":428,"column":59}},"loc":{"start":{"line":428,"column":72},"end":{"line":477,"column":5}},"line":428},"39":{"name":"deleteUserWithRole","decl":{"start":{"line":479,"column":18},"end":{"line":479,"column":36}},"loc":{"start":{"line":479,"column":49},"end":{"line":481,"column":3}},"line":479}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":16},"end":{"line":40,"column":7}},"type":"switch","locations":[{"start":{"line":18,"column":8},"end":{"line":25,"column":13}},{"start":{"line":26,"column":8},"end":{"line":32,"column":14}},{"start":{"line":33,"column":8},"end":{"line":36,"column":78}},{"start":{"line":37,"column":8},"end":{"line":37,"column":16}},{"start":{"line":38,"column":8},"end":{"line":39,"column":33}}],"line":17},"1":{"loc":{"start":{"line":51,"column":16},"end":{"line":75,"column":7}},"type":"switch","locations":[{"start":{"line":52,"column":8},"end":{"line":55,"column":40}},{"start":{"line":56,"column":8},"end":{"line":64,"column":16}},{"start":{"line":65,"column":8},"end":{"line":71,"column":13}},{"start":{"line":72,"column":8},"end":{"line":72,"column":16}},{"start":{"line":73,"column":8},"end":{"line":74,"column":34}}],"line":51},"2":{"loc":{"start":{"line":86,"column":16},"end":{"line":121,"column":7}},"type":"switch","locations":[{"start":{"line":87,"column":8},"end":{"line":95,"column":13}},{"start":{"line":96,"column":8},"end":{"line":110,"column":16}},{"start":{"line":111,"column":8},"end":{"line":117,"column":13}},{"start":{"line":118,"column":8},"end":{"line":118,"column":16}},{"start":{"line":119,"column":8},"end":{"line":120,"column":34}}],"line":86},"3":{"loc":{"start":{"line":98,"column":10},"end":{"line":108,"column":11}},"type":"if","locations":[{"start":{"line":98,"column":10},"end":{"line":108,"column":11}},{"start":{"line":98,"column":10},"end":{"line":108,"column":11}}],"line":98},"4":{"loc":{"start":{"line":132,"column":16},"end":{"line":179,"column":7}},"type":"switch","locations":[{"start":{"line":133,"column":8},"end":{"line":140,"column":13}},{"start":{"line":141,"column":8},"end":{"line":153,"column":13}},{"start":{"line":154,"column":8},"end":{"line":160,"column":16}},{"start":{"line":161,"column":8},"end":{"line":165,"column":13}},{"start":{"line":166,"column":8},"end":{"line":168,"column":16}},{"start":{"line":169,"column":8},"end":{"line":175,"column":13}},{"start":{"line":176,"column":8},"end":{"line":176,"column":16}},{"start":{"line":177,"column":8},"end":{"line":178,"column":34}}],"line":132},"5":{"loc":{"start":{"line":144,"column":10},"end":{"line":147,"column":11}},"type":"if","locations":[{"start":{"line":144,"column":10},"end":{"line":147,"column":11}},{"start":{"line":144,"column":10},"end":{"line":147,"column":11}}],"line":144},"6":{"loc":{"start":{"line":190,"column":16},"end":{"line":237,"column":7}},"type":"switch","locations":[{"start":{"line":191,"column":8},"end":{"line":198,"column":13}},{"start":{"line":199,"column":8},"end":{"line":210,"column":14}},{"start":{"line":211,"column":8},"end":{"line":220,"column":13}},{"start":{"line":221,"column":8},"end":{"line":226,"column":14}},{"start":{"line":227,"column":8},"end":{"line":233,"column":14}},{"start":{"line":234,"column":8},"end":{"line":234,"column":16}},{"start":{"line":235,"column":8},"end":{"line":236,"column":34}}],"line":190},"7":{"loc":{"start":{"line":203,"column":10},"end":{"line":206,"column":11}},"type":"if","locations":[{"start":{"line":203,"column":10},"end":{"line":206,"column":11}},{"start":{"line":203,"column":10},"end":{"line":206,"column":11}}],"line":203},"8":{"loc":{"start":{"line":248,"column":16},"end":{"line":279,"column":7}},"type":"switch","locations":[{"start":{"line":249,"column":8},"end":{"line":258,"column":102}},{"start":{"line":259,"column":8},"end":{"line":262,"column":51}},{"start":{"line":263,"column":8},"end":{"line":269,"column":14}},{"start":{"line":270,"column":8},"end":{"line":275,"column":14}},{"start":{"line":276,"column":8},"end":{"line":276,"column":16}},{"start":{"line":277,"column":8},"end":{"line":278,"column":34}}],"line":248},"9":{"loc":{"start":{"line":254,"column":10},"end":{"line":257,"column":11}},"type":"if","locations":[{"start":{"line":254,"column":10},"end":{"line":257,"column":11}},{"start":{"line":254,"column":10},"end":{"line":257,"column":11}}],"line":254},"10":{"loc":{"start":{"line":290,"column":16},"end":{"line":314,"column":7}},"type":"switch","locations":[{"start":{"line":291,"column":8},"end":{"line":294,"column":44}},{"start":{"line":295,"column":8},"end":{"line":303,"column":16}},{"start":{"line":304,"column":8},"end":{"line":310,"column":13}},{"start":{"line":311,"column":8},"end":{"line":311,"column":16}},{"start":{"line":312,"column":8},"end":{"line":313,"column":34}}],"line":290},"11":{"loc":{"start":{"line":325,"column":16},"end":{"line":360,"column":7}},"type":"switch","locations":[{"start":{"line":326,"column":8},"end":{"line":334,"column":13}},{"start":{"line":335,"column":8},"end":{"line":350,"column":16}},{"start":{"line":351,"column":8},"end":{"line":356,"column":14}},{"start":{"line":357,"column":8},"end":{"line":357,"column":16}},{"start":{"line":358,"column":8},"end":{"line":359,"column":34}}],"line":325},"12":{"loc":{"start":{"line":337,"column":10},"end":{"line":348,"column":11}},"type":"if","locations":[{"start":{"line":337,"column":10},"end":{"line":348,"column":11}},{"start":{"line":337,"column":10},"end":{"line":348,"column":11}}],"line":337},"13":{"loc":{"start":{"line":371,"column":16},"end":{"line":418,"column":7}},"type":"switch","locations":[{"start":{"line":372,"column":8},"end":{"line":379,"column":13}},{"start":{"line":380,"column":8},"end":{"line":391,"column":14}},{"start":{"line":392,"column":8},"end":{"line":401,"column":13}},{"start":{"line":402,"column":8},"end":{"line":407,"column":14}},{"start":{"line":408,"column":8},"end":{"line":414,"column":14}},{"start":{"line":415,"column":8},"end":{"line":415,"column":16}},{"start":{"line":416,"column":8},"end":{"line":417,"column":34}}],"line":371},"14":{"loc":{"start":{"line":384,"column":10},"end":{"line":387,"column":11}},"type":"if","locations":[{"start":{"line":384,"column":10},"end":{"line":387,"column":11}},{"start":{"line":384,"column":10},"end":{"line":387,"column":11}}],"line":384},"15":{"loc":{"start":{"line":429,"column":16},"end":{"line":476,"column":7}},"type":"switch","locations":[{"start":{"line":430,"column":8},"end":{"line":437,"column":13}},{"start":{"line":438,"column":8},"end":{"line":450,"column":13}},{"start":{"line":451,"column":8},"end":{"line":457,"column":16}},{"start":{"line":458,"column":8},"end":{"line":462,"column":13}},{"start":{"line":463,"column":8},"end":{"line":465,"column":16}},{"start":{"line":466,"column":8},"end":{"line":472,"column":13}},{"start":{"line":473,"column":8},"end":{"line":473,"column":16}},{"start":{"line":474,"column":8},"end":{"line":475,"column":35}}],"line":429},"16":{"loc":{"start":{"line":441,"column":10},"end":{"line":444,"column":11}},"type":"if","locations":[{"start":{"line":441,"column":10},"end":{"line":444,"column":11}},{"start":{"line":441,"column":10},"end":{"line":444,"column":11}}],"line":441}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":1,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":1,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":1,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":1,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0,"136":1,"137":1,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":1,"153":0,"154":1,"155":1,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":1,"174":0,"175":1,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":1,"198":0,"199":1,"200":1,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":1,"225":0,"226":1,"227":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0},"b":{"0":[0,0,0,0,0],"1":[0,0,0,0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0,0,0,0,0,0,0],"5":[0,0],"6":[0,0,0,0,0,0,0],"7":[0,0],"8":[0,0,0,0,0,0],"9":[0,0],"10":[0,0,0,0,0],"11":[0,0,0,0,0],"12":[0,0],"13":[0,0,0,0,0,0,0],"14":[0,0],"15":[0,0,0,0,0,0,0,0],"16":[0,0]},"inputSourceMap":{"version":3,"names":["_dotenv","require","_models","config","createNewRole","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","roleName","description","newRole","wrap","_callee$","_context","prev","next","body","role","create","sent","abrupt","status","json","statusCode","message","t","data","t0","stop","_x","_x2","apply","arguments","getAllRoles","_ref2","_callee2","roles","_callee2$","_context2","findAll","_x3","_x4","getOneRole","_ref3","_callee3","id","_callee3$","_context3","params","findOne","where","Message","_x5","_x6","deleteOneRole","_ref4","_callee4","_callee4$","_context4","destroy","_x7","_x8","updateOneRole","_ref5","_callee5","_req$body2","_callee5$","_context5","update","_x9","_x10","setRole","_ref6","_callee6","roleData","userRoles","_callee6$","_context6","userId","roleId","send","concat","userRole","response","error","_x11","_x12","usersWithRoles","_ref7","_callee7","userWithrole","_callee7$","_context7","_x13","_x14","userWithRole","_ref8","_callee8","UserWithRole","_callee8$","_context8","_x15","_x16","updateUserWithRole","_ref9","_callee9","_req$body3","_callee9$","_context9","_x17","_x18","deleteUserWithRole","_ref10","_callee10","_callee10$","_context10","_x19","_x20","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/","sources":["roleController.js"],"sourcesContent":["import { config } from 'dotenv';\nimport { role, userRole } from '../database/models';\n\nconfig();\n\nconst createNewRole = async (req, res) => {\n  const { roleName, description } = req.body;\n  try {\n    const newRole = await role.create({ roleName, description });\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('role_create_message'),\n      data: newRole,\n    });\n  } catch (err) {\n    return res.status(500).json(err);\n  }\n};\n\nconst getAllRoles = async (req, res) => {\n  try {\n    const roles = await role.findAll();\n    res.status(200).json({\n      statusCode: 202,\n      message: req.t('role_fetch_message'),\n      data: roles,\n    });\n  } catch (error) {\n    res.status(400).json({ statusCode: 400, data: error });\n  }\n};\n\nconst getOneRole = async (req, res) => {\n  const { id } = req.params;\n  try {\n    const roles = await role.findOne({\n      where: { id },\n    });\n    if (roles) {\n      res.status(200).json({\n        message: req.t('role_fetch_message'),\n        data: roles,\n      });\n    } else {\n      res.status(404).json({\n        statusCode: 404,\n        Message: req.t('role_unexist_message'),\n      });\n    }\n  } catch (error) {\n    res.status(400).json({ statusCode: 400, data: error });\n  }\n};\n\nconst deleteOneRole = async (req, res) => {\n  const { id } = req.params;\n  const roles = await role.findOne({\n    where: { id },\n  });\n  try {\n    if (roles) {\n      await role.destroy({\n        where: {\n          id,\n        },\n      });\n      res.status(200).json({\n        statusCode: 200,\n        message: req.t('role_delete_message'),\n      });\n    } else {\n      res.status(404).json({\n        statusCode: 404,\n        Message: req.t('role_unexist_message'),\n      });\n    }\n  } catch (error) {\n    res.status(400).json({\n      statusCode: 400,\n      data: error,\n    });\n  }\n};\n\nconst updateOneRole = async (req, res) => {\n  const { id } = req.params;\n  const roles = await role.findOne({\n    where: { id },\n  });\n  const { roleName, description } = req.body;\n  try {\n    if (!roles) {\n      return res.status(404).json({\n        statusCode: 404,\n        message: req.t('role_unexist_message'),\n      });\n    }\n    await role.update(\n      { roleName, description },\n      {\n        where: { id },\n      },\n    );\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('role_update_message'),\n      data: roles,\n    });\n  } catch (error) {\n    return res.status(500).json({\n      statusCode: 400,\n      message: req.t('server_error_message'),\n    });\n  }\n};\n\nconst setRole = async (req, res) => {\n  const roleData = {\n    userId: req.body.userId,\n    roleId: req.body.roleId,\n  };\n  if (!userId) {\n    return res.status(404).send(`${userId} is not found`);\n  }\n  try {\n    const userRoles = await userRole.create(roleData);\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('set_role_message'),\n      response: userRoles,\n    });\n  } catch (error) {\n    return res.status(500).json({ error: error.message });\n  }\n};\nconst usersWithRoles = async (req, res) => {\n  try {\n    const userWithrole = await userRole.findAll();\n    res.status(200).json({\n      statusCode: 200,\n      Message: req.t('fetched_message'),\n      data: userWithrole,\n    });\n  } catch (error) {\n    res.status(400).json({\n      statusCode: 400,\n      data: error,\n    });\n  }\n};\nconst userWithRole = async (req, res) => {\n  const { id } = req.params;\n  try {\n    const UserWithRole = await userRole.findOne({\n      where: { id },\n    });\n    if (UserWithRole) {\n      res.status(200).json({\n        statusCode: 200,\n        Message: req.t('fetched_message'),\n        data: UserWithRole,\n      });\n    } else {\n      res.status(404).json({\n        statusCode: 404,\n        Message: req.t('id_unexist_message'),\n      });\n    }\n  } catch (error) {\n    return res.status(500).json({ error: error.message });\n  }\n};\nconst updateUserWithRole = async (req, res) => {\n  const { id } = req.params;\n  const UserWithRole = await userRole.findOne({\n    where: { id },\n  });\n  const { userId, roleId } = req.body;\n  try {\n    if (!UserWithRole) {\n      return res.status(404).json({\n        statusCode: 404,\n        Message: req.t('id_unexist_message'),\n      });\n    }\n    await userRole.update(\n      { userId, roleId },\n      {\n        where: { id },\n      },\n    );\n    return res.status(201).json({\n      statusCode: 201,\n      message: req.t('update_message'),\n      data: UserWithRole,\n    });\n  } catch (error) {\n    return res.status(500).json({\n      statusCode: 500,\n      message: req.t('server_error_message'),\n    });\n  }\n};\n\nconst deleteUserWithRole = async (req, res) => {\n  const { id } = req.params;\n  const UserWithRole = await userRole.findOne({\n    where: { id },\n  });\n  try {\n    if (UserWithRole) {\n      await userRole.destroy({\n        where: {\n          id,\n        },\n      });\n      res.status(200).json({\n        statusCode: 200,\n        message: req.t('delete_message'),\n      });\n    } else {\n      res.status(404).json({\n        statusCode: 404,\n        Message: req.t('id_unexist_message'),\n      });\n    }\n  } catch (error) {\n    res.status(400).json({ statusCode: 400, data: error });\n  }\n};\n\nexport default {\n  createNewRole,\n  getAllRoles,\n  getOneRole,\n  deleteOneRole,\n  updateOneRole,\n  setRole,\n  usersWithRoles,\n  userWithRole,\n  updateUserWithRole,\n  deleteUserWithRole,\n};\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"76de86bc37ab1fb266793686b687cfd7895fc6b0","contentHash":"2d7d045ebf3d387b1835826b11f4de1f222a31403ca0057283771cb4368a5134"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/userController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/userController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":24}},"7":{"start":{"line":12,"column":19},"end":{"line":12,"column":80}},"8":{"start":{"line":13,"column":25},"end":{"line":13,"column":99}},"9":{"start":{"line":14,"column":17},"end":{"line":14,"column":61}},"10":{"start":{"line":15,"column":14},"end":{"line":15,"column":55}},"11":{"start":{"line":16,"column":14},"end":{"line":16,"column":55}},"12":{"start":{"line":17,"column":20},"end":{"line":17,"column":67}},"13":{"start":{"line":18,"column":18},"end":{"line":18,"column":63}},"14":{"start":{"line":19,"column":14},"end":{"line":19,"column":43}},"15":{"start":{"line":20,"column":13},"end":{"line":20,"column":62}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":28}},"17":{"start":{"line":24,"column":18},"end":{"line":33,"column":2}},"18":{"start":{"line":35,"column":2},"end":{"line":35,"column":43}},"19":{"start":{"line":38,"column":2},"end":{"line":99,"column":6}},"20":{"start":{"line":40,"column":4},"end":{"line":98,"column":16}},"21":{"start":{"line":41,"column":6},"end":{"line":97,"column":7}},"22":{"start":{"line":41,"column":16},"end":{"line":97,"column":7}},"23":{"start":{"line":43,"column":10},"end":{"line":43,"column":87}},"24":{"start":{"line":44,"column":10},"end":{"line":47,"column":11}},"25":{"start":{"line":45,"column":12},"end":{"line":45,"column":30}},"26":{"start":{"line":46,"column":12},"end":{"line":46,"column":18}},"27":{"start":{"line":48,"column":10},"end":{"line":51,"column":14}},"28":{"start":{"line":53,"column":10},"end":{"line":53,"column":28}},"29":{"start":{"line":54,"column":10},"end":{"line":58,"column":13}},"30":{"start":{"line":60,"column":10},"end":{"line":60,"column":31}},"31":{"start":{"line":61,"column":10},"end":{"line":64,"column":11}},"32":{"start":{"line":62,"column":12},"end":{"line":62,"column":30}},"33":{"start":{"line":63,"column":12},"end":{"line":63,"column":18}},"34":{"start":{"line":65,"column":10},"end":{"line":68,"column":14}},"35":{"start":{"line":70,"column":10},"end":{"line":73,"column":11}},"36":{"start":{"line":71,"column":12},"end":{"line":71,"column":31}},"37":{"start":{"line":72,"column":12},"end":{"line":72,"column":18}},"38":{"start":{"line":74,"column":10},"end":{"line":81,"column":13}},"39":{"start":{"line":82,"column":10},"end":{"line":82,"column":42}},"40":{"start":{"line":83,"column":10},"end":{"line":88,"column":14}},"41":{"start":{"line":90,"column":10},"end":{"line":93,"column":14}},"42":{"start":{"line":96,"column":10},"end":{"line":96,"column":33}},"43":{"start":{"line":100,"column":2},"end":{"line":100,"column":43}},"44":{"start":{"line":103,"column":2},"end":{"line":103,"column":44}},"45":{"start":{"line":106,"column":2},"end":{"line":164,"column":6}},"46":{"start":{"line":108,"column":4},"end":{"line":163,"column":34}},"47":{"start":{"line":109,"column":6},"end":{"line":162,"column":7}},"48":{"start":{"line":109,"column":16},"end":{"line":162,"column":7}},"49":{"start":{"line":111,"column":10},"end":{"line":111,"column":378}},"50":{"start":{"line":112,"column":10},"end":{"line":112,"column":29}},"51":{"start":{"line":113,"column":10},"end":{"line":117,"column":13}},"52":{"start":{"line":119,"column":10},"end":{"line":119,"column":39}},"53":{"start":{"line":120,"column":10},"end":{"line":123,"column":11}},"54":{"start":{"line":121,"column":12},"end":{"line":121,"column":31}},"55":{"start":{"line":122,"column":12},"end":{"line":122,"column":18}},"56":{"start":{"line":124,"column":10},"end":{"line":127,"column":14}},"57":{"start":{"line":129,"column":10},"end":{"line":129,"column":29}},"58":{"start":{"line":130,"column":10},"end":{"line":130,"column":29}},"59":{"start":{"line":131,"column":10},"end":{"line":142,"column":13}},"60":{"start":{"line":144,"column":10},"end":{"line":144,"column":35}},"61":{"start":{"line":145,"column":10},"end":{"line":145,"column":45}},"62":{"start":{"line":146,"column":10},"end":{"line":150,"column":14}},"63":{"start":{"line":152,"column":10},"end":{"line":152,"column":30}},"64":{"start":{"line":153,"column":10},"end":{"line":153,"column":47}},"65":{"start":{"line":154,"column":10},"end":{"line":158,"column":14}},"66":{"start":{"line":161,"column":10},"end":{"line":161,"column":34}},"67":{"start":{"line":165,"column":2},"end":{"line":165,"column":44}},"68":{"start":{"line":168,"column":2},"end":{"line":168,"column":41}},"69":{"start":{"line":171,"column":2},"end":{"line":243,"column":6}},"70":{"start":{"line":173,"column":4},"end":{"line":242,"column":17}},"71":{"start":{"line":174,"column":6},"end":{"line":241,"column":7}},"72":{"start":{"line":174,"column":16},"end":{"line":241,"column":7}},"73":{"start":{"line":176,"column":10},"end":{"line":176,"column":74}},"74":{"start":{"line":177,"column":10},"end":{"line":177,"column":29}},"75":{"start":{"line":178,"column":10},"end":{"line":182,"column":13}},"76":{"start":{"line":184,"column":10},"end":{"line":184,"column":32}},"77":{"start":{"line":185,"column":10},"end":{"line":188,"column":11}},"78":{"start":{"line":186,"column":12},"end":{"line":186,"column":31}},"79":{"start":{"line":187,"column":12},"end":{"line":187,"column":18}},"80":{"start":{"line":189,"column":10},"end":{"line":192,"column":14}},"81":{"start":{"line":195,"column":10},"end":{"line":197,"column":52}},"82":{"start":{"line":198,"column":10},"end":{"line":203,"column":13}},"83":{"start":{"line":204,"column":10},"end":{"line":204,"column":30}},"84":{"start":{"line":205,"column":10},"end":{"line":205,"column":48}},"85":{"start":{"line":207,"column":10},"end":{"line":207,"column":32}},"86":{"start":{"line":208,"column":10},"end":{"line":208,"column":30}},"87":{"start":{"line":209,"column":10},"end":{"line":209,"column":54}},"88":{"start":{"line":211,"column":10},"end":{"line":211,"column":37}},"89":{"start":{"line":213,"column":10},"end":{"line":218,"column":12}},"90":{"start":{"line":220,"column":10},"end":{"line":228,"column":13}},"91":{"start":{"line":221,"column":12},"end":{"line":227,"column":13}},"92":{"start":{"line":222,"column":14},"end":{"line":226,"column":17}},"93":{"start":{"line":229,"column":10},"end":{"line":229,"column":65}},"94":{"start":{"line":230,"column":10},"end":{"line":230,"column":42}},"95":{"start":{"line":231,"column":10},"end":{"line":231,"column":45}},"96":{"start":{"line":232,"column":10},"end":{"line":237,"column":13}},"97":{"start":{"line":240,"column":10},"end":{"line":240,"column":34}},"98":{"start":{"line":244,"column":2},"end":{"line":244,"column":41}},"99":{"start":{"line":247,"column":2},"end":{"line":247,"column":40}},"100":{"start":{"line":250,"column":2},"end":{"line":325,"column":6}},"101":{"start":{"line":252,"column":4},"end":{"line":324,"column":17}},"102":{"start":{"line":253,"column":6},"end":{"line":323,"column":7}},"103":{"start":{"line":253,"column":16},"end":{"line":323,"column":7}},"104":{"start":{"line":255,"column":10},"end":{"line":255,"column":29}},"105":{"start":{"line":256,"column":10},"end":{"line":259,"column":11}},"106":{"start":{"line":257,"column":12},"end":{"line":257,"column":31}},"107":{"start":{"line":258,"column":12},"end":{"line":258,"column":18}},"108":{"start":{"line":260,"column":10},"end":{"line":263,"column":14}},"109":{"start":{"line":265,"column":10},"end":{"line":268,"column":11}},"110":{"start":{"line":266,"column":12},"end":{"line":266,"column":32}},"111":{"start":{"line":267,"column":12},"end":{"line":267,"column":18}},"112":{"start":{"line":269,"column":10},"end":{"line":269,"column":61}},"113":{"start":{"line":270,"column":10},"end":{"line":270,"column":26}},"114":{"start":{"line":271,"column":10},"end":{"line":276,"column":11}},"115":{"start":{"line":272,"column":12},"end":{"line":272,"column":46}},"116":{"start":{"line":273,"column":12},"end":{"line":273,"column":34}},"117":{"start":{"line":274,"column":12},"end":{"line":274,"column":55}},"118":{"start":{"line":275,"column":12},"end":{"line":275,"column":36}},"119":{"start":{"line":277,"column":10},"end":{"line":277,"column":42}},"120":{"start":{"line":278,"column":10},"end":{"line":278,"column":74}},"121":{"start":{"line":279,"column":10},"end":{"line":279,"column":30}},"122":{"start":{"line":280,"column":10},"end":{"line":280,"column":30}},"123":{"start":{"line":281,"column":10},"end":{"line":281,"column":64}},"124":{"start":{"line":283,"column":10},"end":{"line":283,"column":35}},"125":{"start":{"line":284,"column":10},"end":{"line":287,"column":11}},"126":{"start":{"line":285,"column":12},"end":{"line":285,"column":32}},"127":{"start":{"line":286,"column":12},"end":{"line":286,"column":18}},"128":{"start":{"line":288,"column":10},"end":{"line":288,"column":37}},"129":{"start":{"line":289,"column":10},"end":{"line":289,"column":74}},"130":{"start":{"line":290,"column":10},"end":{"line":290,"column":30}},"131":{"start":{"line":291,"column":10},"end":{"line":295,"column":13}},"132":{"start":{"line":297,"column":10},"end":{"line":297,"column":32}},"133":{"start":{"line":298,"column":10},"end":{"line":305,"column":13}},"134":{"start":{"line":306,"column":10},"end":{"line":306,"column":42}},"135":{"start":{"line":307,"column":10},"end":{"line":312,"column":13}},"136":{"start":{"line":313,"column":10},"end":{"line":313,"column":30}},"137":{"start":{"line":314,"column":10},"end":{"line":314,"column":16}},"138":{"start":{"line":316,"column":10},"end":{"line":319,"column":14}},"139":{"start":{"line":322,"column":10},"end":{"line":322,"column":34}},"140":{"start":{"line":326,"column":2},"end":{"line":326,"column":40}},"141":{"start":{"line":329,"column":2},"end":{"line":329,"column":44}},"142":{"start":{"line":332,"column":2},"end":{"line":387,"column":6}},"143":{"start":{"line":334,"column":4},"end":{"line":386,"column":34}},"144":{"start":{"line":335,"column":6},"end":{"line":385,"column":7}},"145":{"start":{"line":335,"column":16},"end":{"line":385,"column":7}},"146":{"start":{"line":337,"column":10},"end":{"line":337,"column":33}},"147":{"start":{"line":338,"column":10},"end":{"line":341,"column":11}},"148":{"start":{"line":339,"column":12},"end":{"line":339,"column":31}},"149":{"start":{"line":340,"column":12},"end":{"line":340,"column":18}},"150":{"start":{"line":342,"column":10},"end":{"line":345,"column":14}},"151":{"start":{"line":347,"column":10},"end":{"line":347,"column":29}},"152":{"start":{"line":348,"column":10},"end":{"line":352,"column":13}},"153":{"start":{"line":354,"column":10},"end":{"line":354,"column":32}},"154":{"start":{"line":355,"column":10},"end":{"line":358,"column":11}},"155":{"start":{"line":356,"column":12},"end":{"line":356,"column":31}},"156":{"start":{"line":357,"column":12},"end":{"line":357,"column":18}},"157":{"start":{"line":359,"column":10},"end":{"line":362,"column":14}},"158":{"start":{"line":364,"column":10},"end":{"line":364,"column":29}},"159":{"start":{"line":365,"column":10},"end":{"line":365,"column":30}},"160":{"start":{"line":366,"column":10},"end":{"line":366,"column":32}},"161":{"start":{"line":368,"column":10},"end":{"line":368,"column":42}},"162":{"start":{"line":369,"column":10},"end":{"line":373,"column":14}},"163":{"start":{"line":375,"column":10},"end":{"line":375,"column":30}},"164":{"start":{"line":376,"column":10},"end":{"line":376,"column":47}},"165":{"start":{"line":377,"column":10},"end":{"line":381,"column":14}},"166":{"start":{"line":384,"column":10},"end":{"line":384,"column":34}},"167":{"start":{"line":388,"column":2},"end":{"line":388,"column":44}}},"fnMap":{"0":{"name":"loginUser","decl":{"start":{"line":34,"column":9},"end":{"line":34,"column":18}},"loc":{"start":{"line":34,"column":28},"end":{"line":36,"column":1}},"line":34},"1":{"name":"_loginUser","decl":{"start":{"line":37,"column":9},"end":{"line":37,"column":19}},"loc":{"start":{"line":37,"column":22},"end":{"line":101,"column":1}},"line":37},"2":{"name":"_callee","decl":{"start":{"line":38,"column":102},"end":{"line":38,"column":109}},"loc":{"start":{"line":38,"column":120},"end":{"line":99,"column":3}},"line":38},"3":{"name":"_callee$","decl":{"start":{"line":40,"column":49},"end":{"line":40,"column":57}},"loc":{"start":{"line":40,"column":68},"end":{"line":98,"column":5}},"line":40},"4":{"name":"createUser","decl":{"start":{"line":102,"column":9},"end":{"line":102,"column":19}},"loc":{"start":{"line":102,"column":30},"end":{"line":104,"column":1}},"line":102},"5":{"name":"_createUser","decl":{"start":{"line":105,"column":9},"end":{"line":105,"column":20}},"loc":{"start":{"line":105,"column":23},"end":{"line":166,"column":1}},"line":105},"6":{"name":"_callee2","decl":{"start":{"line":106,"column":103},"end":{"line":106,"column":111}},"loc":{"start":{"line":106,"column":122},"end":{"line":164,"column":3}},"line":106},"7":{"name":"_callee2$","decl":{"start":{"line":108,"column":49},"end":{"line":108,"column":58}},"loc":{"start":{"line":108,"column":70},"end":{"line":163,"column":5}},"line":108},"8":{"name":"sendOtp","decl":{"start":{"line":167,"column":9},"end":{"line":167,"column":16}},"loc":{"start":{"line":167,"column":27},"end":{"line":169,"column":1}},"line":167},"9":{"name":"_sendOtp","decl":{"start":{"line":170,"column":9},"end":{"line":170,"column":17}},"loc":{"start":{"line":170,"column":20},"end":{"line":245,"column":1}},"line":170},"10":{"name":"_callee3","decl":{"start":{"line":171,"column":100},"end":{"line":171,"column":108}},"loc":{"start":{"line":171,"column":119},"end":{"line":243,"column":3}},"line":171},"11":{"name":"_callee3$","decl":{"start":{"line":173,"column":49},"end":{"line":173,"column":58}},"loc":{"start":{"line":173,"column":70},"end":{"line":242,"column":5}},"line":173},"12":{"name":"(anonymous_12)","decl":{"start":{"line":220,"column":44},"end":{"line":220,"column":45}},"loc":{"start":{"line":220,"column":67},"end":{"line":228,"column":11}},"line":220},"13":{"name":"verify","decl":{"start":{"line":246,"column":9},"end":{"line":246,"column":15}},"loc":{"start":{"line":246,"column":26},"end":{"line":248,"column":1}},"line":246},"14":{"name":"_verify","decl":{"start":{"line":249,"column":9},"end":{"line":249,"column":16}},"loc":{"start":{"line":249,"column":19},"end":{"line":327,"column":1}},"line":249},"15":{"name":"_callee4","decl":{"start":{"line":250,"column":99},"end":{"line":250,"column":107}},"loc":{"start":{"line":250,"column":118},"end":{"line":325,"column":3}},"line":250},"16":{"name":"_callee4$","decl":{"start":{"line":252,"column":49},"end":{"line":252,"column":58}},"loc":{"start":{"line":252,"column":70},"end":{"line":324,"column":5}},"line":252},"17":{"name":"deleteUser","decl":{"start":{"line":328,"column":9},"end":{"line":328,"column":19}},"loc":{"start":{"line":328,"column":31},"end":{"line":330,"column":1}},"line":328},"18":{"name":"_deleteUser","decl":{"start":{"line":331,"column":9},"end":{"line":331,"column":20}},"loc":{"start":{"line":331,"column":23},"end":{"line":389,"column":1}},"line":331},"19":{"name":"_callee5","decl":{"start":{"line":332,"column":103},"end":{"line":332,"column":111}},"loc":{"start":{"line":332,"column":122},"end":{"line":387,"column":3}},"line":332},"20":{"name":"_callee5$","decl":{"start":{"line":334,"column":49},"end":{"line":334,"column":58}},"loc":{"start":{"line":334,"column":70},"end":{"line":386,"column":5}},"line":334}},"branchMap":{"0":{"loc":{"start":{"line":41,"column":16},"end":{"line":97,"column":7}},"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":51,"column":14}},{"start":{"line":52,"column":8},"end":{"line":58,"column":13}},{"start":{"line":59,"column":8},"end":{"line":68,"column":14}},{"start":{"line":69,"column":8},"end":{"line":88,"column":14}},{"start":{"line":89,"column":8},"end":{"line":93,"column":14}},{"start":{"line":94,"column":8},"end":{"line":94,"column":16}},{"start":{"line":95,"column":8},"end":{"line":96,"column":33}}],"line":41},"1":{"loc":{"start":{"line":44,"column":10},"end":{"line":47,"column":11}},"type":"if","locations":[{"start":{"line":44,"column":10},"end":{"line":47,"column":11}},{"start":{"line":44,"column":10},"end":{"line":47,"column":11}}],"line":44},"2":{"loc":{"start":{"line":44,"column":16},"end":{"line":44,"column":35}},"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":22}},{"start":{"line":44,"column":26},"end":{"line":44,"column":35}}],"line":44},"3":{"loc":{"start":{"line":61,"column":10},"end":{"line":64,"column":11}},"type":"if","locations":[{"start":{"line":61,"column":10},"end":{"line":64,"column":11}},{"start":{"line":61,"column":10},"end":{"line":64,"column":11}}],"line":61},"4":{"loc":{"start":{"line":70,"column":10},"end":{"line":73,"column":11}},"type":"if","locations":[{"start":{"line":70,"column":10},"end":{"line":73,"column":11}},{"start":{"line":70,"column":10},"end":{"line":73,"column":11}}],"line":70},"5":{"loc":{"start":{"line":109,"column":16},"end":{"line":162,"column":7}},"type":"switch","locations":[{"start":{"line":110,"column":8},"end":{"line":117,"column":13}},{"start":{"line":118,"column":8},"end":{"line":127,"column":14}},{"start":{"line":128,"column":8},"end":{"line":142,"column":13}},{"start":{"line":143,"column":8},"end":{"line":150,"column":14}},{"start":{"line":151,"column":8},"end":{"line":158,"column":14}},{"start":{"line":159,"column":8},"end":{"line":159,"column":16}},{"start":{"line":160,"column":8},"end":{"line":161,"column":34}}],"line":109},"6":{"loc":{"start":{"line":120,"column":10},"end":{"line":123,"column":11}},"type":"if","locations":[{"start":{"line":120,"column":10},"end":{"line":123,"column":11}},{"start":{"line":120,"column":10},"end":{"line":123,"column":11}}],"line":120},"7":{"loc":{"start":{"line":174,"column":16},"end":{"line":241,"column":7}},"type":"switch","locations":[{"start":{"line":175,"column":8},"end":{"line":182,"column":13}},{"start":{"line":183,"column":8},"end":{"line":192,"column":14}},{"start":{"line":193,"column":8},"end":{"line":205,"column":48}},{"start":{"line":206,"column":8},"end":{"line":209,"column":54}},{"start":{"line":210,"column":8},"end":{"line":237,"column":13}},{"start":{"line":238,"column":8},"end":{"line":238,"column":16}},{"start":{"line":239,"column":8},"end":{"line":240,"column":34}}],"line":174},"8":{"loc":{"start":{"line":185,"column":10},"end":{"line":188,"column":11}},"type":"if","locations":[{"start":{"line":185,"column":10},"end":{"line":188,"column":11}},{"start":{"line":185,"column":10},"end":{"line":188,"column":11}}],"line":185},"9":{"loc":{"start":{"line":221,"column":12},"end":{"line":227,"column":13}},"type":"if","locations":[{"start":{"line":221,"column":12},"end":{"line":227,"column":13}},{"start":{"line":221,"column":12},"end":{"line":227,"column":13}}],"line":221},"10":{"loc":{"start":{"line":253,"column":16},"end":{"line":323,"column":7}},"type":"switch","locations":[{"start":{"line":254,"column":8},"end":{"line":263,"column":14}},{"start":{"line":264,"column":8},"end":{"line":281,"column":64}},{"start":{"line":282,"column":8},"end":{"line":295,"column":13}},{"start":{"line":296,"column":8},"end":{"line":314,"column":16}},{"start":{"line":315,"column":8},"end":{"line":319,"column":14}},{"start":{"line":320,"column":8},"end":{"line":320,"column":16}},{"start":{"line":321,"column":8},"end":{"line":322,"column":34}}],"line":253},"11":{"loc":{"start":{"line":256,"column":10},"end":{"line":259,"column":11}},"type":"if","locations":[{"start":{"line":256,"column":10},"end":{"line":259,"column":11}},{"start":{"line":256,"column":10},"end":{"line":259,"column":11}}],"line":256},"12":{"loc":{"start":{"line":265,"column":10},"end":{"line":268,"column":11}},"type":"if","locations":[{"start":{"line":265,"column":10},"end":{"line":268,"column":11}},{"start":{"line":265,"column":10},"end":{"line":268,"column":11}}],"line":265},"13":{"loc":{"start":{"line":284,"column":10},"end":{"line":287,"column":11}},"type":"if","locations":[{"start":{"line":284,"column":10},"end":{"line":287,"column":11}},{"start":{"line":284,"column":10},"end":{"line":287,"column":11}}],"line":284},"14":{"loc":{"start":{"line":335,"column":16},"end":{"line":385,"column":7}},"type":"switch","locations":[{"start":{"line":336,"column":8},"end":{"line":345,"column":14}},{"start":{"line":346,"column":8},"end":{"line":352,"column":13}},{"start":{"line":353,"column":8},"end":{"line":362,"column":14}},{"start":{"line":363,"column":8},"end":{"line":366,"column":32}},{"start":{"line":367,"column":8},"end":{"line":373,"column":14}},{"start":{"line":374,"column":8},"end":{"line":381,"column":14}},{"start":{"line":382,"column":8},"end":{"line":382,"column":16}},{"start":{"line":383,"column":8},"end":{"line":384,"column":34}}],"line":335},"15":{"loc":{"start":{"line":338,"column":10},"end":{"line":341,"column":11}},"type":"if","locations":[{"start":{"line":338,"column":10},"end":{"line":341,"column":11}},{"start":{"line":338,"column":10},"end":{"line":341,"column":11}}],"line":338},"16":{"loc":{"start":{"line":355,"column":10},"end":{"line":358,"column":11}},"type":"if","locations":[{"start":{"line":355,"column":10},"end":{"line":358,"column":11}},{"start":{"line":355,"column":10},"end":{"line":358,"column":11}}],"line":355}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":2,"19":1,"20":2,"21":6,"22":10,"23":2,"24":2,"25":2,"26":2,"27":0,"28":2,"29":2,"30":2,"31":2,"32":2,"33":2,"34":0,"35":2,"36":0,"37":0,"38":2,"39":2,"40":2,"41":0,"42":2,"43":1,"44":1,"45":1,"46":1,"47":4,"48":5,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":0,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":0,"64":0,"65":0,"66":1,"67":1,"68":1,"69":1,"70":1,"71":4,"72":5,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":0,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":0,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":1,"143":1,"144":4,"145":6,"146":1,"147":1,"148":1,"149":1,"150":0,"151":1,"152":1,"153":1,"154":1,"155":1,"156":1,"157":0,"158":1,"159":1,"160":1,"161":1,"162":1,"163":0,"164":0,"165":0,"166":1,"167":1},"f":{"0":2,"1":1,"2":2,"3":6,"4":1,"5":1,"6":1,"7":4,"8":1,"9":1,"10":1,"11":4,"12":1,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":1,"20":4},"b":{"0":[2,2,2,2,0,0,2],"1":[2,0],"2":[2,2],"3":[2,0],"4":[0,2],"5":[1,1,1,1,0,0,1],"6":[1,0],"7":[1,1,1,1,1,1,1],"8":[1,0],"9":[0,1],"10":[0,0,0,0,0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[1,1,1,1,1,0,0,1],"15":[1,0],"16":[1,0]},"inputSourceMap":{"version":3,"names":["_speakeasy","_interopRequireDefault","require","_dotenv","_bcrypt","_jsonwebtoken","_nodemailer","_models","_token","dotenv","config","transporter","nodemailer","createTransport","host","port","secure","auth","user","process","env","EMAIL_ADDRESS","pass","EMAIL_PASSWORD","loginUser","_x","_x2","_loginUser","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$body","email","password","User","accessToken","wrap","_callee$","_context","prev","next","body","abrupt","status","json","message","t","findOne","where","sent","jwt","sign","id","name","roleId","ACCESS_TOKEN_SECRET","expiresIn","dataValues","data","token","stop","createUser","_x3","_x4","_createUser","_callee2","_req$body2","phone","gender","birthdate","preferred_language","preferred_currency","billingAddress","emailExists","newUser","_callee2$","_context2","create","t0","Error","sendOtp","_x5","_x6","_sendOtp","_callee3","userDetails","_speakeasy$generateSe","secret","salt","hashedOTP","mailOptions","encodedOTP","_callee3$","_context3","decodeJWT","headers","authorization","speakeasy","generateSecret","length","base32","totp","encoding","time","Math","floor","Date","now","step","Bcrypt","genSalt","hash","from","to","subject","text","concat","sendMail","error","info","Buffer","toString","cookie","verify","_x7","_x8","_verify","_callee4","otp","Cookiearray","cookiesObj","i","parts","key","value","decodedOTP","newOtp","isMatch","_callee4$","_context4","trim","split","replace","loginOTP","compare","deleteUser","_x9","_x10","_deleteUser","_callee5","_callee5$","_context5","destroy"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/","sources":["userController.js"],"sourcesContent":["import speakeasy from 'speakeasy';\nimport dotenv from 'dotenv';\nimport Bcrypt from 'bcrypt';\nimport jwt from 'jsonwebtoken';\nimport nodemailer from 'nodemailer';\nimport { user } from '../database/models';\nimport decodeJWT from '../utils/token';\n\ndotenv.config();\n\n// create a transporter object\nconst transporter = nodemailer.createTransport({\n  host: 'smtp.gmail.com',\n  port: 587,\n  secure: false, // use SSL/TLS\n  auth: {\n    user: process.env.EMAIL_ADDRESS,\n    pass: process.env.EMAIL_PASSWORD,\n  },\n});\nexport async function loginUser(req, res) {\n  const { email, password } = req.body;\n  if (!email || !password) {\n    return res.status(400).json({\n      status: 400,\n      message: req.t('not_enough_credentials_for_login'),\n    });\n  }\n\n  const User = await user.findOne({\n    where: {\n      email,\n    },\n  });\n\n  if (!User) {\n    return res.status(401).json({\n      status: 401,\n      message: req.t('user_not_found'),\n    });\n  }\n\n  if (User.password === password) {\n    const accessToken = jwt.sign(\n      {\n        id: User.id,\n        email: User.email,\n        name: User.name,\n        roleId: User.roleId,\n      },\n      process.env.ACCESS_TOKEN_SECRET,\n      { expiresIn: '1d' },\n    );\n\n    delete User.dataValues.password;\n    return res.status(200).json({\n      status: 200,\n      message: req.t('successful_login'),\n      data: User,\n      token: accessToken,\n    });\n  }\n\n  return res.status(401).json({\n    status: 401,\n    message: req.t('incorrect_password'),\n  });\n}\n\nexport async function createUser(req, res) {\n  const {\n    name,\n    email,\n    password,\n    phone,\n    roleId,\n    gender,\n    birthdate,\n    preferred_language,\n    preferred_currency,\n    billingAddress,\n  } = req.body;\n\n  const emailExists = await user.findOne({\n    where: {\n      email,\n    },\n  });\n\n  if (emailExists) {\n    return res.status(409).json({\n      status: 400,\n      message: req.t('account_exists'),\n    });\n  }\n\n  try {\n    const newUser = await user.create({\n      name,\n      email,\n      gender,\n      phone,\n      birthdate,\n      preferred_language,\n      preferred_currency,\n      billingAddress,\n      roleId,\n      password,\n    });\n\n    delete newUser.dataValues.password;\n\n    return res.status(201).json({\n      status: 201,\n      message: req.t('signup-success'),\n      data: newUser,\n    });\n  } catch (err) {\n    return res.status(500).json({\n      status: 500,\n      message: req.t('server_error'),\n      Error: err.message,\n    });\n  }\n}\n\nexport async function sendOtp(req, res) {\n  const userDetails = decodeJWT(req.headers.authorization);\n  // const { id } = req.body;\n  const User = await user.findOne({\n    where: {\n      id: userDetails.id,\n    },\n  });\n\n  if (!User) {\n    return res.status(401).json({\n      status: 401,\n      message: req.t('user_not_found'),\n    });\n  }\n\n  // Generate a secret key for the user\n  const { base32: secret } = speakeasy.generateSecret({ length: 20 });\n\n  // Generate an OTP for the user\n  const token = speakeasy.totp({\n    secret,\n    encoding: 'base32',\n    time: Math.floor(Date.now() / 1000 / 90),\n    step: 90,\n  });\n  const salt = await Bcrypt.genSalt(10);\n  const hashedOTP = await Bcrypt.hash(token, salt);\n  // define email options\n  const mailOptions = {\n    from: process.env.EMAIL_ADDRESS,\n    to: userDetails.email,\n    subject: 'Cogito ecommerce app otp',\n    text: `Your OTP is ${token}`,\n  };\n\n  // send the email\n  // eslint-disable-next-line no-unused-vars\n  transporter.sendMail(mailOptions, (error, info) => {\n    if (error) {\n      return res.status(500).json({\n        status: 500,\n        message: req.t('email_not_sent'),\n        Error: error,\n      });\n    }\n  });\n\n  const encodedOTP = Buffer.from(hashedOTP).toString('base64');\n\n  delete User.dataValues.password;\n  res.cookie('loginOTP', encodedOTP);\n  res.status(200).json({\n    status: 200,\n    message: req.t('otp_sent'),\n    data: User,\n    cookie: encodedOTP,\n  });\n}\n\nexport async function verify(req, res) {\n  const { otp } = req.body;\n  if (!otp) {\n    return res.status(400).json({\n      status: 400,\n      message: req.t('enter_otp'),\n    });\n  }\n  if (req.headers.cookie) {\n    const Cookiearray = req.headers.cookie.trim().split(';');\n    const cookiesObj = {};\n    for (let i = 0; i < Cookiearray.length; i++) {\n      const parts = Cookiearray[i].split('=');\n      const key = parts[0].trim(); // Trim the key\n      const value = parts[1].trim().replace(/=/g, ':');\n      cookiesObj[key] = value;\n    }\n    const hashedOTP = cookiesObj.loginOTP;\n    // compare incoming OTP with OTP sent in a cookie\n    const decodedOTP = Buffer.from(hashedOTP, 'base64').toString('utf-8');\n    const newOtp = otp.trim();\n    const isMatch = await Bcrypt.compare(newOtp, decodedOTP);\n    if (isMatch) {\n      res.cookie('loginOTP', '');\n\n      const userDetails = decodeJWT(req.headers.authorization);\n      const User = await user.findOne({\n        where: { id: userDetails.id },\n      });\n\n      const accessToken = jwt.sign(\n        {\n          id: userDetails.id,\n          email: userDetails.email,\n          name: userDetails.name,\n          roleId: userDetails.roleId,\n        },\n        process.env.ACCESS_TOKEN_SECRET,\n        { expiresIn: '1d' },\n      );\n\n      delete User.dataValues.password;\n\n      res.status(200).json({\n        status: 200,\n        message: req.t('otp_verified'),\n        data: User,\n        token: accessToken,\n      });\n    } else {\n      return res.status(401).json({\n        status: 401,\n        message: req.t('otp_invalid'),\n      });\n    }\n  }\n}\n\nexport async function deleteUser(req, res) {\n  const { email } = req.body;\n  if (!email) {\n    return res.status(400).json({\n      status: 400,\n      message: req.t('provide_user_email_to_delete'),\n    });\n  }\n  const User = await user.findOne({\n    where: { email },\n  });\n\n  if (!User) {\n    return res.status(401).json({\n      status: 401,\n      message: req.t('user_not_found'),\n    });\n  }\n\n  try {\n    await User.destroy();\n\n    delete User.dataValues.password;\n\n    return res.status(200).json({\n      status: 200,\n      message: req.t('user_deleted'),\n      data: User,\n    });\n  } catch (err) {\n    return res.status(500).json({\n      status: 500,\n      message: req.t('server_error'),\n      Error: err.message,\n    });\n  }\n}\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"581ccfcf21c69cbabf5a37546e31b824c8a56559","contentHash":"fd0515f9d6a2a624f2419d819561779f52f0dc705fa3c5f6c8f54f2e5dd771d8"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/token.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/token.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":8,"column":18},"end":{"line":8,"column":37}},"3":{"start":{"line":9,"column":15},"end":{"line":9,"column":62}},"4":{"start":{"line":10,"column":16},"end":{"line":10,"column":40}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":17}}},"fnMap":{"0":{"name":"decodeJWT","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":18}},"loc":{"start":{"line":7,"column":26},"end":{"line":12,"column":1}},"line":7}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{"0":1},"b":{},"inputSourceMap":{"version":3,"names":["decodeJWT","token","base64Url","split","base64","replace","payload","JSON","parse","atob"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/utils/","sources":["token.js"],"sourcesContent":["export default function decodeJWT(token) {\n  const base64Url = token.split('.')[1];\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\n  const payload = JSON.parse(atob(base64));\n  return payload;\n}\n"],"mappings":";;;;;;AAAe,SAASA,SAASA,CAACC,KAAK,EAAE;EACvC,IAAMC,SAAS,GAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACrC,IAAMC,MAAM,GAAGF,SAAS,CAACG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC;EAC9D,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACL,MAAM,CAAC,CAAC;EACxC,OAAOE,OAAO;AAChB"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1734aacad2d3522f8548b4926e5814a09ad94d62","contentHash":"35327308087bc39b6d204c6d62ee894ca1d3b44a873d6c2f602059728c316e2f"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/API/user.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/API/user.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":22},"end":{"line":9,"column":65}},"5":{"start":{"line":10,"column":17},"end":{"line":10,"column":78}},"6":{"start":{"line":11,"column":18},"end":{"line":11,"column":46}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":58}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":54}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":75}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":76}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":65}},"12":{"start":{"line":17,"column":15},"end":{"line":17,"column":26}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_userController","_verifyJWT","usersRouter","express","Router","post","createUser","loginUser","verifVendorJWT","verify","get","sendOtp","deleteUser","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/API/","sources":["user.js"],"sourcesContent":["import express from 'express';\nimport {\n  createUser,\n  verify,\n  sendOtp,\n  loginUser,\n  deleteUser,\n} from '../../controllers/userController';\nimport verifVendorJWT from '../../middleware/verifyJWT';\n\nconst usersRouter = express.Router();\nusersRouter.post('/register', createUser);\nusersRouter.post('/login', loginUser);\nusersRouter.post('/verify', verifVendorJWT, verify);\nusersRouter.get('/sendOtp', verifVendorJWT, sendOtp);\nusersRouter.delete('/deleteUser', deleteUser);\n\nexport default usersRouter;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAD,OAAA;AAOA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAMG,WAAW,GAAGC,mBAAO,CAACC,MAAM,EAAE;AACpCF,WAAW,CAACG,IAAI,CAAC,WAAW,EAAEC,0BAAU,CAAC;AACzCJ,WAAW,CAACG,IAAI,CAAC,QAAQ,EAAEE,yBAAS,CAAC;AACrCL,WAAW,CAACG,IAAI,CAAC,SAAS,EAAEG,qBAAc,EAAEC,sBAAM,CAAC;AACnDP,WAAW,CAACQ,GAAG,CAAC,UAAU,EAAEF,qBAAc,EAAEG,uBAAO,CAAC;AACpDT,WAAW,UAAO,CAAC,aAAa,EAAEU,0BAAU,CAAC;AAAC,IAAAC,QAAA,GAE/BX,WAAW;AAAAY,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"326c741db6ed61519697f62d28d27a01014d0d25","contentHash":"f32f90931dc6ba053e7db9dd883771e1b12f9c192d2fdfa5ce88b2b9d4f4896a"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/verifyJWT.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/verifyJWT.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":36}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"6":{"start":{"line":11,"column":14},"end":{"line":11,"column":55}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}},"8":{"start":{"line":16,"column":2},"end":{"line":16,"column":48}},"9":{"start":{"line":19,"column":2},"end":{"line":55,"column":6}},"10":{"start":{"line":21,"column":4},"end":{"line":54,"column":16}},"11":{"start":{"line":22,"column":6},"end":{"line":53,"column":7}},"12":{"start":{"line":22,"column":16},"end":{"line":53,"column":7}},"13":{"start":{"line":24,"column":10},"end":{"line":24,"column":49}},"14":{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},"15":{"start":{"line":26,"column":12},"end":{"line":26,"column":30}},"16":{"start":{"line":27,"column":12},"end":{"line":27,"column":18}},"17":{"start":{"line":29,"column":10},"end":{"line":31,"column":14}},"18":{"start":{"line":33,"column":10},"end":{"line":33,"column":28}},"19":{"start":{"line":34,"column":10},"end":{"line":34,"column":42}},"20":{"start":{"line":36,"column":10},"end":{"line":36,"column":32}},"21":{"start":{"line":37,"column":10},"end":{"line":49,"column":13}},"22":{"start":{"line":38,"column":12},"end":{"line":42,"column":13}},"23":{"start":{"line":39,"column":14},"end":{"line":41,"column":17}},"24":{"start":{"line":43,"column":12},"end":{"line":43,"column":38}},"25":{"start":{"line":44,"column":12},"end":{"line":44,"column":36}},"26":{"start":{"line":45,"column":12},"end":{"line":45,"column":46}},"27":{"start":{"line":46,"column":12},"end":{"line":46,"column":44}},"28":{"start":{"line":47,"column":12},"end":{"line":47,"column":32}},"29":{"start":{"line":48,"column":12},"end":{"line":48,"column":26}},"30":{"start":{"line":52,"column":10},"end":{"line":52,"column":33}},"31":{"start":{"line":56,"column":2},"end":{"line":56,"column":48}}},"fnMap":{"0":{"name":"verifVendorJWT","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":23}},"loc":{"start":{"line":15,"column":38},"end":{"line":17,"column":1}},"line":15},"1":{"name":"_verifVendorJWT","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":27},"end":{"line":57,"column":1}},"line":18},"2":{"name":"_callee","decl":{"start":{"line":19,"column":107},"end":{"line":19,"column":114}},"loc":{"start":{"line":19,"column":131},"end":{"line":55,"column":3}},"line":19},"3":{"name":"_callee$","decl":{"start":{"line":21,"column":49},"end":{"line":21,"column":57}},"loc":{"start":{"line":21,"column":68},"end":{"line":54,"column":5}},"line":21},"4":{"name":"(anonymous_4)","decl":{"start":{"line":37,"column":82},"end":{"line":37,"column":83}},"loc":{"start":{"line":37,"column":106},"end":{"line":49,"column":11}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":22,"column":16},"end":{"line":53,"column":7}},"type":"switch","locations":[{"start":{"line":23,"column":8},"end":{"line":31,"column":14}},{"start":{"line":32,"column":8},"end":{"line":34,"column":42}},{"start":{"line":35,"column":8},"end":{"line":49,"column":13}},{"start":{"line":50,"column":8},"end":{"line":50,"column":15}},{"start":{"line":51,"column":8},"end":{"line":52,"column":33}}],"line":22},"1":{"loc":{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},"type":"if","locations":[{"start":{"line":25,"column":10},"end":{"line":28,"column":11}},{"start":{"line":25,"column":10},"end":{"line":28,"column":11}}],"line":25},"2":{"loc":{"start":{"line":38,"column":12},"end":{"line":42,"column":13}},"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":42,"column":13}},{"start":{"line":38,"column":12},"end":{"line":42,"column":13}}],"line":38}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":2,"12":3,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1},"f":{"0":1,"1":1,"2":1,"3":2,"4":1},"b":{"0":[1,1,1,1,1],"1":[1,0],"2":[0,1]},"inputSourceMap":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","dotenv","config","verifVendorJWT","_x","_x2","_x3","_verifVendorJWT","apply","arguments","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","authHeader","token","wrap","_callee$","_context","prev","headers","authorization","abrupt","status","json","message","t","split","sent","jwt","verify","process","env","ACCESS_TOKEN_SECRET","err","decoded","email","role","firstName","lastName","id","stop"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/","sources":["verifyJWT.js"],"sourcesContent":["/* eslint-disable consistent-return */\nimport jwt from 'jsonwebtoken';\nimport dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default async function verifVendorJWT(req, res, next) {\n  const authHeader = req.headers.authorization;\n  if (!authHeader) {\n    return res.status(401).json({ message: req.t('not_logged_in') });\n  }\n  const token = await authHeader.split(' ')[1];\n  jwt.verify(token, process.env.ACCESS_TOKEN_SECRET, (err, decoded) => {\n    if (err) {\n      return res.status(403).json({ message: req.t('invalid_token') });\n    }\n    req.email = decoded.email;\n    req.role = decoded.role;\n    req.firstName = decoded.firstName;\n    req.lastName = decoded.lastName;\n    req.id = decoded.id;\n    return next();\n  });\n}\n"],"mappings":";;;;;;;;;AACA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAFA;;AAIAE,kBAAM,CAACC,MAAM,EAAE;AAAC,SAEcC,cAAcA,CAAAC,EAAA,EAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAAA,SAAAF,gBAAA;EAAAA,eAAA,OAAAG,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAA7B,SAAAC,QAA8BC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,UAAA,EAAAC,KAAA;IAAA,OAAAP,YAAA,YAAAQ,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAL,IAAA;QAAA;UACnDC,UAAU,GAAGH,GAAG,CAACS,OAAO,CAACC,aAAa;UAAA,IACvCP,UAAU;YAAAI,QAAA,CAAAL,IAAA;YAAA;UAAA;UAAA,OAAAK,QAAA,CAAAI,MAAA,WACNV,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;YAAEC,OAAO,EAAEd,GAAG,CAACe,CAAC,CAAC,eAAe;UAAE,CAAC,CAAC;QAAA;UAAAR,QAAA,CAAAL,IAAA;UAAA,OAE9CC,UAAU,CAACa,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAAA;UAAtCZ,KAAK,GAAAG,QAAA,CAAAU,IAAA;UACXC,wBAAG,CAACC,MAAM,CAACf,KAAK,EAAEgB,OAAO,CAACC,GAAG,CAACC,mBAAmB,EAAE,UAACC,GAAG,EAAEC,OAAO,EAAK;YACnE,IAAID,GAAG,EAAE;cACP,OAAOtB,GAAG,CAACW,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;gBAAEC,OAAO,EAAEd,GAAG,CAACe,CAAC,CAAC,eAAe;cAAE,CAAC,CAAC;YAClE;YACAf,GAAG,CAACyB,KAAK,GAAGD,OAAO,CAACC,KAAK;YACzBzB,GAAG,CAAC0B,IAAI,GAAGF,OAAO,CAACE,IAAI;YACvB1B,GAAG,CAAC2B,SAAS,GAAGH,OAAO,CAACG,SAAS;YACjC3B,GAAG,CAAC4B,QAAQ,GAAGJ,OAAO,CAACI,QAAQ;YAC/B5B,GAAG,CAAC6B,EAAE,GAAGL,OAAO,CAACK,EAAE;YACnB,OAAO3B,IAAI,EAAE;UACf,CAAC,CAAC;QAAC;QAAA;UAAA,OAAAK,QAAA,CAAAuB,IAAA;MAAA;IAAA,GAAA/B,OAAA;EAAA,CACJ;EAAA,OAAAN,eAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ee5165ed91b7d37b6059726f08ffaf5eff7b855e","contentHash":"e0b84702bb084dfc217fae963cd8924cdbb852b9d309a9032ec688ca812e14b9"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/newUser.validation.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/newUser.validation.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"6":{"start":{"line":11,"column":17},"end":{"line":22,"column":2}},"7":{"start":{"line":23,"column":37},"end":{"line":55,"column":3}},"8":{"start":{"line":24,"column":13},"end":{"line":51,"column":5}},"9":{"start":{"line":26,"column":4},"end":{"line":50,"column":16}},"10":{"start":{"line":27,"column":6},"end":{"line":49,"column":7}},"11":{"start":{"line":27,"column":16},"end":{"line":49,"column":7}},"12":{"start":{"line":29,"column":10},"end":{"line":31,"column":49}},"13":{"start":{"line":32,"column":10},"end":{"line":45,"column":11}},"14":{"start":{"line":33,"column":12},"end":{"line":38,"column":15}},"15":{"start":{"line":34,"column":14},"end":{"line":37,"column":16}},"16":{"start":{"line":39,"column":12},"end":{"line":42,"column":15}},"17":{"start":{"line":44,"column":12},"end":{"line":44,"column":19}},"18":{"start":{"line":48,"column":10},"end":{"line":48,"column":33}},"19":{"start":{"line":52,"column":2},"end":{"line":54,"column":4}},"20":{"start":{"line":53,"column":4},"end":{"line":53,"column":39}},"21":{"start":{"line":56,"column":15},"end":{"line":56,"column":32}},"22":{"start":{"line":57,"column":0},"end":{"line":57,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":23,"column":37},"end":{"line":23,"column":38}},"loc":{"start":{"line":23,"column":49},"end":{"line":55,"column":1}},"line":23},"1":{"name":"_callee","decl":{"start":{"line":24,"column":100},"end":{"line":24,"column":107}},"loc":{"start":{"line":24,"column":124},"end":{"line":51,"column":3}},"line":24},"2":{"name":"_callee$","decl":{"start":{"line":26,"column":49},"end":{"line":26,"column":57}},"loc":{"start":{"line":26,"column":68},"end":{"line":50,"column":5}},"line":26},"3":{"name":"(anonymous_3)","decl":{"start":{"line":33,"column":45},"end":{"line":33,"column":46}},"loc":{"start":{"line":33,"column":60},"end":{"line":38,"column":13}},"line":33},"4":{"name":"newUserValidation","decl":{"start":{"line":52,"column":18},"end":{"line":52,"column":35}},"loc":{"start":{"line":52,"column":50},"end":{"line":54,"column":3}},"line":52}},"branchMap":{"0":{"loc":{"start":{"line":27,"column":16},"end":{"line":49,"column":7}},"type":"switch","locations":[{"start":{"line":28,"column":8},"end":{"line":45,"column":11}},{"start":{"line":46,"column":8},"end":{"line":46,"column":15}},{"start":{"line":47,"column":8},"end":{"line":48,"column":33}}],"line":27},"1":{"loc":{"start":{"line":32,"column":10},"end":{"line":45,"column":11}},"type":"if","locations":[{"start":{"line":32,"column":10},"end":{"line":45,"column":11}},{"start":{"line":32,"column":10},"end":{"line":45,"column":11}}],"line":32}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0,0],"1":[0,0]},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","validation","Joi","object","name","string","email","gender","phone","birthdate","date","preferred_language","preferred_currency","billingAddress","array","items","roleId","number","integer","password","newUserValidation","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","_validation$validate","error","errorDetails","wrap","_callee$","_context","prev","validate","body","abortEarly","details","map","err","field","path","message","status","send","errors","stop","_x","_x2","_x3","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/","sources":["newUser.validation.js"],"sourcesContent":["import Joi from 'joi';\n\nconst validation = Joi.object({\n  name: Joi.string(),\n  email: Joi.string().email(),\n  gender: Joi.string(),\n  phone: Joi.string(),\n  birthdate: Joi.date(),\n  preferred_language: Joi.string(),\n  preferred_currency: Joi.string(),\n  billingAddress: Joi.array().items(Joi.string()),\n  roleId: Joi.number().integer(),\n  password: Joi.string(),\n});\n\nconst newUserValidation = async (req, res, next) => {\n  const { error } = validation.validate(req.body, { abortEarly: false });\n  if (error) {\n    const errorDetails = error.details.map((err) => ({\n      field: err.path[0],\n      message: err.message,\n    }));\n    res.status(422).send({ status: 422, errors: errorDetails });\n  } else {\n    next();\n  }\n};\nexport default newUserValidation;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAMC,UAAU,GAAGC,eAAG,CAACC,MAAM,CAAC;EAC5BC,IAAI,EAAEF,eAAG,CAACG,MAAM,EAAE;EAClBC,KAAK,EAAEJ,eAAG,CAACG,MAAM,EAAE,CAACC,KAAK,EAAE;EAC3BC,MAAM,EAAEL,eAAG,CAACG,MAAM,EAAE;EACpBG,KAAK,EAAEN,eAAG,CAACG,MAAM,EAAE;EACnBI,SAAS,EAAEP,eAAG,CAACQ,IAAI,EAAE;EACrBC,kBAAkB,EAAET,eAAG,CAACG,MAAM,EAAE;EAChCO,kBAAkB,EAAEV,eAAG,CAACG,MAAM,EAAE;EAChCQ,cAAc,EAAEX,eAAG,CAACY,KAAK,EAAE,CAACC,KAAK,CAACb,eAAG,CAACG,MAAM,EAAE,CAAC;EAC/CW,MAAM,EAAEd,eAAG,CAACe,MAAM,EAAE,CAACC,OAAO,EAAE;EAC9BC,QAAQ,EAAEjB,eAAG,CAACG,MAAM;AACtB,CAAC,CAAC;AAEF,IAAMe,iBAAiB;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,oBAAA,EAAAC,KAAA,EAAAC,YAAA;IAAA,OAAAR,YAAA,YAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAN,IAAA;QAAA;UAAAC,oBAAA,GAC3B5B,UAAU,CAACmC,QAAQ,CAACV,GAAG,CAACW,IAAI,EAAE;YAAEC,UAAU,EAAE;UAAM,CAAC,CAAC,EAA9DR,KAAK,GAAAD,oBAAA,CAALC,KAAK;UACb,IAAIA,KAAK,EAAE;YACHC,YAAY,GAAGD,KAAK,CAACS,OAAO,CAACC,GAAG,CAAC,UAACC,GAAG;cAAA,OAAM;gBAC/CC,KAAK,EAAED,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC;gBAClBC,OAAO,EAAEH,GAAG,CAACG;cACf,CAAC;YAAA,CAAC,CAAC;YACHjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;cAAED,MAAM,EAAE,GAAG;cAAEE,MAAM,EAAEhB;YAAa,CAAC,CAAC;UAC7D,CAAC,MAAM;YACLH,IAAI,EAAE;UACR;QAAC;QAAA;UAAA,OAAAM,QAAA,CAAAc,IAAA;MAAA;IAAA,GAAAvB,OAAA;EAAA,CACF;EAAA,gBAXKL,iBAAiBA,CAAA6B,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA9B,IAAA,CAAA+B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAWtB;AAAC,IAAAC,QAAA,GACalC,iBAAiB;AAAAmC,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5b219d9c8950902bf5c87ed32ca2b827998a8c3c","contentHash":"dc875dd48313c47e0bd0fbdc3ed55eb0ba10f971eff5c1cb8f57c52cefbecdbb"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/search/productController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/search/productController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":23},"end":{"line":9,"column":95}},"5":{"start":{"line":10,"column":25},"end":{"line":10,"column":99}},"6":{"start":{"line":11,"column":17},"end":{"line":11,"column":37}},"7":{"start":{"line":12,"column":14},"end":{"line":12,"column":46}},"8":{"start":{"line":13,"column":34},"end":{"line":132,"column":3}},"9":{"start":{"line":14,"column":13},"end":{"line":128,"column":5}},"10":{"start":{"line":16,"column":4},"end":{"line":127,"column":33}},"11":{"start":{"line":17,"column":6},"end":{"line":126,"column":7}},"12":{"start":{"line":17,"column":16},"end":{"line":126,"column":7}},"13":{"start":{"line":19,"column":10},"end":{"line":19,"column":141}},"14":{"start":{"line":20,"column":10},"end":{"line":20,"column":28}},"15":{"start":{"line":21,"column":10},"end":{"line":24,"column":11}},"16":{"start":{"line":22,"column":12},"end":{"line":22,"column":30}},"17":{"start":{"line":23,"column":12},"end":{"line":23,"column":18}},"18":{"start":{"line":25,"column":10},"end":{"line":25,"column":28}},"19":{"start":{"line":26,"column":10},"end":{"line":28,"column":13}},"20":{"start":{"line":30,"column":10},"end":{"line":30,"column":35}},"21":{"start":{"line":31,"column":10},"end":{"line":37,"column":11}},"22":{"start":{"line":32,"column":12},"end":{"line":32,"column":31}},"23":{"start":{"line":34,"column":12},"end":{"line":36,"column":15}},"24":{"start":{"line":38,"column":10},"end":{"line":38,"column":29}},"25":{"start":{"line":39,"column":10},"end":{"line":39,"column":16}},"26":{"start":{"line":41,"column":10},"end":{"line":44,"column":11}},"27":{"start":{"line":42,"column":12},"end":{"line":42,"column":31}},"28":{"start":{"line":43,"column":12},"end":{"line":43,"column":18}},"29":{"start":{"line":45,"column":10},"end":{"line":45,"column":29}},"30":{"start":{"line":46,"column":10},"end":{"line":51,"column":13}},"31":{"start":{"line":53,"column":10},"end":{"line":53,"column":35}},"32":{"start":{"line":54,"column":10},"end":{"line":60,"column":11}},"33":{"start":{"line":55,"column":12},"end":{"line":55,"column":31}},"34":{"start":{"line":57,"column":12},"end":{"line":59,"column":15}},"35":{"start":{"line":61,"column":10},"end":{"line":61,"column":29}},"36":{"start":{"line":62,"column":10},"end":{"line":62,"column":16}},"37":{"start":{"line":64,"column":10},"end":{"line":67,"column":11}},"38":{"start":{"line":65,"column":12},"end":{"line":65,"column":31}},"39":{"start":{"line":66,"column":12},"end":{"line":66,"column":18}},"40":{"start":{"line":68,"column":10},"end":{"line":68,"column":29}},"41":{"start":{"line":69,"column":10},"end":{"line":74,"column":13}},"42":{"start":{"line":76,"column":10},"end":{"line":76,"column":35}},"43":{"start":{"line":77,"column":10},"end":{"line":83,"column":11}},"44":{"start":{"line":78,"column":12},"end":{"line":78,"column":31}},"45":{"start":{"line":80,"column":12},"end":{"line":82,"column":15}},"46":{"start":{"line":84,"column":10},"end":{"line":84,"column":29}},"47":{"start":{"line":85,"column":10},"end":{"line":85,"column":16}},"48":{"start":{"line":87,"column":10},"end":{"line":90,"column":11}},"49":{"start":{"line":88,"column":12},"end":{"line":88,"column":31}},"50":{"start":{"line":89,"column":12},"end":{"line":89,"column":18}},"51":{"start":{"line":91,"column":10},"end":{"line":91,"column":29}},"52":{"start":{"line":92,"column":10},"end":{"line":97,"column":13}},"53":{"start":{"line":99,"column":10},"end":{"line":99,"column":35}},"54":{"start":{"line":100,"column":10},"end":{"line":106,"column":11}},"55":{"start":{"line":101,"column":12},"end":{"line":101,"column":31}},"56":{"start":{"line":103,"column":12},"end":{"line":105,"column":15}},"57":{"start":{"line":107,"column":10},"end":{"line":107,"column":29}},"58":{"start":{"line":108,"column":10},"end":{"line":108,"column":16}},"59":{"start":{"line":110,"column":10},"end":{"line":112,"column":13}},"60":{"start":{"line":114,"column":10},"end":{"line":114,"column":29}},"61":{"start":{"line":115,"column":10},"end":{"line":115,"column":16}},"62":{"start":{"line":117,"column":10},"end":{"line":117,"column":29}},"63":{"start":{"line":118,"column":10},"end":{"line":118,"column":45}},"64":{"start":{"line":119,"column":10},"end":{"line":119,"column":37}},"65":{"start":{"line":120,"column":10},"end":{"line":122,"column":13}},"66":{"start":{"line":125,"column":10},"end":{"line":125,"column":33}},"67":{"start":{"line":129,"column":2},"end":{"line":131,"column":4}},"68":{"start":{"line":130,"column":4},"end":{"line":130,"column":39}},"69":{"start":{"line":133,"column":15},"end":{"line":133,"column":29}},"70":{"start":{"line":134,"column":0},"end":{"line":134,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":13,"column":34},"end":{"line":13,"column":35}},"loc":{"start":{"line":13,"column":46},"end":{"line":132,"column":1}},"line":13},"1":{"name":"_callee","decl":{"start":{"line":14,"column":100},"end":{"line":14,"column":107}},"loc":{"start":{"line":14,"column":118},"end":{"line":128,"column":3}},"line":14},"2":{"name":"_callee$","decl":{"start":{"line":16,"column":49},"end":{"line":16,"column":57}},"loc":{"start":{"line":16,"column":68},"end":{"line":127,"column":5}},"line":16},"3":{"name":"searchProducts","decl":{"start":{"line":129,"column":18},"end":{"line":129,"column":32}},"loc":{"start":{"line":129,"column":42},"end":{"line":131,"column":3}},"line":129}},"branchMap":{"0":{"loc":{"start":{"line":17,"column":16},"end":{"line":126,"column":7}},"type":"switch","locations":[{"start":{"line":18,"column":8},"end":{"line":28,"column":13}},{"start":{"line":29,"column":8},"end":{"line":39,"column":16}},{"start":{"line":40,"column":8},"end":{"line":51,"column":13}},{"start":{"line":52,"column":8},"end":{"line":62,"column":16}},{"start":{"line":63,"column":8},"end":{"line":74,"column":13}},{"start":{"line":75,"column":8},"end":{"line":85,"column":16}},{"start":{"line":86,"column":8},"end":{"line":97,"column":13}},{"start":{"line":98,"column":8},"end":{"line":108,"column":16}},{"start":{"line":109,"column":8},"end":{"line":112,"column":13}},{"start":{"line":113,"column":8},"end":{"line":115,"column":16}},{"start":{"line":116,"column":8},"end":{"line":122,"column":13}},{"start":{"line":123,"column":8},"end":{"line":123,"column":16}},{"start":{"line":124,"column":8},"end":{"line":125,"column":33}}],"line":17},"1":{"loc":{"start":{"line":21,"column":10},"end":{"line":24,"column":11}},"type":"if","locations":[{"start":{"line":21,"column":10},"end":{"line":24,"column":11}},{"start":{"line":21,"column":10},"end":{"line":24,"column":11}}],"line":21},"2":{"loc":{"start":{"line":21,"column":16},"end":{"line":21,"column":39}},"type":"binary-expr","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":18}},{"start":{"line":21,"column":22},"end":{"line":21,"column":39}}],"line":21},"3":{"loc":{"start":{"line":31,"column":10},"end":{"line":37,"column":11}},"type":"if","locations":[{"start":{"line":31,"column":10},"end":{"line":37,"column":11}},{"start":{"line":31,"column":10},"end":{"line":37,"column":11}}],"line":31},"4":{"loc":{"start":{"line":41,"column":10},"end":{"line":44,"column":11}},"type":"if","locations":[{"start":{"line":41,"column":10},"end":{"line":44,"column":11}},{"start":{"line":41,"column":10},"end":{"line":44,"column":11}}],"line":41},"5":{"loc":{"start":{"line":54,"column":10},"end":{"line":60,"column":11}},"type":"if","locations":[{"start":{"line":54,"column":10},"end":{"line":60,"column":11}},{"start":{"line":54,"column":10},"end":{"line":60,"column":11}}],"line":54},"6":{"loc":{"start":{"line":64,"column":10},"end":{"line":67,"column":11}},"type":"if","locations":[{"start":{"line":64,"column":10},"end":{"line":67,"column":11}},{"start":{"line":64,"column":10},"end":{"line":67,"column":11}}],"line":64},"7":{"loc":{"start":{"line":77,"column":10},"end":{"line":83,"column":11}},"type":"if","locations":[{"start":{"line":77,"column":10},"end":{"line":83,"column":11}},{"start":{"line":77,"column":10},"end":{"line":83,"column":11}}],"line":77},"8":{"loc":{"start":{"line":87,"column":10},"end":{"line":90,"column":11}},"type":"if","locations":[{"start":{"line":87,"column":10},"end":{"line":90,"column":11}},{"start":{"line":87,"column":10},"end":{"line":90,"column":11}}],"line":87},"9":{"loc":{"start":{"line":100,"column":10},"end":{"line":106,"column":11}},"type":"if","locations":[{"start":{"line":100,"column":10},"end":{"line":106,"column":11}},{"start":{"line":100,"column":10},"end":{"line":106,"column":11}}],"line":100}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":1,"70":1},"f":{"0":1,"1":0,"2":0,"3":0},"b":{"0":[0,0,0,0,0,0,0,0,0,0,0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"names":["_sequelize","require","_models","searchProducts","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","_req$query","name","description","price","id","products","wrap","_callee$","_context","prev","next","query","Number","isNaN","product","findByPk","attributes","sent","json","message","findAll","where","_defineProperty2","Op","iLike","concat","length","t0","console","error","status","stop","_x","_x2","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/search/","sources":["productController.js"],"sourcesContent":["import { Op } from \"sequelize\";\nimport { product } from \"../../database/models\";\n\nconst searchProducts = async (req, res) => {\n  const { name, description, price, id } = req.query;\n  try {\n    let products;\n    if (id && !Number.isNaN(id)) {\n      products = await product.findByPk(id, {\n        attributes: [\"name\", \"price\", \"category_id\", \"description\"],\n      });\n      if (products) {\n        res.json(products);\n      } else {\n        res.json({ message: \"Product not found\" });\n      }\n    } else if (name) {\n      products = await product.findAll({\n        where: {\n          name: { [Op.iLike]: `%${name}%` },\n        },\n        attributes: [\"name\", \"price\", \"category_id\", \"description\"],\n      });\n      if (products.length > 0) {\n        res.json(products);\n      } else {\n        res.json({ message: \"Product not found\" });\n      }\n    } else if (description) {\n      products = await product.findAll({\n        where: {\n          description: { [Op.iLike]: `%${description}%` },\n        },\n        attributes: [\"name\", \"price\", \"category_id\", \"description\"],\n      });\n      if (products.length > 0) {\n        res.json(products);\n      } else {\n        res.json({ message: \"Product not found\" });\n      }\n    } else if (price) {\n      products = await product.findAll({\n        where: {\n          price: { [Op.iLike]: `%${price}%` },\n        },\n        attributes: [\"name\", \"price\", \"category_id\", \"description\"],\n      });\n      if (products.length > 0) {\n        res.json(products);\n      } else {\n        res.json({ message: \"Product not found\" });\n      }\n    } else {\n      res.json({ message: \"Product not found\"});\n    }\n  } catch (err) {\n    console.error(err);\n    res.status(500).json({ error: \"Internal Server Error\" });\n  }\n};\n\nexport default searchProducts;\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAEA,IAAME,cAAc;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG;IAAA,IAAAC,UAAA,EAAAC,IAAA,EAAAC,WAAA,EAAAC,KAAA,EAAAC,EAAA,EAAAC,QAAA;IAAA,OAAAV,YAAA,YAAAW,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAV,UAAA,GACKF,GAAG,CAACa,KAAK,EAA1CV,IAAI,GAAAD,UAAA,CAAJC,IAAI,EAAEC,WAAW,GAAAF,UAAA,CAAXE,WAAW,EAAEC,KAAK,GAAAH,UAAA,CAALG,KAAK,EAAEC,EAAE,GAAAJ,UAAA,CAAFI,EAAE;UAAAI,QAAA,CAAAC,IAAA;UAAA,MAG9BL,EAAE,IAAI,CAACQ,MAAM,CAACC,KAAK,CAACT,EAAE,CAAC;YAAAI,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OACRI,eAAO,CAACC,QAAQ,CAACX,EAAE,EAAE;YACpCY,UAAU,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,aAAa;UAC5D,CAAC,CAAC;QAAA;UAFFX,QAAQ,GAAAG,QAAA,CAAAS,IAAA;UAGR,IAAIZ,QAAQ,EAAE;YACZN,GAAG,CAACmB,IAAI,CAACb,QAAQ,CAAC;UACpB,CAAC,MAAM;YACLN,GAAG,CAACmB,IAAI,CAAC;cAAEC,OAAO,EAAE;YAAoB,CAAC,CAAC;UAC5C;UAACX,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAA,KACQT,IAAI;YAAAO,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OACII,eAAO,CAACM,OAAO,CAAC;YAC/BC,KAAK,EAAE;cACLpB,IAAI,MAAAqB,gBAAA,iBAAKC,aAAE,CAACC,KAAK,MAAAC,MAAA,CAAOxB,IAAI;YAC9B,CAAC;YACDe,UAAU,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,aAAa;UAC5D,CAAC,CAAC;QAAA;UALFX,QAAQ,GAAAG,QAAA,CAAAS,IAAA;UAMR,IAAIZ,QAAQ,CAACqB,MAAM,GAAG,CAAC,EAAE;YACvB3B,GAAG,CAACmB,IAAI,CAACb,QAAQ,CAAC;UACpB,CAAC,MAAM;YACLN,GAAG,CAACmB,IAAI,CAAC;cAAEC,OAAO,EAAE;YAAoB,CAAC,CAAC;UAC5C;UAACX,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAA,KACQR,WAAW;YAAAM,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OACHI,eAAO,CAACM,OAAO,CAAC;YAC/BC,KAAK,EAAE;cACLnB,WAAW,MAAAoB,gBAAA,iBAAKC,aAAE,CAACC,KAAK,MAAAC,MAAA,CAAOvB,WAAW;YAC5C,CAAC;YACDc,UAAU,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,aAAa;UAC5D,CAAC,CAAC;QAAA;UALFX,QAAQ,GAAAG,QAAA,CAAAS,IAAA;UAMR,IAAIZ,QAAQ,CAACqB,MAAM,GAAG,CAAC,EAAE;YACvB3B,GAAG,CAACmB,IAAI,CAACb,QAAQ,CAAC;UACpB,CAAC,MAAM;YACLN,GAAG,CAACmB,IAAI,CAAC;cAAEC,OAAO,EAAE;YAAoB,CAAC,CAAC;UAC5C;UAACX,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAA,KACQP,KAAK;YAAAK,QAAA,CAAAE,IAAA;YAAA;UAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OACGI,eAAO,CAACM,OAAO,CAAC;YAC/BC,KAAK,EAAE;cACLlB,KAAK,MAAAmB,gBAAA,iBAAKC,aAAE,CAACC,KAAK,MAAAC,MAAA,CAAOtB,KAAK;YAChC,CAAC;YACDa,UAAU,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,aAAa,EAAE,aAAa;UAC5D,CAAC,CAAC;QAAA;UALFX,QAAQ,GAAAG,QAAA,CAAAS,IAAA;UAMR,IAAIZ,QAAQ,CAACqB,MAAM,GAAG,CAAC,EAAE;YACvB3B,GAAG,CAACmB,IAAI,CAACb,QAAQ,CAAC;UACpB,CAAC,MAAM;YACLN,GAAG,CAACmB,IAAI,CAAC;cAAEC,OAAO,EAAE;YAAoB,CAAC,CAAC;UAC5C;UAACX,QAAA,CAAAE,IAAA;UAAA;QAAA;UAEDX,GAAG,CAACmB,IAAI,CAAC;YAAEC,OAAO,EAAE;UAAmB,CAAC,CAAC;QAAC;UAAAX,QAAA,CAAAE,IAAA;UAAA;QAAA;UAAAF,QAAA,CAAAC,IAAA;UAAAD,QAAA,CAAAmB,EAAA,GAAAnB,QAAA;UAG5CoB,OAAO,CAACC,KAAK,CAAArB,QAAA,CAAAmB,EAAA,CAAK;UAClB5B,GAAG,CAAC+B,MAAM,CAAC,GAAG,CAAC,CAACZ,IAAI,CAAC;YAAEW,KAAK,EAAE;UAAwB,CAAC,CAAC;QAAC;QAAA;UAAA,OAAArB,QAAA,CAAAuB,IAAA;MAAA;IAAA,GAAAlC,OAAA;EAAA,CAE5D;EAAA,gBAxDKL,cAAcA,CAAAwC,EAAA,EAAAC,GAAA;IAAA,OAAAxC,IAAA,CAAAyC,KAAA,OAAAC,SAAA;EAAA;AAAA,GAwDnB;AAAC,IAAAC,QAAA,GAEa5C,cAAc;AAAA6C,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"76204f5c87c817510a2e2c9f15f741f48e90f62d","contentHash":"c86d4d7dd8304f5a4bd5371f780e2febfbf6e6ffde257bfcd830a9f040ea424f"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/wishListRouter.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/wishListRouter.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":15},"end":{"line":8,"column":57}},"4":{"start":{"line":9,"column":26},"end":{"line":9,"column":94}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":41}},"6":{"start":{"line":11,"column":16},"end":{"line":11,"column":83}},"7":{"start":{"line":12,"column":21},"end":{"line":12,"column":49}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":163}},"9":{"start":{"line":14,"column":15},"end":{"line":14,"column":29}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{},"b":{},"inputSourceMap":{"version":3,"names":["_express","_interopRequireDefault","require","_wishListController","_role","_wishlist","wishListRouter","express","Router","route","get","isBuyer","wishListController","index","post","wishlistValidator","store","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/routes/","sources":["wishListRouter.js"],"sourcesContent":["import express from 'express';\nimport wishListController from '../controllers/wishListController';\nimport { isBuyer } from '../middleware/role';\nimport wishlistValidator from '../middleware/wishlist.validator';\n\nconst wishListRouter = express.Router();\n\nwishListRouter\n  .route('/')\n  .get(isBuyer, wishListController.index)\n  .post(isBuyer, wishlistValidator, wishListController.store);\n\nexport default wishListRouter;\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAMI,cAAc,GAAGC,mBAAO,CAACC,MAAM,EAAE;AAEvCF,cAAc,CACXG,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAACC,aAAO,EAAEC,8BAAkB,CAACC,KAAK,CAAC,CACtCC,IAAI,CAACH,aAAO,EAAEI,oBAAiB,EAAEH,8BAAkB,CAACI,KAAK,CAAC;AAAC,IAAAC,QAAA,GAE/CX,cAAc;AAAAY,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6fbcda4dc79787a0ad06decf20bf1b09cc8ed963","contentHash":"d80efbb97c9a1134cc83502df9a723ca9dd2efdb2b4f0960ab52b6e04cc96406"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/wishListController.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/wishListController.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":14},"end":{"line":10,"column":43}},"6":{"start":{"line":11,"column":12},"end":{"line":31,"column":1}},"7":{"start":{"line":12,"column":15},"end":{"line":12,"column":30}},"8":{"start":{"line":13,"column":2},"end":{"line":30,"column":5}},"9":{"start":{"line":19,"column":4},"end":{"line":23,"column":7}},"10":{"start":{"line":25,"column":4},"end":{"line":29,"column":7}},"11":{"start":{"line":32,"column":25},"end":{"line":88,"column":3}},"12":{"start":{"line":33,"column":13},"end":{"line":84,"column":5}},"13":{"start":{"line":35,"column":4},"end":{"line":83,"column":33}},"14":{"start":{"line":36,"column":6},"end":{"line":82,"column":7}},"15":{"start":{"line":36,"column":16},"end":{"line":82,"column":7}},"16":{"start":{"line":38,"column":10},"end":{"line":38,"column":91}},"17":{"start":{"line":39,"column":10},"end":{"line":39,"column":28}},"18":{"start":{"line":40,"column":10},"end":{"line":40,"column":28}},"19":{"start":{"line":41,"column":10},"end":{"line":46,"column":13}},"20":{"start":{"line":48,"column":10},"end":{"line":48,"column":33}},"21":{"start":{"line":49,"column":10},"end":{"line":52,"column":11}},"22":{"start":{"line":50,"column":12},"end":{"line":50,"column":31}},"23":{"start":{"line":51,"column":12},"end":{"line":51,"column":18}},"24":{"start":{"line":53,"column":10},"end":{"line":53,"column":28}},"25":{"start":{"line":54,"column":10},"end":{"line":57,"column":13}},"26":{"start":{"line":59,"column":10},"end":{"line":59,"column":31}},"27":{"start":{"line":60,"column":10},"end":{"line":64,"column":14}},"28":{"start":{"line":66,"column":10},"end":{"line":70,"column":14}},"29":{"start":{"line":72,"column":10},"end":{"line":72,"column":29}},"30":{"start":{"line":73,"column":10},"end":{"line":73,"column":45}},"31":{"start":{"line":74,"column":10},"end":{"line":78,"column":14}},"32":{"start":{"line":81,"column":10},"end":{"line":81,"column":33}},"33":{"start":{"line":85,"column":2},"end":{"line":87,"column":4}},"34":{"start":{"line":86,"column":4},"end":{"line":86,"column":39}},"35":{"start":{"line":89,"column":15},"end":{"line":92,"column":1}},"36":{"start":{"line":93,"column":0},"end":{"line":93,"column":30}}},"fnMap":{"0":{"name":"index","decl":{"start":{"line":11,"column":21},"end":{"line":11,"column":26}},"loc":{"start":{"line":11,"column":37},"end":{"line":31,"column":1}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":18,"column":10},"end":{"line":18,"column":11}},"loc":{"start":{"line":18,"column":26},"end":{"line":24,"column":3}},"line":18},"2":{"name":"(anonymous_2)","decl":{"start":{"line":24,"column":14},"end":{"line":24,"column":15}},"loc":{"start":{"line":24,"column":29},"end":{"line":30,"column":3}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":25},"end":{"line":32,"column":26}},"loc":{"start":{"line":32,"column":37},"end":{"line":88,"column":1}},"line":32},"4":{"name":"_callee","decl":{"start":{"line":33,"column":100},"end":{"line":33,"column":107}},"loc":{"start":{"line":33,"column":118},"end":{"line":84,"column":3}},"line":33},"5":{"name":"_callee$","decl":{"start":{"line":35,"column":49},"end":{"line":35,"column":57}},"loc":{"start":{"line":35,"column":68},"end":{"line":83,"column":5}},"line":35},"6":{"name":"store","decl":{"start":{"line":85,"column":18},"end":{"line":85,"column":23}},"loc":{"start":{"line":85,"column":33},"end":{"line":87,"column":3}},"line":85}},"branchMap":{"0":{"loc":{"start":{"line":36,"column":16},"end":{"line":82,"column":7}},"type":"switch","locations":[{"start":{"line":37,"column":8},"end":{"line":46,"column":13}},{"start":{"line":47,"column":8},"end":{"line":57,"column":13}},{"start":{"line":58,"column":8},"end":{"line":64,"column":14}},{"start":{"line":65,"column":8},"end":{"line":70,"column":14}},{"start":{"line":71,"column":8},"end":{"line":78,"column":14}},{"start":{"line":79,"column":8},"end":{"line":79,"column":16}},{"start":{"line":80,"column":8},"end":{"line":81,"column":33}}],"line":36},"1":{"loc":{"start":{"line":49,"column":10},"end":{"line":52,"column":11}},"type":"if","locations":[{"start":{"line":49,"column":10},"end":{"line":52,"column":11}},{"start":{"line":49,"column":10},"end":{"line":52,"column":11}}],"line":49}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":2,"8":2,"9":0,"10":2,"11":1,"12":1,"13":2,"14":7,"15":8,"16":2,"17":2,"18":2,"19":2,"20":2,"21":2,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":0,"31":0,"32":2,"33":1,"34":2,"35":1,"36":1},"f":{"0":2,"1":0,"2":2,"3":1,"4":2,"5":7,"6":2},"b":{"0":[2,2,1,1,0,0,2],"1":[1,1]},"inputSourceMap":{"version":3,"names":["_models","require","index","req","res","userId","body","wishlist","findAll","include","product","where","then","data","json","status","message","t","err","store","_ref","_asyncToGenerator2","_regenerator","mark","_callee","_req$body","productId","result","wrap","_callee$","_context","prev","next","findOne","sent","create","abrupt","t0","stop","_x","_x2","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/controllers/","sources":["wishListController.js"],"sourcesContent":["import { wishlist, product } from '../database/models';\n\nconst index = (req, res) => {\n  const { userId } = req.body;\n  wishlist\n    .findAll({ include: product, where: { userId } })\n    .then((data) => {\n      res.json({ status: 200, message: req.t('wishlist_fetched'), data });\n    })\n    .catch((err) => {\n      res.json({ status: err.status, message: err.message, data: [] });\n    });\n};\n\nconst store = async (req, res) => {\n  const { productId, userId } = req.body;\n  try {\n    const result = await wishlist.findOne({ where: { userId, productId } });\n    if (!result) {\n      const data = await wishlist.create({ productId, userId });\n      return res.json({ status: 200, message: req.t('product_added'), data });\n    }\n    return res.json({ status: 200, message: req.t('product_already_added'), data: result });\n  } catch (err) {\n    return res.json({ status: err.status, message: err.message, data: [] });\n  }\n};\nexport default { index, store };\n"],"mappings":"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"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"fab3e3661984003aafc9abc6f59e896f4d20c92b","contentHash":"242fbf8e9c48cb92e3bf4d1260600f8f127a6cf40da265f4039506ff1692c693"},"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/wishlist.validator.js":{"path":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/wishlist.validator.js","statementMap":{"0":{"start":{"line":3,"column":29},"end":{"line":3,"column":84}},"1":{"start":{"line":4,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"3":{"start":{"line":8,"column":19},"end":{"line":8,"column":80}},"4":{"start":{"line":9,"column":25},"end":{"line":9,"column":99}},"5":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"6":{"start":{"line":11,"column":17},"end":{"line":14,"column":2}},"7":{"start":{"line":15,"column":37},"end":{"line":47,"column":3}},"8":{"start":{"line":16,"column":13},"end":{"line":43,"column":5}},"9":{"start":{"line":18,"column":4},"end":{"line":42,"column":16}},"10":{"start":{"line":19,"column":6},"end":{"line":41,"column":7}},"11":{"start":{"line":19,"column":16},"end":{"line":41,"column":7}},"12":{"start":{"line":21,"column":10},"end":{"line":23,"column":49}},"13":{"start":{"line":24,"column":10},"end":{"line":37,"column":11}},"14":{"start":{"line":25,"column":12},"end":{"line":30,"column":15}},"15":{"start":{"line":26,"column":14},"end":{"line":29,"column":16}},"16":{"start":{"line":31,"column":12},"end":{"line":34,"column":15}},"17":{"start":{"line":36,"column":12},"end":{"line":36,"column":19}},"18":{"start":{"line":40,"column":10},"end":{"line":40,"column":33}},"19":{"start":{"line":44,"column":2},"end":{"line":46,"column":4}},"20":{"start":{"line":45,"column":4},"end":{"line":45,"column":39}},"21":{"start":{"line":48,"column":15},"end":{"line":48,"column":32}},"22":{"start":{"line":49,"column":0},"end":{"line":49,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":15,"column":37},"end":{"line":15,"column":38}},"loc":{"start":{"line":15,"column":49},"end":{"line":47,"column":1}},"line":15},"1":{"name":"_callee","decl":{"start":{"line":16,"column":100},"end":{"line":16,"column":107}},"loc":{"start":{"line":16,"column":124},"end":{"line":43,"column":3}},"line":16},"2":{"name":"_callee$","decl":{"start":{"line":18,"column":49},"end":{"line":18,"column":57}},"loc":{"start":{"line":18,"column":68},"end":{"line":42,"column":5}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":25,"column":45},"end":{"line":25,"column":46}},"loc":{"start":{"line":25,"column":60},"end":{"line":30,"column":13}},"line":25},"4":{"name":"wishlistValidator","decl":{"start":{"line":44,"column":18},"end":{"line":44,"column":35}},"loc":{"start":{"line":44,"column":50},"end":{"line":46,"column":3}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":19,"column":16},"end":{"line":41,"column":7}},"type":"switch","locations":[{"start":{"line":20,"column":8},"end":{"line":37,"column":11}},{"start":{"line":38,"column":8},"end":{"line":38,"column":15}},{"start":{"line":39,"column":8},"end":{"line":40,"column":33}}],"line":19},"1":{"loc":{"start":{"line":24,"column":10},"end":{"line":37,"column":11}},"type":"if","locations":[{"start":{"line":24,"column":10},"end":{"line":37,"column":11}},{"start":{"line":24,"column":10},"end":{"line":37,"column":11}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":2,"14":0,"15":0,"16":0,"17":2,"18":2,"19":1,"20":2,"21":1,"22":1},"f":{"0":1,"1":2,"2":2,"3":0,"4":2},"b":{"0":[2,2,2],"1":[0,2]},"inputSourceMap":{"version":3,"names":["_joi","_interopRequireDefault","require","validation","Joi","object","userId","number","integer","required","productId","wishlistValidator","_ref","_asyncToGenerator2","_regenerator","mark","_callee","req","res","next","_validation$validate","error","errorDetails","wrap","_callee$","_context","prev","validate","body","abortEarly","details","map","err","field","path","message","status","send","errors","stop","_x","_x2","_x3","apply","arguments","_default","exports"],"sourceRoot":"/Users/andela/Documents/GitHub/ecommerce-app-cogito-bn/src/middleware/","sources":["wishlist.validator.js"],"sourcesContent":["import Joi from 'joi';\n\nconst validation = Joi.object({\n  userId: Joi.number().integer().required(),\n  productId: Joi.number().integer().required(),\n});\n\nconst wishlistValidator = async (req, res, next) => {\n  const { error } = validation.validate(req.body, { abortEarly: false });\n  if (error) {\n    const errorDetails = error.details.map((err) => ({\n      field: err.path[0],\n      message: err.message,\n    }));\n    res.status(422).send({ status: 422, errors: errorDetails });\n  } else {\n    next();\n  }\n};\nexport default wishlistValidator;\n"],"mappings":";;;;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAMC,UAAU,GAAGC,eAAG,CAACC,MAAM,CAAC;EAC5BC,MAAM,EAAEF,eAAG,CAACG,MAAM,EAAE,CAACC,OAAO,EAAE,CAACC,QAAQ,EAAE;EACzCC,SAAS,EAAEN,eAAG,CAACG,MAAM,EAAE,CAACC,OAAO,EAAE,CAACC,QAAQ;AAC5C,CAAC,CAAC;AAEF,IAAME,iBAAiB;EAAA,IAAAC,IAAA,OAAAC,kBAAA,2BAAAC,YAAA,YAAAC,IAAA,CAAG,SAAAC,QAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI;IAAA,IAAAC,oBAAA,EAAAC,KAAA,EAAAC,YAAA;IAAA,OAAAR,YAAA,YAAAS,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAN,IAAA;QAAA;UAAAC,oBAAA,GAC3BjB,UAAU,CAACwB,QAAQ,CAACV,GAAG,CAACW,IAAI,EAAE;YAAEC,UAAU,EAAE;UAAM,CAAC,CAAC,EAA9DR,KAAK,GAAAD,oBAAA,CAALC,KAAK;UACb,IAAIA,KAAK,EAAE;YACHC,YAAY,GAAGD,KAAK,CAACS,OAAO,CAACC,GAAG,CAAC,UAACC,GAAG;cAAA,OAAM;gBAC/CC,KAAK,EAAED,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC;gBAClBC,OAAO,EAAEH,GAAG,CAACG;cACf,CAAC;YAAA,CAAC,CAAC;YACHjB,GAAG,CAACkB,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;cAAED,MAAM,EAAE,GAAG;cAAEE,MAAM,EAAEhB;YAAa,CAAC,CAAC;UAC7D,CAAC,MAAM;YACLH,IAAI,EAAE;UACR;QAAC;QAAA;UAAA,OAAAM,QAAA,CAAAc,IAAA;MAAA;IAAA,GAAAvB,OAAA;EAAA,CACF;EAAA,gBAXKL,iBAAiBA,CAAA6B,EAAA,EAAAC,GAAA,EAAAC,GAAA;IAAA,OAAA9B,IAAA,CAAA+B,KAAA,OAAAC,SAAA;EAAA;AAAA,GAWtB;AAAC,IAAAC,QAAA,GACalC,iBAAiB;AAAAmC,OAAA,cAAAD,QAAA"},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"71d99abdc6f4ceab0aea210cf77ce0ff24191b22","contentHash":"ac7fb9b974fc439dccae4cf0877b42dbf8164d805ff984ce65661d9c2ba1eb4b"}}